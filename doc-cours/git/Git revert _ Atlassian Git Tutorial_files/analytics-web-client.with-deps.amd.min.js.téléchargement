(function (define) { define([],(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var r=n(1);n.d(e,"default",(function(){return r.default}));var i=n(50);n.d(e,"apdexType",(function(){return i.apdexType})),n.d(e,"envType",(function(){return i.envType})),n.d(e,"eventType",(function(){return i.eventType})),n.d(e,"originType",(function(){return i.originType})),n.d(e,"platformType",(function(){return i.platformType})),n.d(e,"tenantType",(function(){return i.tenantType})),n.d(e,"userType",(function(){return i.userType})),n.d(e,"originTracingType",(function(){return i.originTracingType}));var o=n(205);n.d(e,"DwellTimeHelper",(function(){return o.default}));var s=n(207);n.d(e,"DwellTimeHelperWithBrowserInteraction",(function(){return s.default}));var a=n(88);n.d(e,"CompressionRule",(function(){return a.CompressionRule}));var c=n(209);n.d(e,"TypeAheadHelper",(function(){return c.default}))},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return S}));var r=n(2),i=n.n(r),o=n(3),s=n(9),a=n(50),c=n(51),u=n(54),l=n(84),f=n(85),d=n(87),p=n(89),h=n(91),y=n(52),v=n(97),g=n(101),m=n(102),b=n(104),_=n(105),w=n(119),I=n(92),E=n(122);function T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?T(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const j=n(123),C=n(181);class S{constructor(t={},e={}){if(this._useStargate=t=>null==t||t,this._selectHost=({useStargate:t,env:e,useLegacyUrl:n})=>t?n?e===a.envType.PROD?"api-private.atlassian.com/gasv3/api/v1":"api-private.stg.atlassian.com/gasv3/api/v1":window.location.host+"/gateway/api/gasv3/api/v1":e===a.envType.PROD?"as.atlassian.com/api/v1":"as.staging.atl-paas.net/api/v1",this._endsWith=(t,e)=>-1!==t.indexOf(e,t.length-e.length),this._changeInternalUserId=(t,e)=>{this._analytics.user().id()!==t&&this._analytics.user().id(t),e&&this._analytics.user().anonymousId(e)},this._createSubproductGetter=t=>Object(l.default)(t,"Cannot get subproduct from the callback. Proceeding without it."),this._createEmbeddedProductGetter=t=>Object(l.default)(t,"Cannot get embeddedProduct from the callback. Proceeding without it."),this._getLastScreenEvent=()=>{try{return JSON.parse(this._safeSessionStorage.getItem("last.screen.event"))}catch(t){return this._safeSessionStorage.removeItem("last.screen.event"),null}},this._setLastScreenEvent=t=>{this._safeSessionStorage.setItem("last.screen.event",JSON.stringify({name:t.name,attributes:t.attributes}))},this._shouldEventBeDelayed=t=>{if(!t.tags||-1===t.tags.indexOf("measurement"))return!1;const e=!1!==t.highPriority;return this._isDelayingLowPriorityEvents&&!e},this._fireEvent=(t,e,n,r)=>{switch(e.eventType){case a.eventType.UI:case a.eventType.OPERATIONAL:case a.eventType.TRACK:return this._analytics.track(t,e,n,r);case a.eventType.SCREEN:return this._analytics.page(t,e,n,r);case a.eventType.IDENTIFY:return this._analytics.identify(t,e,n,r);default:throw new Error("No handler has been defined for events of type "+e.eventType)}},this._fireDelayedEvent=(t,e,n,r)=>{try{this._changeInternalUserId(r.userId,r.anonymousId),e.tags=[...e.tags||[],"sentWithDelay"],this._fireEvent(t,e,n,void 0)}finally{this._changeInternalUserId(this._userInfo.userId,this._userInfo.anonymousId)}},this._delayEvent=(t,e,n,r,i)=>{this._delayQueue.push(t,e,n,r),i&&i()},this._processEvent=(t,e,n,r)=>{this._testingCache.saveEvent(e),this._shouldEventBeDelayed(e)?this._delayEvent(t,e,n,this._userInfo,r):this._fireEvent(t,e,n,r)},this.setEmbeddedProduct=t=>{this._productInfo.embeddedProduct=this._createEmbeddedProductGetter(t),this.resetUIViewedTimers()},this.clearEmbeddedProduct=()=>{this._productInfo.embeddedProduct=this._createEmbeddedProductGetter(null)},this.setSubproduct=t=>{this._productInfo.subproduct=this._createSubproductGetter(t),this.resetUIViewedTimers()},this.setOriginTracingHandlers=t=>{const e=this.originTracing.handleOriginParameters(t,this._historyReplaceFn);Object.keys(e).forEach(t=>{void 0!==e[t].taskSessionId&&this.task.createTaskSessionWithProvidedId(t,e[t].taskSessionId)});const n={};Object.keys(e).forEach(t=>{e[t].originTracingAttributes?n[t]=e[t].originTracingAttributes:console.warn(`Handling method for origin parameter ${t} has not returned any attributes`)}),Object.keys(e).length>0&&this.sendOperationalEvent({action:"landed",actionSubject:"origin",source:"webClient",attributes:{originTracesLanded:n}},()=>{})},this.setTenantInfo=(t,e)=>{if(!t)throw new Error("Missing tenantIdType");if(t!==a.tenantType.NONE&&!e)throw new Error("Missing tenantId");if(!Object(a.isType)(a.tenantType,t))throw new Error(`Invalid tenantIdType '${t}', must be an tenantType: [${Object(a.objectValues)(a.tenantType)}]`);this._tenantInfo={tenantIdType:t,tenantId:e}},this.clearTenantInfo=()=>{this._tenantInfo={}},this.setOrgInfo=t=>{if(!t)throw new Error("Missing orgId");this._orgInfo={orgId:t}},this.clearOrgInfo=()=>{this._orgInfo={}},this.setUserInfo=(t,e)=>{Object(p.validateIdentifyEvent)(t,e),this._changeInternalUserId(e),this._userInfo={userIdType:t,userId:e,anonymousId:this._analytics.user().anonymousId()}},this.clearUserInfo=()=>{this._changeInternalUserId(null),this._userInfo={anonymousId:this._analytics.user().anonymousId()}},this.setUIViewedAttributes=t=>{if(!t)throw new Error("Missing uiViewedAttributes");if("object"!=typeof t||Array.isArray(t))throw new Error("Invalid uiViewedAttributes type, should be a non array object");this._uiViewedAttributes=O({},t)},this.clearUIViewedAttributes=()=>{this._uiViewedAttributes={}},this.sendIdentifyEvent=(t,e,n)=>{this.setUserInfo(t,e);const r={userIdType:t,eventType:a.eventType.IDENTIFY};this._processEvent(e,r,this._context,n)},this.sendPageEvent=(t,e)=>{this.sendScreenEvent(t,e)},this.sendScreenEvent=(t,e,n)=>{let r,i,o,s;"object"==typeof t?(r=t.name,i=t.attributes,o=t.containers,s=t.tags):(r=t,i=n),Object(p.validateScreenEvent)(r),Object(p.validateContainers)(o);const a=Object(f.buildScreenEvent)(this._productInfo,this._tenantInfo,this._userInfo,i,t.nonPrivacySafeAttributes,s,this._tabTracking.getCurrentTabId(),this._sessionTracking.getCurrentSessionId(),this.task.getAllTaskSessions(),this._orgInfo,o),c=O({name:r},a);this._setLastScreenEvent(c),this._processEvent(r,a,this._context,Object(E.default)(e,c))},this.sendTrackEvent=(t,e)=>{Object(p.validateTrackEvent)(t);const n=Object(f.buildActionEvent)(this._productInfo,this._tenantInfo,this._userInfo,t,a.eventType.TRACK,this._tabTracking.getCurrentTabId(),this._sessionTracking.getCurrentSessionId(),this.task.getAllTaskSessions(),this._orgInfo);this._processEvent(Object(f.buildActionName)(t),n,this._context,Object(E.default)(e,n))},this.sendUIEvent=(t,e)=>{Object(p.validateUIEvent)(t);const n=Object(f.buildActionEvent)(this._productInfo,this._tenantInfo,this._userInfo,t,a.eventType.UI,this._tabTracking.getCurrentTabId(),this._sessionTracking.getCurrentSessionId(),this.task.getAllTaskSessions(),this._orgInfo);this._processEvent(Object(f.buildActionName)(t),n,this._context,Object(E.default)(e,n))},this.sendOperationalEvent=(t,e)=>{Object(p.validateOperationalEvent)(t);const n=Object(f.buildActionEvent)(this._productInfo,this._tenantInfo,this._userInfo,t,a.eventType.OPERATIONAL,this._tabTracking.getCurrentTabId(),this._sessionTracking.getCurrentSessionId(),this.task.getAllTaskSessions(),this._orgInfo);this._processEvent(Object(f.buildActionName)(t),n,this._context,Object(E.default)(e,n))},this.startUIViewedEvent=t=>{this.stopUIViewedEvent(),this._uiViewedEvent=new w.default(this._productInfo,()=>({embeddedProduct:this._productInfo.embeddedProduct(),subproduct:this._productInfo.subproduct(),tenantIdType:this._tenantInfo.tenantIdType,tenantId:this._tenantInfo.tenantId,userId:this._userInfo.userId,lastScreenEvent:this._getLastScreenEvent(),attributes:this._uiViewedAttributes}),e=>this.sendUIEvent(e,t)),this._uiViewedEvent.start()},this.stopUIViewedEvent=()=>{this._uiViewedEvent&&(this._uiViewedEvent.stop(),this._uiViewedEvent=null)},this.resetUIViewedTimers=()=>{this._uiViewedEvent&&this._uiViewedEvent.resetTimers()},this.startApdexEvent=t=>{this._apdexEvent.start(t)},this.getApdexStart=t=>this._apdexEvent.getStart(t),this.stopApdexEvent=(t,e)=>{this._apdexEvent.stop(t,e)},this.startLowPriorityEventDelay=t=>{if(void 0!==t&&(Number.isNaN(t)||t<=0))throw new Error(`Invalid timeout period: ${t}, must be a number greater than 0`);this._delayTimeout&&clearTimeout(this._delayTimeout);const e=t?Math.min(t,1e4):1e4;this._delayTimeout=setTimeout(()=>this.stopLowPriorityEventDelay(),e),this._delayQueue.cancelFlush(),this._isDelayingLowPriorityEvents=!0},this.stopLowPriorityEventDelay=()=>{this._delayTimeout&&(clearTimeout(this._delayTimeout),this._delayTimeout=null),this._delayQueue.startFlush(),this._isDelayingLowPriorityEvents=!1},this.onEvent=(t,e)=>{if(!e)throw new Error("Missing analyticsData");if(!e.eventType)throw new Error("Missing analyticsData.eventType");if(!Object(a.isType)(a.eventType,e.eventType))throw new Error(`Invalid analyticsData.eventType '${e.eventType}', must be an eventType: [${Object(a.objectValues)(a.eventType)}]`);e.eventType===a.eventType.TRACK?this.sendTrackEvent(e):e.eventType===a.eventType.UI?this.sendUIEvent(e):e.eventType===a.eventType.OPERATIONAL?this.sendOperationalEvent(e):e.eventType===a.eventType.SCREEN?this.sendScreenEvent(e.name,null,e.attributes):e.eventType===a.eventType.IDENTIFY&&this.sendIdentifyEvent(e.userIdType,e.userId)},!t)throw new Error("Missing productInfo");if(!t.env)throw new Error("Missing productInfo.env");if(!t.product)throw new Error("Missing productInfo.product");if(!Object(a.isType)(a.envType,t.env))throw new Error(`Invalid productInfo.env '${t.env}', must be an envType: [${Object(a.objectValues)(a.envType)}]`);if(t.origin){if(!Object(a.isType)(a.originType,t.origin))throw new Error(`Invalid productInfo.origin '${t.origin}', must be an originType: [${Object(a.objectValues)(a.originType)}]`)}else t.origin=a.originType.WEB;t.platform?Object(p.validatePlatform)(t):t.platform=t.origin===a.originType.WEB?a.platformType.WEB:a.platformType.DESKTOP,t.embeddedProduct=this._createEmbeddedProductGetter(t.embeddedProduct),t.subproduct=this._createSubproductGetter(t.subproduct);const n=new j;this._productInfo=O({},t),this._tenantInfo={},this._orgInfo={},this._userInfo={anonymousId:n.user().anonymousId()},this._uiViewedAttributes={},this._context=Object(f.buildContext)(this._productInfo),this._safeSessionStorage=new g.default;const r=this._useStargate(e.useStargate),i=e.apiHost||this._selectHost({useStargate:r,env:t.env,useLegacyUrl:e.useLegacyUrl}),T=e.maxRetryAttempts||4,S=e.minRetryDelay||1e3;n.use(u.default),n.use(C),n.init({BeforeSend:{},"Segment.io":{apiKey:e.apiKey||"",apiHost:i,retryQueue:!0,retryQueuePrefix:"awc-"+t.env,addBundledMetadata:!0,unbundledIntegrations:["Amplitude"],retryQueueOptions:{maxRetryDelay:6e4,minRetryDelay:S,backoffFactor:2,maxAttempts:T,maxItems:100},xidPromiseGetter:()=>{if(e.xidConsent){const e=()=>[{type:"xc",state:"TIMEOUT"},{type:"uid",state:"TIMEOUT"}],n=()=>[{type:"xc",state:"UNKNOWN"},{type:"uid",state:"UNKNOWN"}],r=Promise||o.default;return r.race([new s.XID(t.env,5e3).getXidCallbackForPromise().catch(()=>n),new r(t=>{setTimeout(()=>t(e),5e3)})])}}}},{cookie:{secure:"https:"===window.location.protocol},user:{persist:!1,cookie:{},localStorage:{},localStorageFallbackDisabled:!0}}),this._analytics=n,this._pageVisibility=new y.default,this._tabTracking=new m.default,this._sessionTracking=new v.default({sessionExpiryTime:e.sessionExpiryTime}),this.task=new b.default,this.originTracing=new h.default,this._apdexEvent=new c.default(this.sendOperationalEvent,this._pageVisibility),this._historyReplaceFn="function"==typeof e.historyReplaceFn?e.historyReplaceFn:I.defaultHistoryReplaceFn,this._delayQueue=new d.default(this._fireDelayedEvent,e.delayQueueCompressors),this._testingCache=new _.default}}},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){"use strict";n.r(e),function(t){var r=n(8),i=setTimeout;function o(t){return Boolean(t&&void 0!==t.length)}function s(){}function a(t){if(!(this instanceof a))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],p(t,this)}function c(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,a._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void l(e.promise,t)}u(e.promise,r)}else(1===t._state?u:l)(e.promise,t._value)}))):t._deferreds.push(e)}function u(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof a)return t._state=3,t._value=e,void f(t);if("function"==typeof n)return void p((r=n,i=e,function(){r.apply(i,arguments)}),t)}t._state=1,t._value=e,f(t)}catch(e){l(t,e)}var r,i}function l(t,e){t._state=2,t._value=e,f(t)}function f(t){2===t._state&&0===t._deferreds.length&&a._immediateFn((function(){t._handled||a._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)c(t,t._deferreds[e]);t._deferreds=null}function d(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function p(t,e){var n=!1;try{t((function(t){n||(n=!0,u(e,t))}),(function(t){n||(n=!0,l(e,t))}))}catch(t){if(n)return;n=!0,l(e,t)}}a.prototype.catch=function(t){return this.then(null,t)},a.prototype.then=function(t,e){var n=new this.constructor(s);return c(this,new d(t,e,n)),n},a.prototype.finally=r.default,a.all=function(t){return new a((function(e,n){if(!o(t))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var i=r.length;function s(t,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var a=o.then;if("function"==typeof a)return void a.call(o,(function(e){s(t,e)}),n)}r[t]=o,0==--i&&e(r)}catch(t){n(t)}}for(var a=0;a<r.length;a++)s(a,r[a])}))},a.resolve=function(t){return t&&"object"==typeof t&&t.constructor===a?t:new a((function(e){e(t)}))},a.reject=function(t){return new a((function(e,n){n(t)}))},a.race=function(t){return new a((function(e,n){if(!o(t))return n(new TypeError("Promise.race accepts an array"));for(var r=0,i=t.length;r<i;r++)a.resolve(t[r]).then(e,n)}))},a._immediateFn="function"==typeof t&&function(e){t(e)}||function(t){i(t,0)},a._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},e.default=a}.call(this,n(4).setImmediate)},function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(6),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(5))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i,o,s,a,c=1,u={},l=!1,f=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick((function(){h(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){h(t.data)},r=function(t){o.port2.postMessage(t)}):f&&"onreadystatechange"in f.createElement("script")?(i=f.documentElement,r=function(t){var e=f.createElement("script");e.onreadystatechange=function(){h(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):r=function(t){setTimeout(h,0,t)}:(s="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(s)&&h(+e.data.slice(s.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),r=function(e){t.postMessage(s+e,"*")}),d.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return u[c]=i,r(c),c++},d.clearImmediate=p}function p(t){delete u[t]}function h(t){if(l)setTimeout(h,0,t);else{var e=u[t];if(e){l=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{p(t),l=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(5),n(7))},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var c,u=[],l=!1,f=-1;function d(){l&&c&&(l=!1,c.length?u=c.concat(u):f=-1,u.length&&p())}function p(){if(!l){var t=a(d);l=!0;for(var e=u.length;e;){for(c=u,u=[];++f<e;)c&&c[f].run();f=-1,e=u.length}c=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function y(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new h(t,e)),1!==u.length||l||a(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";n.r(e),e.default=function(t){var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){return e.reject(n)}))}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(10).__exportStar(n(11),e);var r=n(12);e.XID=r.XID},function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return c})),n.d(e,"__metadata",(function(){return u})),n.d(e,"__awaiter",(function(){return l})),n.d(e,"__generator",(function(){return f})),n.d(e,"__createBinding",(function(){return d})),n.d(e,"__exportStar",(function(){return p})),n.d(e,"__values",(function(){return h})),n.d(e,"__read",(function(){return y})),n.d(e,"__spread",(function(){return v})),n.d(e,"__spreadArrays",(function(){return g})),n.d(e,"__spreadArray",(function(){return m})),n.d(e,"__await",(function(){return b})),n.d(e,"__asyncGenerator",(function(){return _})),n.d(e,"__asyncDelegator",(function(){return w})),n.d(e,"__asyncValues",(function(){return I})),n.d(e,"__makeTemplateObject",(function(){return E})),n.d(e,"__importStar",(function(){return O})),n.d(e,"__importDefault",(function(){return j})),n.d(e,"__classPrivateFieldGet",(function(){return C})),n.d(e,"__classPrivateFieldSet",(function(){return S}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function c(t,e){return function(n,r){e(n,r,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))}function f(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var d=Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]};function p(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||d(e,t,n)}function h(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(y(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function m(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}function b(t){return this instanceof b?(this.v=t,this):new b(t)}function _(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof b?Promise.resolve(n.value.v).then(c,u):l(o[0][2],n)}catch(t){l(o[0][3],t)}var n}function c(t){a("next",t)}function u(t){a("throw",t)}function l(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function w(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:b(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function I(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=h(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,i,(e=t[n](e)).done,e.value)}))}}}function E(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var T=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function O(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&d(e,t,n);return T(e,t),e}function j(t){return t&&t.__esModule?t:{default:t}}function C(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function S(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.TEST="test",t.LOCAL="local",t.DEV="dev",t.STAGE="stage",t.PROD="prod"}(e.Environment||(e.Environment={})),function(t){t.XC="xc",t.UID="uid"}(e.XIDItemType||(e.XIDItemType={})),function(t){t.NEW="NEW",t.CHANGED="CHANGED",t.EXISTING="EXISTING",t.TIMEOUT="TIMEOUT",t.ERROR="ERROR",t.UNAVAILABLE="UNAVAILABLE",t.MALFORMED="MALFORMED",t.UNKNOWN="UNKNOWN"}(e.XIDState||(e.XIDState={})),function(t){t.XC_ONLY="XC_ONLY",t.UID_ONLY="UID_ONLY",t.CACHE_ONLY="CACHE_ONLY",t.XC_UID="XC_UID",t.CACHE_XC_UID="CACHE_XC_UID"}(e.XIDGenerateMode||(e.XIDGenerateMode={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(10),i=r.__importDefault(n(3)),o=n(13),s=n(20),a=n(48),c=n(49),u=n(11);e.defaultTimeout=5e3;var l=function(){function t(t,n){if(void 0===t&&(t="local"),void 0===n&&(n=e.defaultTimeout),this.storageEnabled=!0,this.timeoutUid={type:u.XIDItemType.UID,state:"TIMEOUT"},!t)throw new Error("Missing env configuration");this.env=t;var r="prod"===this.env?1e4:3e4;n>=2e3&&n<=r?this.timeout=n:("prod"!==this.env&&console.log("timeout configuration must be in the range of [2000, "+r+"] seconds"),this.timeout=e.defaultTimeout)}return t.prototype.getTimeoutPromise=function(t){var e=this;return new i.default((function(n){setTimeout((function(){n([t])}),(e.timeout-1e3)/2)}))},t.prototype.getXcPromiseAndSave=function(){var t=this;return new i.default((function(e){t.getXc().then((function(n){t.storageEnabled&&o.Storage.saveXid([n]),e([n])}))}))},t.prototype.getUidPromiseAndSave=function(){var t=this;return new i.default((function(e){var n=function(){var n=[];t.storageEnabled&&(n=o.Storage.getUids());var r=s.UIDGenerator.getValue(n);t.storageEnabled&&(o.Storage.saveUids(r),o.Storage.saveXid(r)),e(r)},r=window.requestIdleCallback;r?r(n):setTimeout(n,1e3)}))},t.prototype.getXidPromiseInXcUidOnly=function(){var t=this;return this.getXcPromiseAndSave().then((function(e){return e&&e.length>0&&e[0].createdAt&&e[0].value?e:(t.getTimeoutPromise(t.timeoutUid),t.getUidPromiseAndSave().then((function(t){return r.__spreadArrays(t,e)})))}))},t.prototype.getXidCallbackForPromise=function(t,e){var n;void 0===t&&(t=u.XIDGenerateMode.CACHE_XC_UID),void 0===e&&(e=!0);return this.getXidPromise(t,e).then((function(t){return function(){return e=t,n||(n=e.map((function(t){return"NEW"===t.state||"CHANGED"===t.state?{state:"EXISTING",type:t.type,createdAt:t.createdAt,value:t.value}:t})),e);var e}}))},t.prototype.getXidPromise=function(t,e){var n=this;void 0===t&&(t=u.XIDGenerateMode.CACHE_XC_UID),void 0===e&&(e=!0),this.storageEnabled=e;var r=t===u.XIDGenerateMode.CACHE_ONLY||t===u.XIDGenerateMode.CACHE_XC_UID?o.Storage.getCachedXID():[];switch(t){case u.XIDGenerateMode.XC_ONLY:return c.promiseWithTimer((function(){return n.getXcPromiseAndSave()}));case u.XIDGenerateMode.UID_ONLY:return c.promiseWithTimer((function(){return i.default.race([n.getTimeoutPromise(n.timeoutUid),n.getUidPromiseAndSave()])}));case u.XIDGenerateMode.XC_UID:return c.promiseWithTimer((function(){return n.getXidPromiseInXcUidOnly()}));case u.XIDGenerateMode.CACHE_ONLY:return i.default.resolve(r);case u.XIDGenerateMode.CACHE_XC_UID:default:return r.length>0?i.default.resolve(r):c.promiseWithTimer((function(){return n.getXidPromiseInXcUidOnly()}))}},t.prototype.getXc=function(){return a.XCGenerator.getValue(this.env,(this.timeout-1e3)/2,this.storageEnabled)},t.prototype.getUidDetails=function(){return s.UIDGenerator.getDetails()},t}();e.XID=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(10),i=n(14),o=n(11),s=n(15),a=n(17),c=n(19);e.XC_CURRENT="atl_xid.xc";var u=function(){function t(){}return t.getCachedXID=function(){try{var t=s.getXidItemFromCache("atl_xid.current"),e=s.getCache("atl_xid.ts"),n=!1;if(t.length>0&&t[0].type===o.XIDItemType.UID?n=parseInt(e||"",10)>=(new Date).getTime()-6048e5:t.length>0&&t[0].type===o.XIDItemType.XC&&(n=parseInt(e||"",10)>=(new Date).getTime()-2592e6),n){for(var r=0,i=t;r<i.length;r++){i[r].state="EXISTING"}return t}return[]}catch(t){return[]}},t.saveXid=function(t){try{i.setCookie("atl_xid.ts",(new Date).getTime()),s.setLocalstorage("atl_xid.ts",(new Date).getTime().toString());for(var e=[],n=0,r=t;n<r.length;n++){var o=r[n];if(o.value&&o.createdAt){e.push({type:o.type,value:o.value,createdAt:o.createdAt});break}}i.setCookie("atl_xid.current",JSON.stringify(e)),s.setLocalstorage("atl_xid.current",JSON.stringify(e))}catch(t){console.error("Error setting xid cookie.")}},t.updateXc=function(e,n){try{if("prod"===e&&a.isAtlassianComDomain())return t.processAtlassianComDomainXc(n);t.saveXcLocalstorage(n)}catch(t){console.error("Error setting xc cookie.")}return n},t.getUids=function(){for(var t=s.getXidItemFromCache("atl_xid.uid")||[],e=0,n=t;e<n.length;e++){n[e].state="EXISTING"}return t},t.saveUids=function(t){try{for(var e=[],n=0,r=t;n<r.length;n++){var i=r[n];i.value&&i.createdAt&&e.push({type:i.type,value:i.value,createdAt:i.createdAt})}e.slice(0,20),s.setLocalstorage("atl_xid.uid",JSON.stringify(e))}catch(t){console.error("Error setting uid cookie.")}},t.saveXcLocalstorage=function(t){if(t.value&&t.createdAt){var n=s.getXidFromLocalStorage(e.XC_CURRENT);if(n&&n.value===t.value)return;n&&n.value!==t.value&&(t.state="CHANGED");var r={type:t.type,value:t.value,createdAt:t.createdAt};s.setLocalstorage(e.XC_CURRENT,JSON.stringify(r))}},t.processAtlassianComDomainXc=function(n){if(n.value&&n.createdAt){var a=s.getXidFromCookie(e.XC_CURRENT);if(a){i.setCookie(e.XC_CURRENT,JSON.stringify(a),i.getCrossDomainCookieOption());var u=r.__assign({state:"EXISTING"},a);return t.saveXcLocalstorage(u),u}var l={value:c.uuidv4(),createdAt:(new Date).toISOString(),type:o.XIDItemType.XC};i.setCookie(e.XC_CURRENT,JSON.stringify(l),i.getCrossDomainCookieOption());var f=r.__assign({state:"NEW"},l);return t.saveXcLocalstorage(f),f}return n},t}();e.Storage=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(10),i=function(){try{return function(t){var e={},n=t.split(/ *; */);if(""===n[0])return e;return n.forEach((function(t){var n=t.split("="),r=s(n[0]),i=s(n[1]);r&&i&&(e[r]=i)})),e}(document.cookie)}catch(t){return"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t.stack||t),{}}};function o(t){try{return encodeURIComponent(t)}catch(e){return console.log("error `encode(%o)` - %o",t,e),""}}function s(t){try{return decodeURIComponent(t)}catch(e){return console.log("error `decode(%o)` - %o",t,e),""}}e.getCookie=function(t){return function(t){return i()[t]}(t)},e.getAllCookies=function(){return i()},e.setCookie=function(t,e,n){return function(t,e,n){var r,i=o(t)+"="+o((e||"").toString());return null==e&&(n.maxage=-1),n.maxage&&(r=new Date(+new Date+n.maxage)),n.path&&(i+="; path="+n.path),n.domain&&(i+="; domain="+n.domain),r&&(i+="; expires="+r.toUTCString()),n.secure&&(i+="; secure"),n.sameSite&&(i+="; samesite="+n.sameSite),document.cookie=i,i}(t,e,r.__assign({maxage:31536e6,secure:!1,path:"/",expires:null,domain:null,sameSite:"lax"},n))},e.getCrossDomainCookieOption=function(){return{sameSite:"None",domain:window.location.hostname.split(".").slice(-2).join("."),secure:!0}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(14),i=n(16),o=function(t){try{var e=JSON.parse(t);if(e instanceof Array){for(var n=!0,r=0,o=e;r<o.length;r++){var s=o[r];n=n&&i.checkXidValid(s)}return n?e:void 0}return i.checkXidValid(e)?e:void 0}catch(t){return}};function s(t){var e=r.getCookie(t);return o(e)}function a(t){var e="";try{e=localStorage.getItem(t)||""}catch(t){}return o(e)}e.getXidFromCookie=s,e.getXidFromLocalStorage=a,e.setLocalstorage=function(t,e){try{localStorage.setItem(t,e)}catch(t){}},e.getCache=function(t){return r.getCookie(t)||function(t){try{return localStorage.getItem(t)||""}catch(t){}}(t)},e.getXidItemFromCache=function(t){return s(t)||a(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(11);e.checkXidValid=function(t){return!(t.type!==r.XIDItemType.UID&&t.type!==r.XIDItemType.XC||!t.value||!Date.parse(t.createdAt))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(14),i=n(18);e.domain=function(t){for(var e=0,n=function(t){var e=i.parse(t).hostname.split("."),n=e[e.length-1],r=[];if(4===e.length&&!isNaN(parseInt(n,10)))return r;if(e.length<=1)return r;for(var o=e.length-2;o>=0;--o)r.push(e.slice(o).join("."));return r}(t);e<n.length;e++){var o=n[e],s={domain:"."+o};if(r.setCookie("__tld__",1,s),r.getCookie("__tld__"))return r.setCookie("__tld__",null,s),o}return""},e.inIframe=function(){try{return window.self!==window.top}catch(t){return!0}},e.isAtlassianComDomain=function(){return/atlassian\.com$/.test(window.location.hostname)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parse=function(t){var n=document.createElement("a");return n.href=t,{href:n.href,host:n.host||location.host,port:"0"===n.port||""===n.port?e.port(n.protocol):n.port,hash:n.hash,hostname:n.hostname||location.hostname,pathname:"/"!==n.pathname.charAt(0)?"/"+n.pathname:n.pathname,protocol:n.protocol&&":"!==n.protocol?n.protocol:location.protocol,search:n.search,query:n.search.slice(1)}},e.isAbsolute=function(t){return 0===t.indexOf("//")||!!~t.indexOf("://")},e.isRelative=function(t){return!e.isAbsolute(t)},e.isCrossDomain=function(t){var n=e.parse(t),r=e.parse(window.location.href);return n.hostname!==r.hostname||n.port!==r.port||n.protocol!==r.protocol},e.port=function(t){switch(t){case"http:":return 80;case"https:":return 443;default:return location.port}},e.getParam=function(t){var e=window.location.href.match("[?&]"+t+"=([^&#]+)");return e?e.pop():""}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uuidv4=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(10),i=n(21),o=n(39),s=n(23),a=n(41),c=n(44),u=n(9),l=n(47),f=function(){function t(){}return t.getDetails=function(){try{return{browser:{browserDefaultEvalLength:i.browserDefaultEvalLength(),canWriteCookie:i.canWriteCookie(),getBrowserVendor:i.getBrowserVendor(),getHardwareConcurrency:i.getHardwareConcurrency(),getLanguage:i.getLanguage(),getPlatform:i.getPlatform(),getPlugins:i.getPlugins(),getProductSub:i.getProductSub(),getTimeZone:i.getTimeZone(),getTimeZoneOffset:i.getTimeZoneOffset(),getUserAgent:i.getUserAgent(),isIndexedDBAvailable:i.isIndexedDBAvailable(),isLocalStorageAvailable:i.isLocalStorageAvailable(),isSessionStorageAvailable:i.isSessionStorageAvailable(),isTestingBot:i.isTestingBot(),isWebDriver:i.isWebDriver()},canvas:{studyPrint:o.studyPrint()},font:{jsFonts:(new a.DetectFonts).detect()},webGL:{getWebGL:c.getWebGL()}}}catch(t){return s.ERROR}},t.getValue=function(t){try{var e=[i.browserDefaultEvalLength(),i.canWriteCookie(),i.getBrowserVendor(),i.getHardwareConcurrency(),i.getLanguage(),i.getPlatform(),i.getPlugins(),i.getProductSub(),i.getTimeZone(),i.getTimeZoneOffset(),i.getUserAgent(),i.isIndexedDBAvailable(),i.isLocalStorageAvailable(),i.isSessionStorageAvailable(),i.isTestingBot(),i.isWebDriver(),o.studyPrint(),(new a.DetectFonts).result(),c.getWebGL()],n=l.x64hash128(e.join("|"),64),s=void 0;return"EXISTING"===(s=t.length?t[0].value===n?"EXISTING":"CHANGED":"NEW")?t:r.__spreadArrays([{type:u.XIDItemType.UID,createdAt:(new Date).toISOString(),state:s,value:n}],t)}catch(t){return[{type:u.XIDItemType.UID,state:"ERROR"}]}},t}();e.UIDGenerator=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(22);e.browserDefaultEvalLength=r.browserDefaultEvalLength;var i=n(24);e.canWriteCookie=i.canWriteCookie;var o=n(25);e.getBrowserVendor=o.getBrowserVendor;var s=n(26);e.getHardwareConcurrency=s.getHardwareConcurrency;var a=n(27);e.getLanguage=a.getLanguage;var c=n(28);e.getPlatform=c.getPlatform;var u=n(29);e.getPlugins=u.getPlugins;var l=n(30);e.getProductSub=l.getProductSub;var f=n(31);e.getTimeZone=f.getTimeZone;var d=n(32);e.getTimeZoneOffset=d.getTimeZoneOffset;var p=n(33);e.getUserAgent=p.getUserAgent;var h=n(34);e.isIndexedDBAvailable=h.isIndexedDBAvailable;var y=n(35);e.isLocalStorageAvailable=y.isLocalStorageAvailable;var v=n(36);e.isSessionStorageAvailable=v.isSessionStorageAvailable;var g=n(37);e.isTestingBot=g.isTestingBot;var m=n(38);e.isWebDriver=m.isWebDriver},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(23);e.browserDefaultEvalLength=function(){try{return eval.toString().length||0}catch(t){return r.ERROR}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UNAVAILABLE="UNAVAILABLE",e.ERROR="ERROR",e.YES="YES",e.NO="NO"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(23);e.canWriteCookie=function(){try{return document.cookie="cookietest=1",-1!==document.cookie.indexOf("cookietest=")?(document.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",r.YES):r.NO}catch(t){return r.ERROR}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(23);e.getBrowserVendor=function(){try{return navigator.vendor||r.UNAVAILABLE}catch(t){return r.ERROR}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getHardwareConcurrency=function(){try{var t=parseInt(navigator.hardwareConcurrency.toString(),10);return isNaN(t)?1:t}catch(t){return 1}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(23);e.getLanguage=function(){try{return navigator.language||r.UNAVAILABLE}catch(t){return r.ERROR}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(23);e.getPlatform=function(){try{return navigator.platform||r.UNAVAILABLE}catch(t){return r.ERROR}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(23);e.getPlugins=function(){try{var t="Microsoft Internet Explorer"===navigator.appName,e="Netscape"===navigator.appName,n=/Trident/.test(navigator.userAgent);if(t||e&&n)return r.UNAVAILABLE;for(var i=navigator.plugins,o="",s=0;s<i.length;s++)for(var a=navigator.plugins[s],c=a.name,u=a.filename,l=a.length,f=0;f<l;f++){var d=a[f];d&&(o=o+c+","+u+","+d.type+"|")}return o}catch(t){return r.ERROR}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(23);e.getProductSub=function(){try{return navigator.productSub||r.UNAVAILABLE}catch(t){return r.ERROR}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(23);e.getTimeZone=function(){try{return window.Intl&&window.Intl.DateTimeFormat?(new window.Intl.DateTimeFormat).resolvedOptions().timeZone:r.UNAVAILABLE}catch(t){return r.ERROR}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(23);e.getTimeZoneOffset=function(){try{return(new Date).getTimezoneOffset()||r.UNAVAILABLE}catch(t){return r.ERROR}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(23);e.getUserAgent=function(){try{return navigator.userAgent||r.UNAVAILABLE}catch(t){return r.ERROR}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(23);e.isIndexedDBAvailable=function(){try{return window.indexedDB?r.YES:r.NO}catch(t){return r.ERROR}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(23);e.isLocalStorageAvailable=function(){try{return window.localStorage?r.YES:r.NO}catch(t){return r.ERROR}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(23);e.isSessionStorageAvailable=function(){try{return window.sessionStorage?r.YES:r.NO}catch(t){return r.ERROR}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(23);e.isTestingBot=function(){try{return["webdriver"in window,"_Selenium_IDE_Recorder"in window,"callSelenium"in window,"_selenium"in window,"__webdriver_script_fn"in document,"__driver_evaluate"in document,"__webdriver_evaluate"in document,"__selenium_evaluate"in document,"__fxdriver_evaluate"in document,"__driver_unwrapped"in document,"__webdriver_unwrapped"in document,"__selenium_unwrapped"in document,"__fxdriver_unwrapped"in document,"__webdriver_script_func"in document,null!==document.documentElement.getAttribute("selenium"),null!==document.documentElement.getAttribute("webdriver"),null!==document.documentElement.getAttribute("driver")].some((function(t){return!0===t}))?r.YES:r.NO}catch(t){return r.ERROR}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(23);e.isWebDriver=function(){try{return navigator.webdriver?r.YES:r.NO}catch(t){return r.ERROR}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(40);e.studyPrint=r.studyPrint},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(23);e.studyPrint=function(){try{var t=document.createElement("canvas");t.width=240,t.height=140,t.style.display="inline";var e=t.getContext("2d");return e?(e.rect(0,0,10,10),e.rect(2,2,6,6),e.isPointInPath(5,5,"evenodd"),e.textBaseline="alphabetic",e.fillStyle="#f60",e.fillRect(125,1,62,20),e.fillStyle="#069",e.font="11pt no-real-font-123",e.fillText("Cwm fjordbank 😃 gly",2,15),e.fillStyle="rgba(102, 204, 0, 0.2)",e.font="18pt Arial",e.fillText("Cwm fjordbank 😃 gly",4,45),e.globalCompositeOperation="multiply",e.fillStyle="rgb(255,0,255)",e.beginPath(),e.arc(50,50,50,0,2*Math.PI,!0),e.closePath(),e.fill(),e.fillStyle="rgb(0,255,255)",e.beginPath(),e.arc(100,50,50,0,2*Math.PI,!0),e.closePath(),e.fill(),e.fillStyle="rgb(255,255,0)",e.beginPath(),e.arc(75,100,50,0,2*Math.PI,!0),e.closePath(),e.fill(),e.fillStyle="rgb(255,0,255)",e.arc(75,75,75,0,2*Math.PI,!0),e.arc(75,75,25,0,2*Math.PI,!0),e.fill("evenodd"),t.toDataURL()):r.UNAVAILABLE}catch(t){return r.ERROR}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(42);e.DetectFonts=r.DetectFonts},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(23),i=n(43),o=function(){function t(){var t=this;this.baseFonts=["monospace","sans-serif","serif"],this.testString="mmmmmmmmmmlli",this.testSize="72px",this.defaultWidth={},this.defaultHeight={},this.createSpan=function(){var e=document.createElement("span");return e.style.position="absolute",e.style.left="-9999px",e.style.fontSize=t.testSize,e.style.fontStyle="normal",e.style.fontWeight="normal",e.style.letterSpacing="normal",e.style.lineBreak="auto",e.style.lineHeight="normal",e.style.textTransform="none",e.style.textAlign="left",e.style.textDecoration="none",e.style.textShadow="none",e.style.whiteSpace="normal",e.style.wordBreak="normal",e.style.wordSpacing="normal",e.innerHTML=t.testString,e},this.createSpanWithFonts=function(e,n){var r=t.createSpan();return r.style.fontFamily="'"+e+"',"+n,r},this.initializeBaseFontsSpans=function(){for(var e=[],n=0,r=t.baseFonts;n<r.length;n++){var i=r[n],o=t.createSpan();o.style.fontFamily=i,t.baseFontsDiv.appendChild(o),e.push(o)}return e},this.initializeFontsSpans=function(){for(var e={},n=0,r=i.fontsToCheck;n<r.length;n++){for(var o=r[n],s=[],a=0,c=t.baseFonts;a<c.length;a++){var u=c[a],l=t.createSpanWithFonts(o,u);t.fontsDiv.appendChild(l),s.push(l)}e[o]=s}return e},this.isFontAvailable=function(e){for(var n=!1,r=0;r<t.baseFonts.length;r++){var i=e[r].offsetWidth,o=t.defaultWidth[t.baseFonts[r]],s=e[r].offsetHeight,a=t.defaultHeight[t.baseFonts[r]];if(n=i!==o||s!==a)return n}return n},this.bodyElement=document.getElementsByTagName("body")[0],this.baseFontsDiv=document.createElement("div"),this.fontsDiv=document.createElement("div")}return t.prototype.detect=function(){var t=this.initializeBaseFontsSpans();this.bodyElement.appendChild(this.baseFontsDiv);for(var e=0;e<this.baseFonts.length;e++)this.defaultWidth[this.baseFonts[e]]=t[e].offsetWidth,this.defaultHeight[this.baseFonts[e]]=t[e].offsetHeight;var n=this.initializeFontsSpans();this.bodyElement.appendChild(this.fontsDiv);for(var r=[],o=0,s=i.fontsToCheck;o<s.length;o++){var a=s[o],c=0;this.isFontAvailable(n[a])&&(c=1),r.push(c)}return this.bodyElement.removeChild(this.fontsDiv),this.bodyElement.removeChild(this.baseFontsDiv),r.join("|")},t.prototype.result=function(){try{return this.detect()}catch(t){return r.ERROR}},t}();e.DetectFonts=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fontsToCheck=["Adobe Garamond","Adobe Hebrew","Agency FB","Airstream","Andale Mono","Aparajita","Arial","BN Manson Nights","Baskerville","BlackChancery","Book Antiqua","Bookman Old Style","CG Times","Calibri","Cambria","Cambria Math","Century","Century Gothic","Century Schoolbook","Chalkboard","Comic Sans","Comic Sans MS","Consolas","Cooper Black","Corbel","Courier","Courier New","Curlz MT","DS Sans Serif","Degrassi","Didot","Ebrima","GOST Common","Geneva","Georgia","Gulim","Heiti TC","Helvetica","Helvetica Neue","Hoefler Text","Impact","Kalinga","Letter Gothic","Lithos Pro","Lucida Bright","Lucida Calligraphy","Lucida Console","Lucida Fax","Lucida Handwriting","Lucida Sans","MS Gothic","MS Outlook","MS PGothic","MYRIAD","Malgun Gothic","Mangal","MapInfo Miscellaneous","Meiryo UI","Monaco","Monotype Corsiva","NSimSun","OSAKA","Palatino","Pickwick","Playbill","Pristina","Segoe Print","Segoe Script","Segoe UI","Shonar Bangla","Snell Roundhand","Styllo","Tahoma","Times","Times New Roman","Trebuchet MS","Verdana","Wingdings"]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(45);e.getWebGL=r.getWebGL},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(23),i=n(46);e.getWebGL=function(){try{var t=i.getContext();if(void 0===t)return r.UNAVAILABLE;if(t&&"object"==typeof t&&t.context){var e=t.context,n=e.getExtension("WEBGL_debug_renderer_info");return null!==n?[e.getParameter(n.UNMASKED_RENDERER_WEBGL),e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS),e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE)].join("|"):r.UNAVAILABLE}}catch(t){return r.ERROR}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(23);e.getContext=function(){if(window.WebGLRenderingContext)for(var t=document.createElement("canvas"),e=0,n=["webgl","experimental-webgl","moz-webgl","webkit-3d"];e<n.length;e++){var i=n[e];try{var o=t.getContext(i);if(o&&o instanceof WebGLRenderingContext&&"function"==typeof o.getParameter)return{name:i,context:o}}catch(t){return r.ERROR}}return r.UNAVAILABLE}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]],e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]];var n=[0,0,0,0];return n[3]+=t[3]+e[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=t[2]+e[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=t[1]+e[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=t[0]+e[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]},i=function(t,e){t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]],e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]];var n=[0,0,0,0];return n[3]+=t[3]*e[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=t[2]*e[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=t[3]*e[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=t[1]*e[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=t[2]*e[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=t[3]*e[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=t[0]*e[3]+t[1]*e[2]+t[2]*e[1]+t[3]*e[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]},o=function(t,e){return 32===(e%=64)?[t[1],t[0]]:e<32?[t[0]<<e|t[1]>>>32-e,t[1]<<e|t[0]>>>32-e]:(e-=32,[t[1]<<e|t[0]>>>32-e,t[0]<<e|t[1]>>>32-e])},s=function(t,e){return 0===(e%=64)?t:e<32?[t[0]<<e|t[1]>>>32-e,t[1]<<e]:[t[1]<<e-32,0]},a=function(t,e){return[t[0]^e[0],t[1]^e[1]]},c=function(t){return t=a(t,[0,t[0]>>>1]),t=i(t,[4283543511,3981806797]),t=a(t,[0,t[0]>>>1]),t=i(t,[3301882366,444984403]),t=a(t,[0,t[0]>>>1])};e.x64hash128=function(t,e){e=e||0;for(var n=(t=t||"").length%16,u=t.length-n,l=[0,e],f=[0,e],d=[0,0],p=[0,0],h=[2277735313,289559509],y=[1291169091,658871167],v=0;v<u;v+=16)d=[255&t.charCodeAt(v+4)|(255&t.charCodeAt(v+5))<<8|(255&t.charCodeAt(v+6))<<16|(255&t.charCodeAt(v+7))<<24,255&t.charCodeAt(v)|(255&t.charCodeAt(v+1))<<8|(255&t.charCodeAt(v+2))<<16|(255&t.charCodeAt(v+3))<<24],p=[255&t.charCodeAt(v+12)|(255&t.charCodeAt(v+13))<<8|(255&t.charCodeAt(v+14))<<16|(255&t.charCodeAt(v+15))<<24,255&t.charCodeAt(v+8)|(255&t.charCodeAt(v+9))<<8|(255&t.charCodeAt(v+10))<<16|(255&t.charCodeAt(v+11))<<24],d=i(d,h),d=o(d,31),d=i(d,y),l=a(l,d),l=o(l,27),l=r(l,f),l=r(i(l,[0,5]),[0,1390208809]),p=i(p,y),p=o(p,33),p=i(p,h),f=a(f,p),f=o(f,31),f=r(f,l),f=r(i(f,[0,5]),[0,944331445]);d=[0,0],p=[0,0];var g=u;switch(n){case 15:p=a(p,s([0,t.charCodeAt(g+14)],48));case 14:p=a(p,s([0,t.charCodeAt(g+13)],40));case 13:p=a(p,s([0,t.charCodeAt(g+12)],32));case 12:p=a(p,s([0,t.charCodeAt(g+11)],24));case 11:p=a(p,s([0,t.charCodeAt(g+10)],16));case 10:p=a(p,s([0,t.charCodeAt(g+9)],8));case 9:p=a(p,[0,t.charCodeAt(g+8)]),p=i(p,y),p=o(p,33),p=i(p,h),f=a(f,p);case 8:d=a(d,s([0,t.charCodeAt(g+7)],56));case 7:d=a(d,s([0,t.charCodeAt(g+6)],48));case 6:d=a(d,s([0,t.charCodeAt(g+5)],40));case 5:d=a(d,s([0,t.charCodeAt(g+4)],32));case 4:d=a(d,s([0,t.charCodeAt(g+3)],24));case 3:d=a(d,s([0,t.charCodeAt(g+2)],16));case 2:d=a(d,s([0,t.charCodeAt(g+1)],8));case 1:d=a(d,[0,t.charCodeAt(g)]),d=i(d,h),d=o(d,31),d=i(d,y),l=a(l,d)}return l=a(l,[0,t.length]),f=a(f,[0,t.length]),l=r(l,f),f=r(f,l),l=c(l),f=c(f),l=r(l,f),f=r(f,l),("00000000"+(l[0]>>>0).toString(16)).slice(-8)+("00000000"+(l[1]>>>0).toString(16)).slice(-8)+("00000000"+(f[0]>>>0).toString(16)).slice(-8)+("00000000"+(f[1]>>>0).toString(16)).slice(-8)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(10).__importDefault(n(3)),i=n(17),o=n(13),s=n(9),a=function(){function t(){}return t.getValue=function(e,n,i){void 0===n&&(n=3e3),void 0===i&&(i=!0);var a=t.getHost(e),c=a?"https://"+a:"",u=c?c+"?t="+(new Date).getTime():"",l=t.addFrame(u);return new r.default((function(r){var a=function(n){if("xcReady"===n.data.type&&n.origin===c){var s=t.messageToXc(n);i&&(s=o.Storage.updateXc(e,s)),r(s),t.removeFrame(l,a)}};window.addEventListener("message",a),setTimeout((function(){r({type:s.XIDItemType.XC,state:"TIMEOUT"}),t.removeFrame(l,a)}),n)}))},t.messageToXc=function(t){var e=t.data,n=e.xc,r=e.ts,i=e.state;return n&&Date.parse(r)&&i?{type:s.XIDItemType.XC,value:n,createdAt:r,state:i}:{type:s.XIDItemType.XC,state:i||"MALFORMED"}},t.addFrame=function(t){var e=document.createElement("iframe");return e.id="xc-"+(new Date).getTime(),e.src=t,e.style.display="none",e.style.position="fixed",document.body.appendChild(e),e},t.removeFrame=function(t,e){document.body.contains(t)&&(document.body.removeChild(t),window.removeEventListener("message",e))},t.getHost=function(t){switch(t){case"stage":return"xxid.staging.atl-paas.net";case"prod":return i.isAtlassianComDomain()?"xxid.atl-paas.net":"xxid.atlassian.com";case"test":return"";case"local":case"dev":default:return"xxid.dev.atl-paas.net"}},t}();e.XCGenerator=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(11);e.promiseWithTimer=function(t){var e=function(t){var e={type:r.XIDItemType.UID,state:"MALFORMED"};return function(t,e){var n=t.state,r=t.type,o=t.value,s=t.createdAt;return t&&n&&r&&o&&s&&("NEW"===n||"CHANGED"===n)?{state:n,type:r,value:o,createdAt:s,timeTaken:i()-e}:null}(t,n)||function(t){var e=t.state,n=t.type,r=t.value,i=t.createdAt;return t&&e&&n&&r&&i&&"EXISTING"===e?{state:e,type:n,value:r,createdAt:i}:null}(t)||function(t){var e=t.state,n=t.type;if(t&&e&&n)switch(e){case"TIMEOUT":case"ERROR":case"UNAVAILABLE":case"UNKNOWN":case"MALFORMED":return{type:n,state:e}}return null}(t)||function(t){var e=t.type;return t&&e?{type:e,state:"MALFORMED"}:null}(t)||e},n=i();return t().then((function(t){return t.map((function(t){return e(t)}))}))};var i=function(){return performance&&performance.now?performance.now():(new Date).getTime()}},function(t,e,n){"use strict";n.r(e),n.d(e,"envType",(function(){return r})),n.d(e,"eventType",(function(){return i})),n.d(e,"platformType",(function(){return o})),n.d(e,"originType",(function(){return s})),n.d(e,"tenantType",(function(){return a})),n.d(e,"userType",(function(){return c})),n.d(e,"apdexType",(function(){return u})),n.d(e,"desktopPlatforms",(function(){return l})),n.d(e,"webPlatforms",(function(){return f})),n.d(e,"originTracingType",(function(){return d})),n.d(e,"objectValues",(function(){return p})),n.d(e,"isType",(function(){return h}));const r=Object.freeze({LOCAL:"local",DEV:"dev",STAGING:"staging",PROD:"prod"}),i=Object.freeze({TRACK:"track",UI:"ui",OPERATIONAL:"operational",SCREEN:"screen",IDENTIFY:"identify"}),o=Object.freeze({MAC:"mac",LINUX:"linux",WINDOWS:"windows",DESKTOP:"desktop",WEB:"web",MOBILE_WEB:"mobileWeb"}),s=Object.freeze({DESKTOP:"desktop",WEB:"web"}),a=Object.freeze({CLOUD_ID:"cloudId",ORG_ID:"orgId",OPSGENIE_CUSTOMER_ID:"opsgenieCustomerId",NONE:"none"}),c=Object.freeze({ATLASSIAN_ACCOUNT:"atlassianAccount",HASHED_EMAIL:"hashedEmail",TRELLO:"trello",OPSGENIE:"opsgenie"}),u=Object.freeze({TRANSITION:"transition",INITIAL_LOAD:"initialLoad"}),l=Object.freeze([o.DESKTOP,o.MAC,o.LINUX,o.WINDOWS]),f=Object.freeze([o.WEB,o.MOBILE_WEB]),d=Object.freeze({ATL_ORIGIN:"atlOrigin"});function p(t){return Object.keys(t).map(e=>t[e])}function h(t,e){return p(t).indexOf(e)>-1}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return l}));var r=n(2),i=n.n(r),o=n(50),s=n(52),a=n(53);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}class l{constructor(t,e){if(this._getEventKey=({task:t,taskId:e})=>e?`${t}.${e}`:t,this._getEventTimingByName=t=>{const e=this._performance.getEntriesByName(t);return e[e.length-1]},this._getApdexFields=t=>{const e=this._getApdexTimings(t),n=this._calculateApdex({duration:e.duration,threshold:t.threshold});return u(u({},e),{},{apdex:n})},this._getApdexTimings=t=>{const e=this._getEventKey(t),n=e+"-start",r=t.startTime||this._getStartTime(t,n),i=t.stopTime||this._getStopTime();return this._cleanApdexState(e),{startTime:r,stopTime:i,duration:i-r}},this._getStartTime=(t,e)=>{let n;const r=this._performance.getTimeOrigin();if(t.type===o.apdexType.INITIAL_LOAD)n=r;else{n=r+this._getEventTimingByName(e).startTime}return n},this._getStopTime=()=>this._performance.getTimeOrigin()+this._performance.now(),this._cleanApdexState=t=>{this._performance.clearMarks(t+"-start"),this._performance.clearMarks(t+"-stop"),this._startedEvents.delete(t)},this._getVisibilityFields=t=>{let e;if(t.type===o.apdexType.INITIAL_LOAD)e=!this._wasPreviouslyHidden;else if(t.type===o.apdexType.TRANSITION){const n=this._getEventKey(t);e=this._isActiveEvents.get(n)}return(t.startTime||t.stopTime)&&(e=!this._pageVisibility.getIsHidden()),{isActiveTab:e}},this._calculateApdex=({duration:t,threshold:e=this._threshold})=>{let n;return n=t<=e?1:t<=4*e?.5:0,n},this._validateStartEvent=t=>{if(!t)throw new Error('Missing "event" in Apdex start event');if(!t.task)throw new Error('Missing "task" in Apdex start event');if("string"!=typeof t.task)throw new Error('Invalid "task" in Apdex start event');if(t.taskId&&"string"!=typeof t.taskId)throw new Error('Invalid "taskId" in Apdex start event')},this._validateStopEvent=t=>{if(!t)throw new Error('Missing "event" in Apdex stop event');if(!t.task)throw new Error('Missing "task" in Apdex stop event');if("string"!=typeof t.task)throw new Error('Invalid "task" in Apdex stop event');if(t.taskId&&"string"!=typeof t.taskId)throw new Error('Invalid "taskId" in Apdex stop event');if(!t.type)throw new Error('Missing "type" in Apdex stop event');if(t.type&&!Object(o.isType)(o.apdexType,t.type))throw new Error('Invalid "type" in Apdex stop event');if(t.threshold&&"number"!=typeof t.threshold)throw new Error('Invalid "threshold" in Apdex stop event');if(!t.startTime&&t.type===o.apdexType.TRANSITION){const e=this._getEventKey(t);if(!this._startedEvents.has(e))throw new Error(`Apdex event transition "${e}" was not started`)}if(t.startTime&&!("number"==typeof t.startTime&&t.startTime>=0))throw new Error('Invalid "startTime" in Apdex stop event');if(t.stopTime&&"number"!=typeof t.stopTime)throw new Error('Invalid "stopTime" in Apdex stop event');if(t.stopTime<=t.startTime)throw new Error('"stopTime" should be greater than "startTime" in Apdex stop event')},this._shouldSendEvent=t=>!!t&&"number"==typeof t.apdex,this._sendEvent=(t,e)=>{this._shouldSendEvent(t)&&this._onEvent({source:"ui",action:"readyForUser",actionSubject:"ui",attributes:u(u({},t.additionalAttributes),{},{task:t.task,taskId:t.taskId,type:t.type,threshold:t.threshold||this._threshold,apdex:t.apdex,startTime:t.startTime,stopTime:t.stopTime,duration:t.duration,isActiveTab:t.isActiveTab})},e)},!t)throw new Error("Missing onEvent callback");if("function"!=typeof t)throw new Error("Invalid onEvent, must be function");if(!(e instanceof s.default))throw new Error("Invalid pageVisibility, must be PageVisibility class");this._startedEvents=new Map,this._performance=new a.default,this._onEvent=t,this._threshold=1e3,this._wasPreviouslyHidden=e.getIsHidden(),this._isActiveEvents=new Map,this._pageVisibility=e,this._pageVisibility.addCallback("apdexEvent",t=>{this.onVisibilityChange(!t)})}start(t){if(this._validateStartEvent(t),!this._performance.isAvailable())return;const e=this._getEventKey(t),n=e+"-start";this._startedEvents.set(e,!0),this._isActiveEvents.set(e,!this._pageVisibility.getIsHidden()),this._performance.clearMarks(n),this._performance.mark(n)}getStart(t){if(this._validateStartEvent(t),!this._performance.isAvailable())return;const e=this._getEventKey(t)+"-start";return this._getEventTimingByName(e)}stop(t,e){if(this._validateStopEvent(t),!this._performance.isAvailable())return;const n=this._getApdexFields(t),r=this._getVisibilityFields(t);this._sendEvent(u(u(u({},t),n),r),e)}onVisibilityChange(t){t||(this._wasPreviouslyHidden=!0,this._isActiveEvents.forEach((t,e)=>this._isActiveEvents.set(e,!1)))}}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return r}));class r{constructor(){this._bindEventListeners=()=>{document.addEventListener(this._visibilityChange,this._handleVisibilityChange,!1)},this._handleVisibilityChange=()=>{const t=document[this._hidden];this._isHidden=t,this._callbacks.forEach(e=>e(t))},this._isHidden=!1,this._callbacks=new Map,this._hidden=void 0,this._visibilityChange=void 0,void 0!==document.hidden?(this._isHidden=document.hidden,this._hidden="hidden",this._visibilityChange="visibilitychange"):void 0!==document.msHidden?(this._isHidden=document.msHidden,this._hidden="msHidden",this._visibilityChange="msvisibilitychange"):void 0!==document.webkitHidden&&(this._isHidden=document.webkitHidden,this._hidden="webkitHidden",this._visibilityChange="webkitvisibilitychange"),void 0!==document.addEventListener&&void 0!==this._hidden&&this._bindEventListeners()}addCallback(t,e){if("string"!=typeof t)throw new Error("Invalid name, must be string");if("function"!=typeof e)throw new Error("Invalid callback, must be function");this._callbacks.set(t,e)}removeCallback(t){this._callbacks.has(t)&&this._callbacks.delete(t)}getIsHidden(){return this._isHidden}}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return r}));class r{constructor(){this._performance=window.performance}clearMarks(...t){this._performance&&this._performance.clearMarks&&this._performance.clearMarks(...t)}mark(...t){this._performance&&this._performance.mark&&this._performance.mark(...t)}getEntriesByName(...t){return this._performance&&this._performance.getEntriesByName?this._performance.getEntriesByName(...t):[]}getTimeOrigin(){return this._performance&&(this._performance.timeOrigin||this._performance.timing)?this._performance.timeOrigin||this._performance.timing.navigationStart:0}now(){return this._performance&&this._performance.now?this._performance.now():Date.now?Date.now():+new Date}isAvailable(){return!!(this._performance&&this._performance.clearMarks&&this._performance.mark&&this._performance.getEntriesByName&&this._performance.timing)}}},function(t,e,n){"use strict";n.r(e);const r=n(55)("BeforeSend");Object.assign(r.prototype,{initialize(){this.ready(),this.analytics.on("invoke",t=>{t&&t.obj&&t.obj.context&&t.obj.context.page&&(t.obj.context.page=void 0,this.ready())})},loaded:()=>!0}),e.default=r},function(t,e,n){"use strict";var r=n(56),i=n(57),o=n(60),s=n(63),a=n(64),c=n(65),u=n(81);t.exports=function(t){function e(n){if(n&&n.addIntegration)return n.addIntegration(e);this.debug=i("analytics:integration:"+a(t));var c={};s(!0,c,n),this.options=o(c||{},this.defaults),this._queue=[],this.once("ready",r(this,this.flush)),e.emit("construct",this),this.ready=r(this,this.ready),this._wrapInitialize(),this._wrapPage(),this._wrapTrack()}return e.prototype.defaults={},e.prototype.globals=[],e.prototype.templates={},e.prototype.name=t,s(e,u),s(e.prototype,c),e}},function(t,e){var n=[].slice;t.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var r=n.call(arguments,2);return function(){return e.apply(t,r.concat(n.call(arguments)))}}},function(t,e,n){(function(r){function i(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==r&&"env"in r&&(t=Object({NODE_ENV:"production"}).DEBUG),t}(e=t.exports=n(58)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var i=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(i++,"%c"===t&&(o=i))})),t.splice(o,0,r)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=i,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(i())}).call(this,n(7))},function(t,e,n){var r;function i(t){function n(){if(n.enabled){var t=n,i=+new Date,o=i-(r||i);t.diff=o,t.prev=r,t.curr=i,r=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var c=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;c++;var i=e.formatters[r];if("function"==typeof i){var o=s[c];n=i.call(t,o),s.splice(c,1),c--}return n})),e.formatArgs.call(t,s);var u=n.log||e.log||console.log.bind(console);u.apply(t,s)}}return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=function(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}(t),"function"==typeof e.init&&e.init(n),n}(e=t.exports=i.debug=i.default=i).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){e.save(t),e.names=[],e.skips=[];for(var n=("string"==typeof t?t:"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&("-"===(t=n[i].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n(59),e.names=[],e.skips=[],e.formatters={}},function(t,e){var n=1e3,r=6e4,i=60*r,o=24*i;function s(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}t.exports=function(t,e){e=e||{};var a,c=typeof t;if("string"===c&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!e)return;var s=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(t);if("number"===c&&!1===isNaN(t))return e.long?s(a=t,o,"day")||s(a,i,"hour")||s(a,r,"minute")||s(a,n,"second")||a+" ms":function(t){if(t>=o)return Math.round(t/o)+"d";if(t>=i)return Math.round(t/i)+"h";if(t>=r)return Math.round(t/r)+"m";if(t>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){"use strict";var r=n(61),i=n(62),o=Object.prototype.hasOwnProperty,s=Object.prototype.toString,a=function(t){return Boolean(t)&&"object"==typeof t},c=function(t){return Boolean(t)&&"[object Object]"===s.call(t)},u=function(t,e,n,r){return o.call(e,r)&&void 0===t[r]&&(t[r]=n),e},l=function(t,e,n,r){return o.call(e,r)&&(c(t[r])&&c(n)?t[r]=d(t[r],n):void 0===t[r]&&(t[r]=n)),e},f=function(t,e){if(!a(e))return e;t=t||u;for(var n=r(2,arguments),i=0;i<n.length;i+=1)for(var o in n[i])t(e,n[i],n[i][o],o);return e},d=function(t){return f.apply(null,[l,t].concat(i(arguments)))};t.exports=function(t){return f.apply(null,[null,t].concat(i(arguments)))},t.exports.deep=d},function(t,e,n){"use strict";var r=Math.max;t.exports=function(t,e){var n=e?e.length:0;if(!n)return[];for(var i=r(Number(t)||0,0),o=r(n-i,0),s=new Array(o),a=0;a<o;a+=1)s[a]=e[a+i];return s}},function(t,e,n){"use strict";var r=Math.max;t.exports=function(t){if(null==t||!t.length)return[];for(var e=new Array(r(t.length-2,0)),n=1;n<t.length;n+=1)e[n-1]=t[n];return e}},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,i=Object.prototype.toString,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===i.call(t)},c=function(t){if(!t||"[object Object]"!==i.call(t))return!1;var e,n=r.call(t,"constructor"),o=t.constructor&&t.constructor.prototype&&r.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!o)return!1;for(e in t);return void 0===e||r.call(t,e)},u=function(t,e){o&&"__proto__"===e.name?o(t,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):t[e.name]=e.newValue},l=function(t,e){if("__proto__"===e){if(!r.call(t,e))return;if(s)return s(t,e).value}return t[e]};t.exports=function t(){var e,n,r,i,o,s,f=arguments[0],d=1,p=arguments.length,h=!1;for("boolean"==typeof f&&(h=f,f=arguments[1]||{},d=2),(null==f||"object"!=typeof f&&"function"!=typeof f)&&(f={});d<p;++d)if(null!=(e=arguments[d]))for(n in e)r=l(f,n),f!==(i=l(e,n))&&(h&&i&&(c(i)||(o=a(i)))?(o?(o=!1,s=r&&a(r)?r:[]):s=r&&c(r)?r:{},u(f,{name:n,newValue:t(h,s,i)})):void 0!==i&&u(f,{name:n,newValue:i}));return f}},function(t,e){t.exports=function(t,e){return e||(e={}),t.toLowerCase().replace(e.replace||/[^a-z0-9]/g," ").replace(/^ +| +$/g,"").replace(/ +/g,e.separator||"-")}},function(t,e,n){"use strict";var r=n(66),i=n(67),o=n(69),s=n(72),a=n(73),c=n(71),u=n(74),l=n(75),f=n(78),d=n(77),p=n(80),h=Object.prototype.hasOwnProperty,y=function(){},v=window.onerror;function g(t){return!!u.object(t)&&(!!u.string(t.key)&&!!h.call(t,"value"))}r(e),e.initialize=function(){var t=this.ready;d(t)},e.loaded=function(){return!1},e.page=function(t){},e.track=function(t){},e.map=function(t,e){var n=p(e),r=function(t){if(u.array(t))return s(g,t)?"mixed":"array";return u.object(t)?"map":"unknown"}(t);return"unknown"===r?[]:c((function(t,e,i){var o,s;return"map"===r&&(o=i,s=e),"array"===r&&(o=e,s=e),"mixed"===r&&(o=e.key,s=e.value),p(o)===n&&t.push(s),t}),[],t)},e.invoke=function(t){if(this[t]){var e=Array.prototype.slice.call(arguments,1);return this._ready?(this.debug("%s with %o",t,e),this[t].apply(this,e)):this.queue(t,e)}},e.queue=function(t,e){this._queue.push({method:t,args:e})},e.flush=function(){this._ready=!0;var t=this;i((function(e){t[e.method].apply(t,e.args)}),this._queue),this._queue.length=0},e.reset=function(){for(var t=0;t<this.globals.length;t++)window[this.globals[t]]=void 0;window.onerror=v,window.onload=null},e.load=function(t,e,n){"function"==typeof t&&(n=t,e=null,t=null),t&&"object"==typeof t&&(n=e,e=t,t=null),"function"==typeof e&&(n=e,e=null),t=t||"library",e=e||{},e=this.locals(e);var r=this.templates[t];if(!r)throw new Error(a('template "%s" not defined.',t));var o=function(t,e){return c((function(t,n,r){return t[r]=n.replace(/\{\{\ *(\w+)\ *\}\}/g,(function(t,n){return e[n]})),t}),{},t.attrs)}(r,e);n=n||y;var s,u=this;switch(r.type){case"img":o.width=1,o.height=1,s=function(t,e){e=e||function(){};var n=new Image;return n.onerror=function(t,e,n){return function(r){r=r||window.event;var i=new Error(e);i.event=r,i.source=n,t(i)}}(e,"failed to load pixel",n),n.onload=function(){e()},n.src=t.src,n.width=1,n.height=1,n}(o,n);break;case"script":s=f(o,(function(t){if(!t)return n();u.debug('error loading "%s" error="%s"',u.name,t)})),delete o.src,i((function(t,e){s.setAttribute(e,t)}),o);break;case"iframe":s=l(o,n)}return s},e.locals=function(t){t=t||{};var e=Math.floor((new Date).getTime()/36e5);return t.hasOwnProperty("cache")||(t.cache=e),i((function(e,n){t.hasOwnProperty(n)||(t[n]=e)}),this.options),t},e.ready=function(){this.emit("ready")},e._wrapInitialize=function(){var t=this.initialize;this.initialize=function(){this.debug("initialize"),this._initialized=!0;var e=t.apply(this,arguments);return this.emit("initialize"),e}},e._wrapPage=function(){var t=this.page,e=!1;this.page=function(){if(!this._assumesPageview||e)return t.apply(this,arguments);e=!0}},e._wrapTrack=function(){var t=this.track;this.track=function(e){var n,r,i=e.event();for(var s in o)if(h.call(o,s)){var a=o[s];if(!this[s])continue;if(!a.test(i))continue;r=this[s].apply(this,arguments),n=!0;break}return n||(r=t.apply(this,arguments)),r}}},function(t,e,n){function r(t){if(t)return function(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}(t)}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<r.length;i++)if((n=r[i])===e||n.fn===e){r.splice(i,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,e);return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,n){"use strict";var r=n(68),i=Object.prototype.toString,o="function"==typeof Array.isArray?Array.isArray:function(t){return"[object Array]"===i.call(t)},s=function(t){return null!=t&&(o(t)||"function"!==t&&function(t){var e=typeof t;return"number"===e||"object"===e&&"[object Number]"===i.call(t)}(t.length))},a=function(t,e){for(var n=0;n<e.length&&!1!==t(e[n],n,e);n+=1);},c=function(t,e){for(var n=r(e),i=0;i<n.length&&!1!==t(e[n[i]],n[i],e);i+=1);};t.exports=function(t,e){return(s(e)?a:c).call(this,t,e)}},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,i=String.prototype.charAt,o=Object.prototype.toString,s=function(t,e){return i.call(t,e)},a=function(t,e){return r.call(t,e)},c=function(t,e){e=e||a;for(var n=[],r=0,i=t.length;r<i;r+=1)e(t,r)&&n.push(String(r));return n};t.exports=function(t){return null==t?[]:(e=t,"[object String]"===o.call(e)?c(t,s):function(t){return null!=t&&"function"!=typeof t&&"number"==typeof t.length}(t)?c(t,a):function(t,e){e=e||a;var n=[];for(var r in t)e(t,r)&&n.push(String(r));return n}(t));var e}},function(t,e,n){"use strict";var r=n(70),i=n(71);t.exports=i((function(t,e,n){var i=r((function(t){return r((function(t){return"^[ _]?"+[].concat.apply([],r((function(t){return t.split(" ")}),t)).join("[ _]?")+"[ _]?"}),[[t.action,t.object],[t.object,t.action]]).join("|")}),e).join("|")+"$";return t[n]=new RegExp(i,"i"),t}),{},{videoPlaybackStarted:[{object:"video playback",action:"started"}],videoPlaybackPaused:[{object:"video playback",action:"paused"}],videoPlaybackInterrupted:[{object:"video playback",action:"interrupted"}],videoPlaybackResumed:[{object:"video playback",action:"resumed"}],videoPlaybackCompleted:[{object:"video playback",action:"completed"}],videoPlaybackExited:[{object:"video playback",action:"exited"}],videoPlaybackBufferStarted:[{object:"video playback buffer",action:"started"}],videoPlaybackBufferCompleted:[{object:"video playback buffer",action:"completed"}],videoPlaybackSeekStarted:[{object:"video playback seek",action:"started"}],videoPlaybackSeekCompleted:[{object:"video playback seek",action:"completed"}],videoContentStarted:[{object:"video content",action:"started"}],videoContentPlaying:[{object:"video content",action:"playing"}],videoContentCompleted:[{object:"video content",action:"completed"}],videoAdStarted:[{object:"video ad",action:"started"}],videoAdPlaying:[{object:"video ad",action:"playing"}],videoAdCompleted:[{object:"video ad",action:"completed"}],videoAdClicked:[{object:"video ad",action:"clicked"}],videoAdSkipped:[{object:"video ad",action:"skipped"}],promotionViewed:[{object:"promotion",action:"viewed"}],promotionClicked:[{object:"promotion",action:"clicked"}],productsSearched:[{object:"products",action:"searched"}],productListViewed:[{object:"product list",action:"viewed"},{object:"product category",action:"viewed"}],productListFiltered:[{object:"product list",action:"filtered"}],productClicked:[{object:"product",action:"clicked"}],productViewed:[{object:"product",action:"viewed"}],productAdded:[{object:"product",action:"added"}],productRemoved:[{object:"product",action:"removed"}],cartViewed:[{object:"cart",action:"viewed"}],orderUpdated:[{object:"order",action:"updated"}],orderCompleted:[{object:"order",action:"completed"}],orderRefunded:[{object:"order",action:"refunded"}],orderCancelled:[{object:"order",action:"cancelled"}],paymentInfoEntered:[{object:"payment info",action:"entered"}],checkoutStarted:[{object:"checkout",action:"started"}],checkoutStepViewed:[{object:"checkout step",action:"viewed"}],checkoutStepCompleted:[{object:"checkout step",action:"completed"}],couponEntered:[{object:"coupon",action:"entered"}],couponApplied:[{object:"coupon",action:"applied"}],couponDenied:[{object:"coupon",action:"denied"}],couponRemoved:[{object:"coupon",action:"removed"}],productAddedToWishlist:[{object:"product",action:"added to wishlist"}],productRemovedFromWishlist:[{object:"product",action:"removed from wishlist"}],productAddedFromWishlistToCart:[{object:"product",action:"added to cart from wishlist"},{object:"product",action:"added from wishlist to cart"}],wishlistProductAddedToCart:[{object:"wishlist product",action:"added to cart"}],productShared:[{object:"product",action:"shared"}],cartShared:[{object:"cart",action:"shared"}],productReviewed:[{object:"product",action:"reviewed"}],applicationInstalled:[{object:"application",action:"installed"}],applicationUpdated:[{object:"application",action:"updated"}],applicationOpened:[{object:"application",action:"opened"}],applicationBackgrounded:[{object:"application",action:"backgrounded"}],applicationUninstalled:[{object:"application",action:"uninstalled"}],applicationCrashed:[{object:"application",action:"crashed"}],installAttributed:[{object:"install",action:"attributed"}],deepLinkOpened:[{object:"deep link",action:"opened"}],deepLinkClicked:[{object:"deep link",action:"clicked"}],pushNotificationReceived:[{object:"push notification",action:"received"}],pushNotificationTapped:[{object:"push notification",action:"tapped"}],pushNotificationBounced:[{object:"push notification",action:"bounced"}],emailBounced:[{object:"email",action:"bounced"}],emailDelivered:[{object:"email",action:"delivered"}],emailLinkClicked:[{object:"email link",action:"clicked"}],emailMarkedAsSpam:[{object:"email",action:"marked as spam"}],emailOpened:[{object:"email",action:"opened"}],unsubscribed:[{object:"",action:"unsubscribed"}],liveChatConversationEnded:[{object:"live chat conversation",action:"ended"}],liveChatConversationStarted:[{object:"live chat conversation",action:"started"}],liveChatMessageReceived:[{object:"live chat message",action:"received"}],liveChatMessageSent:[{object:"live chat message",action:"sent"}]})},function(t,e,n){"use strict";var r=n(67);t.exports=function(t,e){if("function"!=typeof t)throw new TypeError("Expected a function but received a "+typeof t);var n=[];return r((function(e,r,i){n.push(t(e,r,i))}),e),n}},function(t,e,n){"use strict";var r=n(67);t.exports=function(t,e,n){if("function"!=typeof t)throw new TypeError("Expected a function but received a "+typeof t);return r((function(n,r,i){e=t(e,n,r,i)}),n),e}},function(t,e,n){"use strict";var r=n(67);t.exports=function(t,e){if("function"!=typeof t)throw new TypeError("`predicate` must be a function but was a "+typeof t);var n=!0;return r((function(e,r,i){if(!(n=!!t(e,r,i)))return!1}),e),n}},function(t,e,n){"use strict";(function(e){var n=e.JSON&&"function"==typeof JSON.stringify?JSON.stringify:String;function r(t){var e=Array.prototype.slice.call(arguments,1),n=0;return t.replace(/%([a-z])/gi,(function(t,i){return r[i]?r[i](e[n++]):t+i}))}r.o=n,r.s=String,r.d=parseInt,t.exports=r}).call(this,n(5))},function(t,e,n){"use strict";
/**!
 * is
 * the definitive JavaScript type testing library
 *
 * @copyright 2013-2014 Enrico Marino / Jordan Harband
 * @license MIT
 */var r,i,o=Object.prototype,s=o.hasOwnProperty,a=o.toString;"function"==typeof Symbol&&(r=Symbol.prototype.valueOf),"function"==typeof BigInt&&(i=BigInt.prototype.valueOf);var c=function(t){return t!=t},u={boolean:1,number:1,string:1,undefined:1},l=/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$/,f=/^[A-Fa-f0-9]+$/,d={};d.a=d.type=function(t,e){return typeof t===e},d.defined=function(t){return void 0!==t},d.empty=function(t){var e,n=a.call(t);if("[object Array]"===n||"[object Arguments]"===n||"[object String]"===n)return 0===t.length;if("[object Object]"===n){for(e in t)if(s.call(t,e))return!1;return!0}return!t},d.equal=function(t,e){if(t===e)return!0;var n,r=a.call(t);if(r!==a.call(e))return!1;if("[object Object]"===r){for(n in t)if(!d.equal(t[n],e[n])||!(n in e))return!1;for(n in e)if(!d.equal(t[n],e[n])||!(n in t))return!1;return!0}if("[object Array]"===r){if((n=t.length)!==e.length)return!1;for(;n--;)if(!d.equal(t[n],e[n]))return!1;return!0}return"[object Function]"===r?t.prototype===e.prototype:"[object Date]"===r&&t.getTime()===e.getTime()},d.hosted=function(t,e){var n=typeof e[t];return"object"===n?!!e[t]:!u[n]},d.instance=d.instanceof=function(t,e){return t instanceof e},d.nil=d.null=function(t){return null===t},d.undef=d.undefined=function(t){return void 0===t},d.args=d.arguments=function(t){var e="[object Arguments]"===a.call(t),n=!d.array(t)&&d.arraylike(t)&&d.object(t)&&d.fn(t.callee);return e||n},d.array=Array.isArray||function(t){return"[object Array]"===a.call(t)},d.args.empty=function(t){return d.args(t)&&0===t.length},d.array.empty=function(t){return d.array(t)&&0===t.length},d.arraylike=function(t){return!!t&&!d.bool(t)&&s.call(t,"length")&&isFinite(t.length)&&d.number(t.length)&&t.length>=0},d.bool=d.boolean=function(t){return"[object Boolean]"===a.call(t)},d.false=function(t){return d.bool(t)&&!1===Boolean(Number(t))},d.true=function(t){return d.bool(t)&&!0===Boolean(Number(t))},d.date=function(t){return"[object Date]"===a.call(t)},d.date.valid=function(t){return d.date(t)&&!isNaN(Number(t))},d.element=function(t){return void 0!==t&&"undefined"!=typeof HTMLElement&&t instanceof HTMLElement&&1===t.nodeType},d.error=function(t){return"[object Error]"===a.call(t)},d.fn=d.function=function(t){if("undefined"!=typeof window&&t===window.alert)return!0;var e=a.call(t);return"[object Function]"===e||"[object GeneratorFunction]"===e||"[object AsyncFunction]"===e},d.number=function(t){return"[object Number]"===a.call(t)},d.infinite=function(t){return t===1/0||t===-1/0},d.decimal=function(t){return d.number(t)&&!c(t)&&!d.infinite(t)&&t%1!=0},d.divisibleBy=function(t,e){var n=d.infinite(t),r=d.infinite(e),i=d.number(t)&&!c(t)&&d.number(e)&&!c(e)&&0!==e;return n||r||i&&t%e==0},d.integer=d.int=function(t){return d.number(t)&&!c(t)&&t%1==0},d.maximum=function(t,e){if(c(t))throw new TypeError("NaN is not a valid value");if(!d.arraylike(e))throw new TypeError("second argument must be array-like");for(var n=e.length;--n>=0;)if(t<e[n])return!1;return!0},d.minimum=function(t,e){if(c(t))throw new TypeError("NaN is not a valid value");if(!d.arraylike(e))throw new TypeError("second argument must be array-like");for(var n=e.length;--n>=0;)if(t>e[n])return!1;return!0},d.nan=function(t){return!d.number(t)||t!=t},d.even=function(t){return d.infinite(t)||d.number(t)&&t==t&&t%2==0},d.odd=function(t){return d.infinite(t)||d.number(t)&&t==t&&t%2!=0},d.ge=function(t,e){if(c(t)||c(e))throw new TypeError("NaN is not a valid value");return!d.infinite(t)&&!d.infinite(e)&&t>=e},d.gt=function(t,e){if(c(t)||c(e))throw new TypeError("NaN is not a valid value");return!d.infinite(t)&&!d.infinite(e)&&t>e},d.le=function(t,e){if(c(t)||c(e))throw new TypeError("NaN is not a valid value");return!d.infinite(t)&&!d.infinite(e)&&t<=e},d.lt=function(t,e){if(c(t)||c(e))throw new TypeError("NaN is not a valid value");return!d.infinite(t)&&!d.infinite(e)&&t<e},d.within=function(t,e,n){if(c(t)||c(e)||c(n))throw new TypeError("NaN is not a valid value");if(!d.number(t)||!d.number(e)||!d.number(n))throw new TypeError("all arguments must be numbers");return d.infinite(t)||d.infinite(e)||d.infinite(n)||t>=e&&t<=n},d.object=function(t){return"[object Object]"===a.call(t)},d.primitive=function(t){return!t||!("object"==typeof t||d.object(t)||d.fn(t)||d.array(t))},d.hash=function(t){return d.object(t)&&t.constructor===Object&&!t.nodeType&&!t.setInterval},d.regexp=function(t){return"[object RegExp]"===a.call(t)},d.string=function(t){return"[object String]"===a.call(t)},d.base64=function(t){return d.string(t)&&(!t.length||l.test(t))},d.hex=function(t){return d.string(t)&&(!t.length||f.test(t))},d.symbol=function(t){return"function"==typeof Symbol&&"[object Symbol]"===a.call(t)&&"symbol"==typeof r.call(t)},d.bigint=function(t){return"function"==typeof BigInt&&"[object BigInt]"===a.call(t)&&"bigint"==typeof i.call(t)},t.exports=d},function(t,e,n){var r=n(74),i=n(76),o=n(77);t.exports=function(t,e){if(!t)throw new Error("Cant load nothing...");r.string(t)&&(t={src:t});var n="https:"===document.location.protocol||"chrome-extension:"===document.location.protocol;t.src&&0===t.src.indexOf("//")&&(t.src=n?"https:"+t.src:"http:"+t.src),n&&t.https?t.src=t.https:!n&&t.http&&(t.src=t.http);var s=document.createElement("iframe");return s.src=t.src,s.width=t.width||1,s.height=t.height||1,s.style.display="none",r.fn(e)&&i(s,e),o((function(){var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(s,t)})),s}},function(t,e){t.exports=function(t,e){return t.addEventListener?function(t,e){t.addEventListener("load",(function(t,n){e(null,n)}),!1),t.addEventListener("error",(function(n){var r=new Error('script error "'+t.src+'"');r.event=n,e(r)}),!1)}(t,e):function(t,e){t.attachEvent("onreadystatechange",(function(n){/complete|loaded/.test(t.readyState)&&e(null,n)})),t.attachEvent("onerror",(function(n){var r=new Error('failed to load the script "'+t.src+'"');r.event=n||window.event,e(r)}))}(t,e)}},function(t,e,n){"use strict";(function(e,n){var r,i;r=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t},i=function(t){var e,n=document.createTextNode(""),i=0;return new t((function(){var t;e&&(t=e,e=null,"function"!=typeof t?t.forEach((function(t){t()})):t())})).observe(n,{characterData:!0}),function(t){r(t),e?"function"==typeof e?e=[e,t]:e.push(t):(e=t,n.data=i=++i%2)}},t.exports=function(){if(void 0!==e&&e&&"function"==typeof e.nextTick)return e.nextTick;if("object"==typeof document&&document){if("function"==typeof MutationObserver)return i(MutationObserver);if("function"==typeof WebKitMutationObserver)return i(WebKitMutationObserver)}return"function"==typeof n?function(t){n(r(t))}:"function"==typeof setTimeout?function(t){setTimeout(r(t),0)}:null}()}).call(this,n(7),n(4).setImmediate)},function(t,e,n){"use strict";var r=n(76),i=n(77),o=n(79);t.exports=function(t,e){if(!t)throw new Error("Can't load nothing...");"string"===o(t)&&(t={src:t});var n="https:"===document.location.protocol||"chrome-extension:"===document.location.protocol;t.src&&0===t.src.indexOf("//")&&(t.src=(n?"https:":"http:")+t.src),n&&t.https?t.src=t.https:!n&&t.http&&(t.src=t.http);var s=document.createElement("script");return s.type="text/javascript",s.async=!0,s.src=t.src,"function"===o(e)&&r(s,e),i((function(){var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(s,t)})),s}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){switch(n.call(t)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===t?"null":void 0===t?"undefined":t!=t?"nan":t&&1===t.nodeType?"element":null!=(e=t)&&(e._isBuffer||e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e))?"buffer":typeof(t=t.valueOf?t.valueOf():Object.prototype.valueOf.apply(t));var e}},function(t,e){t.exports=function(t){return n.test(t)?t.toLowerCase():r.test(t)?(function(t){return t.replace(i,(function(t,e){return e?" "+e:""}))}(t)||t).toLowerCase():function(t){return t.replace(o,(function(t,e,n){return e+" "+n.toLowerCase().split("").join(" ")}))}(t).toLowerCase()};var n=/\s/,r=/[\W_]/;var i=/[\W_]+(.|$)/g;var o=/(.)([A-Z]+)/g},function(t,e,n){"use strict";var r=n(66),i=n(82),o=n(67),s=n(83);r(e),e.option=function(t,e){return this.prototype.defaults[t]=e,this},e.mapping=function(t){return this.option(t,[]),this.prototype[t]=function(e){return this.map(this.options[t],e)},this},e.global=function(t){return this.prototype.globals.push(t),this},e.assumesPageview=function(){return this.prototype._assumesPageview=!0,this},e.readyOnLoad=function(){return this.prototype._readyOnLoad=!0,this},e.readyOnInitialize=function(){return this.prototype._readyOnInitialize=!0,this},e.tag=function(t,e){return null==e&&(e=t,t="library"),this.prototype.templates[t]=function(t){t=t.replace(' src="',' data-src="');var e=i(t),n={};return o((function(e){var r="data-src"===e.name?"src":e.name;s(e.name+"=",t)&&(n[r]=e.value)}),e.attributes),{type:e.tagName.toLowerCase(),attrs:n}}(e),this}},function(t,e){t.exports=function(t,e){if("string"!=typeof t)throw new TypeError("String expected");e||(e=document);var n=/<([\w:]+)/.exec(t);if(!n)return e.createTextNode(t);t=t.replace(/^\s+|\s+$/g,"");var r=n[1];if("body"==r){return(o=e.createElement("html")).innerHTML=t,o.removeChild(o.lastChild)}var o,s=Object.prototype.hasOwnProperty.call(i,r)?i[r]:i._default,a=s[0],c=s[1],u=s[2];(o=e.createElement("div")).innerHTML=c+t+u;for(;a--;)o=o.lastChild;if(o.firstChild==o.lastChild)return o.removeChild(o.firstChild);var l=e.createDocumentFragment();for(;o.firstChild;)l.appendChild(o.removeChild(o.firstChild));return l};var n,r=!1;"undefined"!=typeof document&&((n=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',r=!n.getElementsByTagName("link").length,n=void 0);var i={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:r?[1,"X<div>","</div>"]:[0,"",""]};i.td=i.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],i.option=i.optgroup=[1,'<select multiple="multiple">',"</select>"],i.thead=i.tbody=i.colgroup=i.caption=i.tfoot=[1,"<table>","</table>"],i.polyline=i.ellipse=i.polygon=i.circle=i.text=i.line=i.path=i.rect=i.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"]},function(t,e,n){"use strict";var r=n(67),i=String.prototype.indexOf;t.exports=function(t,e){var n=!1;return"string"==typeof e?-1!==i.call(e,t):(r((function(e){if((r=e)===(i=t)?0!==r||1/r==1/i:r!=r&&i!=i)return n=!0,!1;var r,i}),e),n)}},function(t,e,n){"use strict";n.r(e),e.default=(t,e)=>{const n="function"==typeof t;return()=>{if(n)try{return t()}catch(t){return void console.error(`${e} - ${t.message}`)}return t}}},function(t,e,n){"use strict";n.r(e),n.d(e,"filterAndBuildContainers",(function(){return v})),n.d(e,"buildContainersWithName",(function(){return g})),n.d(e,"buildActionFields",(function(){return m})),n.d(e,"buildScreenEvent",(function(){return b})),n.d(e,"buildActionName",(function(){return _})),n.d(e,"buildContext",(function(){return w})),n.d(e,"extractProductOverrides",(function(){return I})),n.d(e,"buildActionEvent",(function(){return E}));var r=n(2),i=n.n(r),o=n(50),s=n(86);function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t){return{tenantIdType:t.tenantIdType,tenantId:t.tenantId}}function l(t){return{userIdType:t.userIdType}}function f(t){return{orgId:t.orgId}}function d(t,e){return void 0===e?t:e}function p(t,e){const n=e||{};return{env:d(t.env,n.env),product:d(t.product,n.product),subproduct:d(t.subproduct(),n.subproduct),version:d(t.version,n.version),origin:d(t.origin,n.origin),platform:d(t.platform,n.platform)}}function h(t){return Object(s.isPlainObject)(t)&&Object.keys(t).length>0}function y(t,e){return h(e)?{[t]:e}:void 0}function v(t){const e={};return Object.keys(t).forEach(n=>{const r=t[n];e[n]={id:r.id,type:r.type}}),e}function g(t){if(h(t)){return y("containers",v(t))}}function m(t,e){return c({containerType:t.containerType,containerId:t.containerId,source:t.source,objectType:t.objectType,objectId:t.objectId,actionSubject:t.actionSubject,action:t.action,actionSubjectId:t.actionSubjectId,attributes:t.attributes,nonPrivacySafeAttributes:t.nonPrivacySafeAttributes,tags:t.tags,highPriority:t.highPriority,eventType:e},g(t.containers))}function b(t,e,n,r,i,s,a,d,h,v,m){const b=p(t),_=u(e),w=l(n),I=f(v),E={title:"",path:"",url:"",referrer:"",search:"",eventType:o.eventType.SCREEN};return c(c(c(c(c(c(c(c(c({},b),_),w),I),E),function(t){return y("attributes",t)}(r)),function(t){return y("nonPrivacySafeAttributes",t)}(i)),g(m)),{},{tags:s,tabId:a,sessionId:d,taskSessions:h})}function _(t){return`${t.actionSubject} ${t.action}`}function w(t){const e=window.screen||{};return{context:{locale:t.locale,screen:{width:e.width,height:e.height,density:window.devicePixelRatio},library:{name:"analytics.js",version:"3.0.0"}}}}function I(t){const{env:e,product:n,subproduct:r,version:i,origin:o,platform:s}=t;return{env:e,product:n,subproduct:r,version:i,origin:o,platform:s}}function E(t,e,n,r,i,o,s,a,d){const h=p(t,I(r)),y=u(e),v=f(d),g=l(n),b=m(r,i);return c(c(c(c(c(c({},h),y),v),g),b),{},{tabId:o,sessionId:s,taskSessions:a})}},function(t,e,n){"use strict";function r(t){return!0==(null!==(e=t)&&"object"==typeof e&&!1===Array.isArray(e))&&"[object Object]"===Object.prototype.toString.call(t);var e}function i(t){if(!1===r(t))return!1;const e=t.constructor;if("function"!=typeof e)return!1;const n=e.prototype;return!1!==r(n)&&"isPrototypeOf"in n}n.r(e),n.d(e,"isPlainObject",(function(){return i}))},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return s}));var r=n(85),i=n(88),o=n(90);class s{constructor(t,e){this.push=(t,e,n,r)=>{this._eventArgs.push({identifier:t,builtEvent:e,context:n,userInfo:r})},this.size=()=>this._eventArgs.length,this.startFlush=()=>{try{this._eventArgs=this._compressEventArgs(this._eventArgs)}catch(t){console.warn(`Failed to perform compression on the delayed analytics events. Error: ${t.message}. Sending ${this._eventArgs.length} uncompressed events instead`)}this._flushNextBatch()},this.cancelFlush=()=>{this._flushBatchTimeout&&(clearTimeout(this._flushBatchTimeout),this._flushBatchTimeout=null)},this._flushNextBatch=()=>{this._eventArgs.splice(0,7).forEach(t=>this._processFn(t.identifier,t.builtEvent,t.context,t.userInfo)),this._eventArgs.length>0?this._flushBatchTimeout=setTimeout(()=>this._flushNextBatch(),100):this._flushBatchTimeout=null},this._compressEventArgs=t=>{const[e,n]=Object(o.partition)(t,t=>this._compressor.canCompress(t.builtEvent)),i=e.reduce((t,e)=>{let n=null;for(let r=0;r<t.length;r++){const i=t[r];if(Object(o.equals)(i.userInfo,e.userInfo)&&Object(o.equals)(i.context,e.context)){n=i;break}}return n?n.eventArgs.push(e):t.push({userInfo:e.userInfo,context:e.context,eventArgs:[e]}),t},[]).reduce((t,e)=>{try{const n=e.eventArgs.map(t=>t.builtEvent),i=this._compressor.compress(n);return i.map(t=>({identifier:Object(r.buildActionName)(t),builtEvent:t,userInfo:e.userInfo,context:e.context})).forEach(e=>t.push(e)),t}catch(t){return console.warn(`Failed to compress some analytics events. Error: ${t.message}. Sending ${e.eventArgs.length} uncompressed events instead`),e.eventArgs}},[]);return n.forEach(t=>i.push(t)),i},this._processFn=t,this._flushBatchTimeout=null,this._eventArgs=[],this._compressor=new i.default(e)}}},function(t,e,n){"use strict";n.r(e),n.d(e,"CompressionRule",(function(){return l})),n.d(e,"default",(function(){return f}));var r=n(2),i=n.n(r),o=n(85),s=n(89),a=n(90);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}class l{constructor(t,e){if(this.canCompress=t=>{try{return t&&Object(s.isActionEventType)(t.eventType)&&this._predicate(t)}catch(t){return!1}},this.compress=t=>{const[e,n]=Object(a.partition)(t,t=>this.canCompress(t)),r=this._compressFn(e);if(!r)throw new Error("No events were returned from the compression function");return r.forEach(t=>{Object(s.validateActionEventType)(t.eventType),Object(s.validateActionEvent)(t)}),r.concat(n)},"function"!=typeof t)throw new Error("Invalid predicate, must be a function that accepts an event and returns a boolean");if("function"!=typeof e)throw new Error("Invalid compressFn, must be a function that both accepts and returns an array of events");this._predicate=t,this._compressFn=e}}class f{constructor(t=[]){if(this.canCompress=t=>this._compressionRules.some(e=>e.canCompress(t)),this.compress=t=>this._createGroups(t).reduce((t,e)=>(this._compressGroup(e).forEach(e=>t.push(e)),t),[]),this._createGroups=t=>t.reduce((t,e)=>{let n,r=null;for(let t=0;t<this._compressionRules.length;t++){const n=this._compressionRules[t];if(n.canCompress(e)){r=n;break}}if(r){const t=Object(o.buildActionFields)(e,e.eventType);n=Object(a.omit)(e,Object.keys(t))}let i=null;for(let e=0;e<t.length;e++){const o=t[e];if(r===o.compressor&&Object(a.equals)(n,o.contextFields)){i=o;break}}return i?i.events.push(e):t.push({contextFields:n,compressor:r,events:[e]}),t},[]),this._compressGroup=t=>{if(!t.compressor)return t.events;try{return t.compressor.compress(t.events).map(e=>u(u({},e),t.contextFields))}catch(e){return console.warn(`Failed to compress some analytics events. Error: ${e.message}. Sending ${t.events.length} uncompressed events instead`),t.events}},!Array.isArray(t))throw new Error("Event compressors must be constructed with an array of CompressionRules");if(!t.every(t=>t instanceof l))throw new Error("Event compressors can only be constructed with instances of CompressionRule");this._compressionRules=t}}},function(t,e,n){"use strict";n.r(e),n.d(e,"validateContainersObject",(function(){return s})),n.d(e,"validateContainers",(function(){return a})),n.d(e,"isActionEventType",(function(){return c})),n.d(e,"validateActionEventType",(function(){return u})),n.d(e,"validateActionEvent",(function(){return l})),n.d(e,"validateScreenEvent",(function(){return f})),n.d(e,"validateTrackEvent",(function(){return d})),n.d(e,"validateDwellBaseEvent",(function(){return p})),n.d(e,"validateUIEvent",(function(){return h})),n.d(e,"validateOperationalEvent",(function(){return y})),n.d(e,"validateIdentifyEvent",(function(){return v})),n.d(e,"validatePlatform",(function(){return g}));var r=n(50),i=n(86);const o=Object.freeze([r.eventType.OPERATIONAL,r.eventType.TRACK,r.eventType.UI]);function s(t){if(!Object(i.isPlainObject)(t))throw new Error("properties.containers must be an Object");if(!("id"in t))throw new Error("properties.containers is missing field 'id'");if("string"!=typeof t.id)throw new Error("properties.containers.id must be of type String");if("type"in t&&"string"!=typeof t.type)throw new Error("properties.containers.type must be of type String")}function a(t){if(t){if(t&&t.constructor!==Object)throw new Error("properties.containers must be an Object");Object.values(t).forEach(t=>s(t))}}function c(t){switch(t){case r.eventType.OPERATIONAL:case r.eventType.TRACK:case r.eventType.UI:return!0;default:return!1}}function u(t){if(!c(t))throw new Error(`Invalid action event type: ${t}, must be one of: [${o}]`)}function l(t){if(!t)throw new Error("Missing event");if(!t.source)throw new Error("Missing event.source");if(!t.actionSubject)throw new Error("Missing event.actionSubject");if(!t.action)throw new Error("Missing event.action");a(t.containers)}function f(t){if(!t)throw new Error("Missing name")}function d(t){l(t)}function p(t){if(!t)throw new Error("Missing event");if(!t.source)throw new Error("Missing event.source");if(!t.actionSubject)throw new Error("Missing event.actionSubject")}function h(t){l(t)}function y(t){l(t)}function v(t,e){if(!t)throw new Error("Missing userIdType");if(!e)throw new Error("Missing userId");if(!Object(r.isType)(r.userType,t))throw new Error(`Invalid userIdType '${t}', must be an userType: [${Object(r.objectValues)(r.userType)}]`)}function g(t){if(!Object(r.isType)(r.platformType,t.platform))throw new Error(`Invalid productInfo.platform '${t.platform}', must be a platformType: [${Object(r.objectValues)(r.platformType)}]`);if(t.origin===r.originType.DESKTOP&&!Object(r.isType)(r.desktopPlatforms,t.platform))throw new Error(`Invalid productInfo.platform '${t.platform}', must be one of [mac, linux, windows]`);if(t.origin===r.originType.WEB&&!Object(r.isType)(r.webPlatforms,t.platform))throw new Error(`Invalid productInfo.platform '${t.platform}', must be one of [web, mobileWeb]`)}},function(t,e,n){"use strict";n.r(e),n.d(e,"mapKeys",(function(){return r})),n.d(e,"pick",(function(){return i})),n.d(e,"pickBy",(function(){return s})),n.d(e,"omitBy",(function(){return o})),n.d(e,"omit",(function(){return a})),n.d(e,"equals",(function(){return c})),n.d(e,"partition",(function(){return u}));const r=(t,e)=>Object.keys(t).reduce((n,r)=>(n[e(t[r],r,t)]=t[r],n),{}),i=(t,e)=>e.reduce((e,n)=>(n in t&&(e[n]=t[n]),e),{}),o=(t,e)=>Object.keys(t).filter(n=>!e(t[n],n)).reduce((e,n)=>(e[n]=t[n],e),{}),s=(t,e)=>Object.keys(t).filter(n=>e(t[n],n)).reduce((e,n)=>(e[n]=t[n],e),{}),a=(t,e)=>Object.keys(t).filter(t=>e.indexOf(t)<0).reduce((e,n)=>(e[n]=t[n],e),{}),c=(t,e)=>{if(t===e)return!0;if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(!t||!e||"object"!=typeof t&&"object"!=typeof e)return t===e;if(t.prototype!==e.prototype)return!1;const n=Object.keys(t);return n.length===Object.keys(e).length&&n.every(n=>c(t[n],e[n]))},u=(t,e)=>t.reduce((t,n,r,i)=>(t[e(n,r,i)?0:1].push(n),t),[[],[]])},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return o}));var r=n(50),i=n(92);class o{constructor(){this.handleOriginParameters=(t,e)=>{const n=Object.keys(t);if(!(n.length>0))throw new Error("Empty parameter mapping provided");const o=n.filter(t=>Object.values(r.originTracingType).indexOf(t)<0);if(o.length>0)throw new Error(`Invalid Origin Tracing Parameter(s) supplied: ${o.join()}!`);const s=Object(i.default)((t,e)=>n.indexOf(e)>=0,e);return Object.keys(s).map(e=>({[e]:t[e](s[e])})).reduce((t,e)=>Object.assign(t,e),{})},this._originStore={}}}},function(t,e,n){"use strict";n.r(e),n.d(e,"defaultHistoryReplaceFn",(function(){return s}));var r=n(90);const{parseUrl:i,stringify:o}=n(93),s=t=>window.history.replaceState({},"",t);e.default=(t,e=s)=>{const n=window.location.href,a=window.location.hash,c=""!==a?n.replace(a,""):n,{url:u,query:l}=i(c),f=Object(r.pickBy)(l,t);if(Object.keys(f).length>0){const n=Object(r.omitBy)(l,t);if(Object.keys(n).length>0){e(`${u}?${o(n)}${a}`)}else e(`${u}${a}`)}return f}},function(t,e,n){"use strict";var r=n(94),i=n(95),o=n(96);function s(t,e){return e.encode?e.strict?r(t):encodeURIComponent(t):t}function a(t){var e=t.indexOf("?");return-1===e?"":t.slice(e+1)}function c(t,e){var n=function(t){var e;switch(t.arrayFormat){case"index":return function(t,n,r){e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===r[t]&&(r[t]={}),r[t][e[1]]=n):r[t]=n};case"bracket":return function(t,n,r){e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==r[t]?r[t]=[].concat(r[t],n):r[t]=[n]:r[t]=n};default:return function(t,e,n){void 0!==n[t]?n[t]=[].concat(n[t],e):n[t]=e}}}(e=i({arrayFormat:"none"},e)),r=Object.create(null);return"string"!=typeof t?r:(t=t.trim().replace(/^[?#&]/,""))?(t.split("&").forEach((function(t){var e=t.replace(/\+/g," ").split("="),i=e.shift(),s=e.length>0?e.join("="):void 0;s=void 0===s?null:o(s),n(o(i),s,r)})),Object.keys(r).sort().reduce((function(t,e){var n=r[e];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?t[e]=function t(e){return Array.isArray(e)?e.sort():"object"==typeof e?t(Object.keys(e)).sort((function(t,e){return Number(t)-Number(e)})).map((function(t){return e[t]})):e}(n):t[e]=n,t}),Object.create(null))):r}e.extract=a,e.parse=c,e.stringify=function(t,e){!1===(e=i({encode:!0,strict:!0,arrayFormat:"none"},e)).sort&&(e.sort=function(){});var n=function(t){switch(t.arrayFormat){case"index":return function(e,n,r){return null===n?[s(e,t),"[",r,"]"].join(""):[s(e,t),"[",s(r,t),"]=",s(n,t)].join("")};case"bracket":return function(e,n){return null===n?s(e,t):[s(e,t),"[]=",s(n,t)].join("")};default:return function(e,n){return null===n?s(e,t):[s(e,t),"=",s(n,t)].join("")}}}(e);return t?Object.keys(t).sort(e.sort).map((function(r){var i=t[r];if(void 0===i)return"";if(null===i)return s(r,e);if(Array.isArray(i)){var o=[];return i.slice().forEach((function(t){void 0!==t&&o.push(n(r,t,o.length))})),o.join("&")}return s(r,e)+"="+s(i,e)})).filter((function(t){return t.length>0})).join("&"):""},e.parseUrl=function(t,e){return{url:t.split("?")[0]||"",query:c(a(t),e)}}},function(t,e,n){"use strict";t.exports=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}},function(t,e,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function s(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,a,c=s(t),u=1;u<arguments.length;u++){for(var l in n=Object(arguments[u]))i.call(n,l)&&(c[l]=n[l]);if(r){a=r(n);for(var f=0;f<a.length;f++)o.call(n,a[f])&&(c[a[f]]=n[a[f]])}}return c}},function(t,e,n){"use strict";var r=new RegExp("%[a-f0-9]{2}","gi"),i=new RegExp("(%[a-f0-9]{2})+","gi");function o(t,e){try{return decodeURIComponent(t.join(""))}catch(t){}if(1===t.length)return t;e=e||1;var n=t.slice(0,e),r=t.slice(e);return Array.prototype.concat.call([],o(n),o(r))}function s(t){try{return decodeURIComponent(t)}catch(i){for(var e=t.match(r),n=1;n<e.length;n++)e=(t=o(e,n).join("")).match(r);return t}}t.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(t){for(var e={"%FE%FF":"��","%FF%FE":"��"},n=i.exec(t);n;){try{e[n[0]]=decodeURIComponent(n[0])}catch(t){var r=s(n[0]);r!==n[0]&&(e[n[0]]=r)}n=i.exec(t)}e["%C2"]="�";for(var o=Object.keys(e),a=0;a<o.length;a++){var c=o[a];t=t.replace(new RegExp(c,"g"),e[c])}return t}(t)}}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return o}));var r=n(98);const i=/^\d+$/;class o{constructor(t){this._generateNewSessionId=()=>{const t=Date.now().toString();return this._safeLocalStorage.setItem("session.id",t),t},this._updateSessionExpiry=()=>{const t=Date.now()+this._sessionExpiryTime;return this._safeLocalStorage.setItem("session.expiry",t),t},this._sessionExpiryTime=t&&t.sessionExpiryTime||18e5,this._safeLocalStorage=new r.default}getCurrentSessionId(){const t=this._safeLocalStorage.getItem("session.id"),e=parseInt(this._safeLocalStorage.getItem("session.expiry"),10);return this._updateSessionExpiry(),!t||e<=Date.now()||Number.isNaN(e)?this._generateNewSessionId():i.test(t)?t:this._generateNewSessionId()}}},function(t,e,n){"use strict";n.r(e);var r=n(99),i=n(100);e.default=class extends i.default{constructor(t){let e;try{e=window.localStorage||r.default}catch(t){e=r.default}super(e,t)}}},function(t,e,n){"use strict";n.r(e),n.d(e,"InMemoryStore",(function(){return r}));class r{constructor(){this._data={},this.length=0,this.setItem=(t,e)=>(this._data[t]=e,this.length=Object.keys(this._data).length,e),this.getItem=t=>t in this._data?this._data[t]:null,this.removeItem=t=>(t in this._data&&delete this._data[t],this.length=Object.keys(this._data).length,null),this.clear=()=>{this._data={},this.length=0},this.key=t=>Object.keys(this._data)[t]}}e.default=new r},function(t,e,n){"use strict";n.r(e),n.d(e,"AWC_STORAGE_PREFIX",(function(){return o})),n.d(e,"GLOBAL_IN_MEMORY_NAME",(function(){return s})),n.d(e,"isSupported",(function(){return a})),n.d(e,"isQuotaExceeded",(function(){return c})),n.d(e,"default",(function(){return u}));var r=n(50),i=n(99);const o="awc",s="awcInMemoryStorageFallback";function a(t){try{if(!t)return!1;const e="awc.storage.support";t.setItem(e,"test_value");const n=t.getItem(e);return t.removeItem(e),"test_value"===n}catch(t){return!1}}function c(t){let e=!1;if(t.code)switch(t.code){case 22:e=!0;break;case 1014:"NS_ERROR_DOM_QUOTA_REACHED"===t.name&&(e=!0)}else-2147024882===t.number&&(e=!0);return e}class u{constructor(t,e=null){this.getStore=()=>this._store,this.getItem=t=>this._store.getItem(this.createKey(t)),this.removeItem=t=>this._store.removeItem(this.createKey(t)),this.setItem=(t,e)=>{try{this._store.setItem(this.createKey(t),e)}catch(n){c(n)&&(this.swapToInMemory(),this._store.setItem(this.createKey(t),e))}},this.swapToInMemory=()=>{const t=[];if(this._store)for(let e=0;e<this._store.length;e++)t.push(this._store.key(e));let e;a(window[s])?e=window[s]:(e=i.default,window[s]||(window[s]=i.default)),t.forEach(t=>{if(0===t.indexOf(this.getPrefix())){const n=this._store.getItem(t);e.setItem(t,n)}}),this._store=e},this.clear=()=>this._store.clear(),this.key=t=>this._store.key(t),this.getPrefix=()=>this._prefix,this.createKey=t=>`${this.getPrefix()}.${t}`,this._prefix=e&&e!==r.envType.PROD?`${o}-${e}`:o,a(t)?this._store=t:this.swapToInMemory()}}},function(t,e,n){"use strict";n.r(e);var r=n(99),i=n(100);e.default=class extends i.default{constructor(t){let e;try{e=window.sessionStorage||r.default}catch(t){e=r.default}super(e,t)}}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return o}));var r=n(101),i=n(103);class o{constructor(){this._generateNewTabId=()=>{const t=Object(i.default)();return this._safeSessionStorage.setItem("tab.id",t),t},this._safeSessionStorage=new r.default}getCurrentTabId(){let t=this._safeSessionStorage.getItem("tab.id");return t||(t=this._generateNewTabId()),t}}},function(t,e,n){"use strict";function r(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})}n.r(e),n.d(e,"default",(function(){return r}))},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return y}));var r=n(2),i=n.n(r),o=n(50),s=n(90),a=n(101),c=n(92),u=n(103);function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const{parseUrl:d,stringify:p}=n(93),h="taskSessionsInit";class y{constructor(){this._taskSessionsNotRecentlyInitialised=t=>null===this._safeSessionStorage.getItem("taskSessions")||null===this._safeSessionStorage.getItem(h)||this._safeSessionStorage.getItem(h)<t-3e3,this._removeTaskSessionPrefix=(t,e)=>e.split("awc.")[1],this._isTaskSessionQueryParam=(t,e)=>e.startsWith("awc."),this.getAllTaskSessions=()=>{try{return JSON.parse(this._safeSessionStorage.getItem("taskSessions"))}catch(t){return{}}},this._writeToSessionStorage=t=>{try{this._safeSessionStorage.setItem("taskSessions",JSON.stringify(t))}catch(t){}},this._appendTaskSessions=t=>{const e=this.getAllTaskSessions(),n=null===e?t:Object.assign(e,t);this._writeToSessionStorage(n)},this._safelyRemoveKey=(t,e)=>null===t?{}:(delete t[e],t),this.createTaskSession=t=>{const e=Object(u.default)(),n={};return n[t]=e,this._appendTaskSessions(n),e},this.createTaskSessionWithProvidedId=(t,e)=>{if("string"!=typeof e)throw new TypeError("invalid taskSessionId, must be string");const n={};n[t]=e,this._appendTaskSessions(n)},this.completeTaskSession=t=>{const e=this.getAllTaskSessions(),n=this._safelyRemoveKey(e,t);this._writeToSessionStorage(n)},this.formatTaskSessionQueryString=({uri:t,includedTaskSessions:e})=>{const{url:n,query:r}=d(t),i=this.getAllTaskSessions(),a=e?Object(s.pick)(i,e):Object(s.omit)(i,Object.values(o.originTracingType));if(0===Object.keys(a).length)return t;const c=f(f({},Object(s.mapKeys)(a,(t,e)=>"awc."+e)),r);return`${n}?${p(c)}`},this.stripQueryParameters=()=>{const t=Object(s.mapKeys)(Object(c.default)(this._isTaskSessionQueryParam),this._removeTaskSessionPrefix);this._appendTaskSessions(t)};const t=Date.now();this._safeSessionStorage=new a.default;try{this._taskSessionsNotRecentlyInitialised(t)&&(this._writeToSessionStorage({}),this._safeSessionStorage.setItem(h,t))}catch(t){}}}},function(t,e,n){"use strict";n.r(e);const r=n(106);e.default=class{constructor(){this._bind=()=>{window.testAnalytics||(window.testAnalytics={eventCache:[],events:()=>window.testAnalytics.eventCache,clear:()=>{window.testAnalytics.eventCache=[],localStorage.removeItem("awc.ui.viewed.last.sent"),localStorage.removeItem("awc-staging.ui.viewed.last.sent"),localStorage.removeItem("awc-dev.ui.viewed.last.sent"),localStorage.removeItem("awc-local.ui.viewed.last.sent")}})},this._cache=t=>{window.testAnalytics.eventCache.length>=100&&(window.testAnalytics.eventCache=window.testAnalytics.eventCache.slice(1,window.testAnalytics.eventCache.length)),window.testAnalytics.eventCache.push(t)},this._shouldCacheEvent=()=>this._isDebugCookieEnabled,this.saveEvent=t=>{t&&this._shouldCacheEvent()&&(window.testAnalytics||this._bind(),t.tags instanceof Array?t.tags.push("synthetic"):t.tags=["synthetic"],this._cache(t))},this._isDebugCookieEnabled=!!r.get("atlassian_analytics_debug"),this._isDebugCookieEnabled&&this._bind()}}},function(t,e,n){"use strict";var r=n(107),i=n(108),o=n(109),s=n(113)("analytics.js:cookie"),a=n(60),c=n(114),u=n(117);function l(t){this.options(t)}l.prototype.options=function(t){if(0===arguments.length)return this._options;t=t||{};var e="."+u(window.location.href);"."===e&&(e=null),this._options=a(t,{maxage:31536e6,path:"/",domain:e}),this.set("ajs:test",!0),this.get("ajs:test")||(s("fallback to domain=null"),this._options.domain=null),this.remove("ajs:test")},l.prototype.set=function(t,e){try{return e=c.stringify(e),o(t,e,i(this._options)),!0}catch(t){return!1}},l.prototype.get=function(t){try{var e=o(t);return e=e?c.parse(e):null}catch(t){return null}},l.prototype.remove=function(t){try{return o(t,null,i(this._options)),!0}catch(t){return!1}},t.exports=r(new l),t.exports.Cookie=l},function(t,e,n){"use strict";var r=n(56);t.exports=function(t){for(var e in t){"function"==typeof t[e]&&(t[e]=r(t,t[e]))}return t}},function(t,e,n){"use strict";var r=n(79);t.exports=function t(e){var n=r(e);if("object"===n){var i={};for(var o in e)e.hasOwnProperty(o)&&(i[o]=t(e[o]));return i}if("array"===n){i=new Array(e.length);for(var s=0,a=e.length;s<a;s++)i[s]=t(e[s]);return i}if("regexp"===n){var c="";return c+=e.multiline?"m":"",c+=e.global?"g":"",c+=e.ignoreCase?"i":"",new RegExp(e.source,c)}return"date"===n?new Date(e.getTime()):e}},function(t,e,n){var r=n(110)("cookie");function i(t,e,n){n=n||{};var r=a(t)+"="+a(e);null==e&&(n.maxage=-1),n.maxage&&(n.expires=new Date(+new Date+n.maxage)),n.path&&(r+="; path="+n.path),n.domain&&(r+="; domain="+n.domain),n.expires&&(r+="; expires="+n.expires.toUTCString()),n.secure&&(r+="; secure"),document.cookie=r}function o(){var t;try{t=document.cookie}catch(t){return"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t.stack||t),{}}return function(t){var e,n={},r=t.split(/ *; */);if(""==r[0])return n;for(var i=0;i<r.length;++i)e=r[i].split("="),n[c(e[0])]=c(e[1]);return n}(t)}function s(t){return o()[t]}function a(t){try{return encodeURIComponent(t)}catch(e){r("error `encode(%o)` - %o",t,e)}}function c(t){try{return decodeURIComponent(t)}catch(e){r("error `decode(%o)` - %o",t,e)}}t.exports=function(t,e,n){switch(arguments.length){case 3:case 2:return i(t,e,n);case 1:return s(t);default:return o()}}},function(t,e,n){(function(r){e.log=function(...t){return"object"==typeof console&&console.log&&console.log(...t)},e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;e.splice(1,0,n,"color: inherit");let r=0,i=0;e[0].replace(/%[a-zA-Z%]/g,t=>{"%%"!==t&&(r++,"%c"===t&&(i=r))}),e.splice(i,0,n)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(t){}},e.load=function(){let t;try{t=e.storage.getItem("debug")}catch(t){}!t&&void 0!==r&&"env"in r&&(t=Object({NODE_ENV:"production"}).DEBUG);return t},e.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.exports=n(111)(e);const{formatters:i}=t.exports;i.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this,n(7))},function(t,e,n){t.exports=function(t){function e(t){let e=0;for(let n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return r.colors[Math.abs(e)%r.colors.length]}function r(t){let n;function s(...t){if(!s.enabled)return;const e=s,i=Number(new Date),o=i-(n||i);e.diff=o,e.prev=n,e.curr=i,n=i,t[0]=r.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");let a=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(n,i)=>{if("%%"===n)return n;a++;const o=r.formatters[i];if("function"==typeof o){const r=t[a];n=o.call(e,r),t.splice(a,1),a--}return n}),r.formatArgs.call(e,t);(e.log||r.log).apply(e,t)}return s.namespace=t,s.enabled=r.enabled(t),s.useColors=r.useColors(),s.color=e(t),s.destroy=i,s.extend=o,"function"==typeof r.init&&r.init(s),r.instances.push(s),s}function i(){const t=r.instances.indexOf(this);return-1!==t&&(r.instances.splice(t,1),!0)}function o(t,e){const n=r(this.namespace+(void 0===e?":":e)+t);return n.log=this.log,n}function s(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return r.debug=r,r.default=r,r.coerce=function(t){if(t instanceof Error)return t.stack||t.message;return t},r.disable=function(){const t=[...r.names.map(s),...r.skips.map(s).map(t=>"-"+t)].join(",");return r.enable(""),t},r.enable=function(t){let e;r.save(t),r.names=[],r.skips=[];const n=("string"==typeof t?t:"").split(/[\s,]+/),i=n.length;for(e=0;e<i;e++)n[e]&&("-"===(t=n[e].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+t.substr(1)+"$")):r.names.push(new RegExp("^"+t+"$")));for(e=0;e<r.instances.length;e++){const t=r.instances[e];t.enabled=r.enabled(t.namespace)}},r.enabled=function(t){if("*"===t[t.length-1])return!0;let e,n;for(e=0,n=r.skips.length;e<n;e++)if(r.skips[e].test(t))return!1;for(e=0,n=r.names.length;e<n;e++)if(r.names[e].test(t))return!0;return!1},r.humanize=n(112),Object.keys(t).forEach(e=>{r[e]=t[e]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=e,r.enable(r.load()),r}},function(t,e){var n=1e3,r=6e4,i=60*r,o=24*i;function s(t,e,n,r){var i=e>=1.5*n;return Math.round(t/n)+" "+r+(i?"s":"")}t.exports=function(t,e){e=e||{};var a=typeof t;if("string"===a&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!e)return;var s=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(t);if("number"===a&&isFinite(t))return e.long?function(t){var e=Math.abs(t);if(e>=o)return s(t,e,o,"day");if(e>=i)return s(t,e,i,"hour");if(e>=r)return s(t,e,r,"minute");if(e>=n)return s(t,e,n,"second");return t+" ms"}(t):function(t){var e=Math.abs(t);if(e>=o)return Math.round(t/o)+"d";if(e>=i)return Math.round(t/i)+"h";if(e>=r)return Math.round(t/r)+"m";if(e>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e){function n(t){return n.enabled(t)?function(e){e=r(e);var i=new Date,o=i-(n[t]||i);n[t]=i,e=t+" "+e+" +"+n.humanize(o),window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}function r(t){return t instanceof Error?t.stack||t.message:t}t.exports=n,n.names=[],n.skips=[],n.enable=function(t){try{localStorage.debug=t}catch(t){}for(var e=(t||"").split(/[\s,]+/),r=e.length,i=0;i<r;i++)"-"===(t=e[i].replace("*",".*?"))[0]?n.skips.push(new RegExp("^"+t.substr(1)+"$")):n.names.push(new RegExp("^"+t+"$"))},n.disable=function(){n.enable("")},n.humanize=function(t){return t>=36e5?(t/36e5).toFixed(1)+"h":t>=6e4?(t/6e4).toFixed(1)+"m":t>=1e3?(t/1e3|0)+"s":t+"ms"},n.enabled=function(t){for(var e=0,r=n.skips.length;e<r;e++)if(n.skips[e].test(t))return!1;for(e=0,r=n.names.length;e<r;e++)if(n.names[e].test(t))return!0;return!1};try{window.localStorage&&n.enable(localStorage.debug)}catch(t){}},function(t,e,n){(function(t,r){var i;/*! JSON v3.3.2 | https://bestiejs.github.io/json3 | Copyright 2012-2015, Kit Cambridge, Benjamin Tan | http://kit.mit-license.org */(function(){var o=n(116),s={function:!0,object:!0},a=s[typeof e]&&e&&!e.nodeType&&e,c=s[typeof window]&&window||this,u=a&&s[typeof t]&&t&&!t.nodeType&&"object"==typeof r&&r;function l(t,e){t||(t=c.Object()),e||(e=c.Object());var n=t.Number||c.Number,r=t.String||c.String,i=t.Object||c.Object,o=t.Date||c.Date,a=t.SyntaxError||c.SyntaxError,u=t.TypeError||c.TypeError,f=t.Math||c.Math,d=t.JSON||c.JSON;"object"==typeof d&&d&&(e.stringify=d.stringify,e.parse=d.parse);var p=i.prototype,h=p.toString,y=p.hasOwnProperty;function v(t,e){try{t()}catch(t){e&&e()}}var g=new o(-0xc782b5b800cec);function m(t){if(null!=m[t])return m[t];var i;if("bug-string-char-index"==t)i="a"!="a"[0];else if("json"==t)i=m("json-stringify")&&m("date-serialization")&&m("json-parse");else if("date-serialization"==t){if(i=m("json-stringify")&&g){var s=e.stringify;v((function(){i='"-271821-04-20T00:00:00.000Z"'==s(new o(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==s(new o(864e13))&&'"-000001-01-01T00:00:00.000Z"'==s(new o(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==s(new o(-1))}))}}else{var a,c='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var u="function"==typeof(s=e.stringify);u&&((a=function(){return 1}).toJSON=a,v((function(){u="0"===s(0)&&"0"===s(new n)&&'""'==s(new r)&&void 0===s(h)&&void 0===s(void 0)&&void 0===s()&&"1"===s(a)&&"[1]"==s([a])&&"[null]"==s([void 0])&&"null"==s(null)&&"[null,null,null]"==s([void 0,h,null])&&s({a:[a,!0,!1,null,"\0\b\n\f\r\t"]})==c&&"1"===s(null,a)&&"[\n 1,\n 2\n]"==s([1,2],null,1)}),(function(){u=!1}))),i=u}if("json-parse"==t){var l,f=e.parse;"function"==typeof f&&v((function(){0!==f("0")||f(!1)||(a=f(c),(l=5==a.a.length&&1===a.a[0])&&(v((function(){l=!f('"\t"')})),l&&v((function(){l=1!==f("01")})),l&&v((function(){l=1!==f("1.")}))))}),(function(){l=!1})),i=l}}return m[t]=!!i}if(v((function(){g=-109252==g.getUTCFullYear()&&0===g.getUTCMonth()&&1===g.getUTCDate()&&10==g.getUTCHours()&&37==g.getUTCMinutes()&&6==g.getUTCSeconds()&&708==g.getUTCMilliseconds()})),m["bug-string-char-index"]=m["date-serialization"]=m.json=m["json-stringify"]=m["json-parse"]=null,!m("json")){var b=m("bug-string-char-index"),_=function(t,e){var n,r,i,o=0;for(i in(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n)y.call(r,i)&&o++;return n=r=null,o?_=function(t,e){var n,r,i="[object Function]"==h.call(t);for(n in t)i&&"prototype"==n||!y.call(t,n)||(r="constructor"===n)||e(n);(r||y.call(t,n="constructor"))&&e(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],_=function(t,e){var n,i,o="[object Function]"==h.call(t),a=!o&&"function"!=typeof t.constructor&&s[typeof t.hasOwnProperty]&&t.hasOwnProperty||y;for(n in t)o&&"prototype"==n||!a.call(t,n)||e(n);for(i=r.length;n=r[--i];)a.call(t,n)&&e(n)}),_(t,e)};if(!m("json-stringify")&&!m("date-serialization")){var w={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},I=function(t,e){return("000000"+(e||0)).slice(-t)},E=function(t){var e,n,r,i,o,s,a,c,u;if(g)e=function(t){n=t.getUTCFullYear(),r=t.getUTCMonth(),i=t.getUTCDate(),s=t.getUTCHours(),a=t.getUTCMinutes(),c=t.getUTCSeconds(),u=t.getUTCMilliseconds()};else{var l=f.floor,d=[0,31,59,90,120,151,181,212,243,273,304,334],p=function(t,e){return d[e]+365*(t-1970)+l((t-1969+(e=+(e>1)))/4)-l((t-1901+e)/100)+l((t-1601+e)/400)};e=function(t){for(i=l(t/864e5),n=l(i/365.2425)+1970-1;p(n+1,0)<=i;n++);for(r=l((i-p(n,0))/30.42);p(n,r+1)<=i;r++);i=1+i-p(n,r),s=l((o=(t%864e5+864e5)%864e5)/36e5)%24,a=l(o/6e4)%60,c=l(o/1e3)%60,u=o%1e3}}return(E=function(t){return t>-1/0&&t<1/0?(e(t),t=(n<=0||n>=1e4?(n<0?"-":"+")+I(6,n<0?-n:n):I(4,n))+"-"+I(2,r+1)+"-"+I(2,i)+"T"+I(2,s)+":"+I(2,a)+":"+I(2,c)+"."+I(3,u)+"Z",n=r=i=s=a=c=u=null):t=null,t})(t)};if(m("json-stringify")&&!m("date-serialization")){function T(t){return E(this)}var O=e.stringify;e.stringify=function(t,e,n){var r=o.prototype.toJSON;o.prototype.toJSON=T;var i=O(t,e,n);return o.prototype.toJSON=r,i}}else{var j=function(t){var e=t.charCodeAt(0),n=w[e];return n||"\\u00"+I(2,e.toString(16))},C=/[\x00-\x1f\x22\x5c]/g,S=function(t){return C.lastIndex=0,'"'+(C.test(t)?t.replace(C,j):t)+'"'},k=function(t,e,n,r,i,s,a){var c,l,f,d,p,y,g,m,b;if(v((function(){c=e[t]})),"object"==typeof c&&c&&(c.getUTCFullYear&&"[object Date]"==h.call(c)&&c.toJSON===o.prototype.toJSON?c=E(c):"function"==typeof c.toJSON&&(c=c.toJSON(t))),n&&(c=n.call(e,t,c)),null==c)return void 0===c?c:"null";switch("object"==(l=typeof c)&&(f=h.call(c)),f||l){case"boolean":case"[object Boolean]":return""+c;case"number":case"[object Number]":return c>-1/0&&c<1/0?""+c:"null";case"string":case"[object String]":return S(""+c)}if("object"==typeof c){for(g=a.length;g--;)if(a[g]===c)throw u();if(a.push(c),d=[],m=s,s+=i,"[object Array]"==f){for(y=0,g=c.length;y<g;y++)p=k(y,c,n,r,i,s,a),d.push(void 0===p?"null":p);b=d.length?i?"[\n"+s+d.join(",\n"+s)+"\n"+m+"]":"["+d.join(",")+"]":"[]"}else _(r||c,(function(t){var e=k(t,c,n,r,i,s,a);void 0!==e&&d.push(S(t)+":"+(i?" ":"")+e)})),b=d.length?i?"{\n"+s+d.join(",\n"+s)+"\n"+m+"}":"{"+d.join(",")+"}":"{}";return a.pop(),b}};e.stringify=function(t,e,n){var r,i,o,a;if(s[typeof e]&&e)if("[object Function]"==(a=h.call(e)))i=e;else if("[object Array]"==a){o={};for(var c,u=0,l=e.length;u<l;)c=e[u++],"[object String]"!=(a=h.call(c))&&"[object Number]"!=a||(o[c]=1)}if(n)if("[object Number]"==(a=h.call(n))){if((n-=n%1)>0)for(n>10&&(n=10),r="";r.length<n;)r+=" "}else"[object String]"==a&&(r=n.length<=10?n:n.slice(0,10));return k("",((c={})[""]=t,c),i,o,r,"",[])}}}if(!m("json-parse")){var x,A,P=r.fromCharCode,D={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},N=function(){throw x=A=null,a()},M=function(){for(var t,e,n,r,i,o=A,s=o.length;x<s;)switch(i=o.charCodeAt(x)){case 9:case 10:case 13:case 32:x++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=b?o.charAt(x):o[x],x++,t;case 34:for(t="@",x++;x<s;)if((i=o.charCodeAt(x))<32)N();else if(92==i)switch(i=o.charCodeAt(++x)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=D[i],x++;break;case 117:for(e=++x,n=x+4;x<n;x++)(i=o.charCodeAt(x))>=48&&i<=57||i>=97&&i<=102||i>=65&&i<=70||N();t+=P("0x"+o.slice(e,x));break;default:N()}else{if(34==i)break;for(i=o.charCodeAt(x),e=x;i>=32&&92!=i&&34!=i;)i=o.charCodeAt(++x);t+=o.slice(e,x)}if(34==o.charCodeAt(x))return x++,t;N();default:if(e=x,45==i&&(r=!0,i=o.charCodeAt(++x)),i>=48&&i<=57){for(48==i&&((i=o.charCodeAt(x+1))>=48&&i<=57)&&N(),r=!1;x<s&&((i=o.charCodeAt(x))>=48&&i<=57);x++);if(46==o.charCodeAt(x)){for(n=++x;n<s&&!((i=o.charCodeAt(n))<48||i>57);n++);n==x&&N(),x=n}if(101==(i=o.charCodeAt(x))||69==i){for(43!=(i=o.charCodeAt(++x))&&45!=i||x++,n=x;n<s&&!((i=o.charCodeAt(n))<48||i>57);n++);n==x&&N(),x=n}return+o.slice(e,x)}r&&N();var a=o.slice(x,x+4);if("true"==a)return x+=4,!0;if("fals"==a&&101==o.charCodeAt(x+4))return x+=5,!1;if("null"==a)return x+=4,null;N()}return"$"},R=function(t){var e,n;if("$"==t&&N(),"string"==typeof t){if("@"==(b?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];"]"!=(t=M());)n?","==t?"]"==(t=M())&&N():N():n=!0,","==t&&N(),e.push(R(t));return e}if("{"==t){for(e={};"}"!=(t=M());)n?","==t?"}"==(t=M())&&N():N():n=!0,","!=t&&"string"==typeof t&&"@"==(b?t.charAt(0):t[0])&&":"==M()||N(),e[t.slice(1)]=R(M());return e}N()}return t},L=function(t,e,n){var r=F(t,e,n);void 0===r?delete t[e]:t[e]=r},F=function(t,e,n){var r,i=t[e];if("object"==typeof i&&i)if("[object Array]"==h.call(i))for(r=i.length;r--;)L(h,_,i);else _(i,(function(t){L(i,t,n)}));return n.call(t,e,i)};e.parse=function(t,e){var n,r;return x=0,A=""+t,n=R(M()),"$"!=M()&&N(),x=A=null,e&&"[object Function]"==h.call(e)?F(((r={})[""]=n,r),"",e):n}}}return e.runInContext=l,e}if(!u||u.global!==u&&u.window!==u&&u.self!==u||(c=u),a&&!o)l(c,a);else{var f=c.JSON,d=c.JSON3,p=!1,h=l(c,c.JSON3={noConflict:function(){return p||(p=!0,c.JSON=f,c.JSON3=d,f=d=null),h}});c.JSON={parse:h.parse,stringify:h.stringify}}o&&(void 0===(i=function(){return h}.call(e,n,e,t))||(t.exports=i))}).call(this)}).call(this,n(115)(t),n(5))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){(function(e){t.exports=e}).call(this,{})},function(t,e,n){"use strict";var r=n(118).parse,i=n(109);function o(t){for(var n=e.cookie,r=e.levels(t),i=0;i<r.length;++i){var o=r[i],s={domain:"."+o};if(n("__tld__",1,s),n("__tld__"))return n("__tld__",null,s),o}return""}o.levels=function(t){var e=r(t).hostname.split("."),n=e[e.length-1],i=[];if(4===e.length&&n===parseInt(n,10))return i;if(e.length<=1)return i;for(var o=e.length-2;o>=0;--o)i.push(e.slice(o).join("."));return i},o.cookie=i,e=t.exports=o},function(t,e){function n(t){switch(t){case"http:":return 80;case"https:":return 443;default:return location.port}}e.parse=function(t){var e=document.createElement("a");return e.href=t,{href:e.href,host:e.host||location.host,port:"0"===e.port||""===e.port?n(e.protocol):e.port,hash:e.hash,hostname:e.hostname||location.hostname,pathname:"/"!=e.pathname.charAt(0)?"/"+e.pathname:e.pathname,protocol:e.protocol&&":"!=e.protocol?e.protocol:location.protocol,search:e.search,query:e.search.slice(1)}},e.isAbsolute=function(t){return 0==t.indexOf("//")||!!~t.indexOf("://")},e.isRelative=function(t){return!e.isAbsolute(t)},e.isCrossDomain=function(t){t=e.parse(t);var n=e.parse(window.location.href);return t.hostname!==n.hostname||t.port!==n.port||t.protocol!==n.protocol}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return f}));var r=n(2),i=n.n(r),o=n(120),s=n.n(o),a=n(50),c=n(98);function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}class f{constructor(t,e,n,r={}){if(this.start=()=>{this._startInterval(),this._bindEventListeners()},this.stop=()=>{this._stopInterval(),this._unbindEventListeners()},this.resetTimers=()=>{this._intervalId&&(this.stop(),this.start())},this._bindEventListeners=()=>{window.addEventListener("focus",this._focusListener),window.addEventListener("blur",this._blurListener)},this._unbindEventListeners=()=>{window.removeEventListener("focus",this._focusListener),window.removeEventListener("blur",this._blurListener)},this._startInterval=()=>{clearInterval(this._intervalId),this._intervalId=setInterval(this._handleInterval,this._delay)},this._stopInterval=()=>{this._intervalId&&(clearInterval(this._intervalId),this._intervalId=null)},this._getProductKey=(t,e)=>{let n=t;return e&&(n+="-"+e),n},this._getLastSentTimestamp=(t,e,n)=>(((this._parseLocalStorageData()||{})[n]||{})[e]||{})[t]||null,this._parseLocalStorageData=()=>{const t=this._safeLocalStorage.getItem(this._storageKey);try{return JSON.parse(t)}catch(t){return this._safeLocalStorage.removeItem(this._storageKey),null}},this._setLastSentTimestamp=(t,e,n)=>{const r=JSON.parse(this._safeLocalStorage.getItem(this._storageKey))||{},i=r[n]||{},o=i[e]||{};o[t]=Date.now(),i[e]=o,r[n]=i,this._safeLocalStorage.setItem(this._storageKey,JSON.stringify(r))},this._shouldSendEvent=(t,e,n,r)=>{if(!document.hasFocus())return!1;if(e!==a.tenantType.NONE&&!n||!r)return!1;return Date.now()-this._getLastSentTimestamp(t,n,r)>this._throttle},this._handleInterval=()=>{const t=this._getContext(),{embeddedProduct:e}=t,n=s()(t,["embeddedProduct"]);this._sendEvent(this._product,n),e&&this._sendEvent(e,n,!0)},this._sendEvent=(t,e,n)=>{const{subproduct:r,tenantIdType:i,tenantId:o,userId:s,lastScreenEvent:a,attributes:c}=e,u=this._getProductKey(t,r);if(this._shouldSendEvent(u,i,o,s)){this._setLastSentTimestamp(u,o,s);const e=this._createEvent(t,r,n,a,c);this._onEvent(e)}},this._createEvent=(t,e,n,r,i)=>{const o={product:t,source:"ui",action:"viewed",actionSubject:"ui",attributes:i};return n&&(o.subproduct=null,o.version=null,o.attributes=l(l({},o.attributes),{},{embeddedInEnv:this._productInfo.env,embeddedInProduct:this._productInfo.product,embeddedInSubproduct:e,embeddedInVersion:this._productInfo.version,embeddedInOrigin:this._productInfo.origin,embeddedInPlatform:this._productInfo.platform})),r&&(o.attributes=l(l({},o.attributes),{},{lastScreenEvent:{name:r.name,attributes:r.attributes}})),o},!t)throw new Error("Missing productInfo");if(!t.product)throw new Error("Missing productInfo.product");if(!e)throw new Error("Missing getContext callback");if("function"!=typeof e)throw new Error("Invalid getContext, must be function");if(!n)throw new Error("Missing onEvent callback");if("function"!=typeof n)throw new Error("Invalid onEvent, must be function");this._productInfo=t,this._product=t.product,this._getContext=e,this._onEvent=n,this._delay=r.delay||2e3,this._throttle=r.throttle||36e5,this._storageKey=r.storageKey||"ui.viewed.last.sent",this._safeLocalStorage=new c.default(this._productInfo.env),this._focusListener=()=>{this._startInterval()},this._blurListener=()=>{this._stopInterval()}}}},function(t,e,n){var r=n(121);t.exports=function(t,e){if(null==t)return{};var n,i,o=r(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){t.exports=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){"use strict";function r(t,e){return t&&"function"==typeof t?()=>{t(e)}:null}n.r(e),n.d(e,"default",(function(){return r}))},function(t,e,n){"use strict";(function(e){var r=e.analytics,i=n(124).Alias,o=n(151),s=n(124),a=n(124).Group,c=n(124).Identify,u=n(152).SourceMiddlewareChain,l=n(152).IntegrationMiddlewareChain,f=n(124).Page,d=n(124).Track,p=n(107),h=n(108),y=n(63),v=n(106),g=n(153),m=n(113),b=n(60),_=n(67),w=n(71),I=n(160),E=n(74),T=n(167),O=n(68),j=n(163),C=n(77),S=n(168),k=n(172).bind,x=n(173),A=n(175),P=n(176),D=n(177),N=n(164),M=n(180),R=n(79);function L(){this._options({}),this.Integrations={},this._sourceMiddlewares=new u,this._integrationMiddlewares=new l,this._integrations={},this._readied=!1,this._timeout=300,this._user=M,this.log=m("analytics.js"),p(this);var t=this;this.on("initialize",(function(e,n){n.initialPageview&&t.page(),t._parseQuery(window.location.search)}))}o(L.prototype),L.prototype.use=function(t){return t(this),this},L.prototype.addIntegration=function(t){var e=t.prototype.name;if(!e)throw new TypeError("attempted to add an invalid integration");return this.Integrations[e]=t,this},L.prototype.addSourceMiddleware=function(t){if(this.initialized)throw new Error("attempted to add a source middleware after initialization");return this._sourceMiddlewares.add(t),this},L.prototype.addIntegrationMiddleware=function(t){if(this.initialized)throw new Error("attempted to add an integration middleware after initialization");return this._integrationMiddlewares.add(t),this},L.prototype.init=L.prototype.initialize=function(t,e){t=t||{},e=e||{},this._options(e),this._readied=!1;var n=this;_((function(e,r){n.Integrations[r]||delete t[r]}),t),_((function(t,r){if(!e.integrations||!1!==e.integrations[r]&&(!1!==e.integrations.All||e.integrations[r])){var i=n.Integrations[r],o={};y(!0,o,t);var s=new i(o);n.log("initialize %o - %o",r,t),n.add(s)}}),t);var r=this._integrations;M.load(),I.load();var i=0,o=O(r).length,s=function(){++i>=o&&(n._readied=!0,n.emit("ready"))};o<=0&&s(),this.failedInitializations=[];var a=!1;return _((function(t){if(e.initialPageview&&!1===t.options.initialPageview){var r=t.page;t.page=function(){if(a)return r.apply(this,arguments);a=!0}}t.analytics=n,t.once("ready",s);try{g.increment("analytics_js.integration.invoke",{method:"initialize",integration_name:t.name}),t.initialize()}catch(e){var i=t.name;g.increment("analytics_js.integration.invoke.error",{method:"initialize",integration_name:t.name}),n.failedInitializations.push(i),n.log("Error initializing %s integration: %o",i,e),t.ready()}}),r),this.initialized=!0,this.emit("initialize",t,e),this},L.prototype.setAnonymousId=function(t){return this.user().anonymousId(t),this},L.prototype.add=function(t){return this._integrations[t.name]=t,this},L.prototype.identify=function(t,e,n,r){E.fn(n)&&(r=n,n=null),E.fn(e)&&(r=e,n=null,e=null),E.object(t)&&(n=e,e=t,t=M.id()),M.identify(t,e);var i=this.normalize({options:n,traits:M.traits(),userId:M.id()});return this.options.integrations&&b(i.integrations,this.options.integrations),this._invoke("identify",new c(i)),this.emit("identify",t,e,n),this._callback(r),this},L.prototype.user=function(){return M},L.prototype.group=function(t,e,n,r){if(!arguments.length)return I;E.fn(n)&&(r=n,n=null),E.fn(e)&&(r=e,n=null,e=null),E.object(t)&&(n=e,e=t,t=I.id()),I.identify(t,e);var i=this.normalize({options:n,traits:I.traits(),groupId:I.id()});return this.options.integrations&&b(i.integrations,this.options.integrations),this._invoke("group",new a(i)),this.emit("group",t,e,n),this._callback(r),this},L.prototype.track=function(t,e,n,r){E.fn(n)&&(r=n,n=null),E.fn(e)&&(r=e,n=null,e=null);var i=this.options.plan||{},o=i.track||{},s={},a=this.normalize({properties:e,options:n,event:t});(i=o[t])?(this.log("plan %o - %o",t,i),s=!1===i.enabled?{All:!1,"Segment.io":!0}:i.integrations||{}):(o.__default||{enabled:!0}).enabled||(s={All:!1,"Segment.io":!0});return b(a.integrations,this._mergeInitializeAndPlanIntegrations(s)),this._invoke("track",new d(a)),this.emit("track",t,e,n),this._callback(r),this},L.prototype.trackClick=L.prototype.trackLink=function(t,e,n){if(!t)return this;"element"===R(t)&&(t=[t]);var r=this;return _((function(t){if("element"!==R(t))throw new TypeError("Must pass HTMLElement to `analytics.trackLink`.");k(t,"click",(function(i){var o=E.fn(e)?e(t):e,s=E.fn(n)?n(t):n,a=t.getAttribute("href")||t.getAttributeNS("http://www.w3.org/1999/xlink","href")||t.getAttribute("xlink:href");r.track(o,s),a&&"_blank"!==t.target&&!T(i)&&(P(i),r._callback((function(){window.location.href=a})))}))}),t),this},L.prototype.trackSubmit=L.prototype.trackForm=function(t,e,n){if(!t)return this;"element"===R(t)&&(t=[t]);var r=this;return _((function(t){if("element"!==R(t))throw new TypeError("Must pass HTMLElement to `analytics.trackForm`.");function i(i){P(i);var o=E.fn(e)?e(t):e,s=E.fn(n)?n(t):n;r.track(o,s),r._callback((function(){t.submit()}))}var o=window.jQuery||window.Zepto;o?o(t).submit(i):k(t,"submit",i)}),t),this},L.prototype.page=function(t,e,n,r,i){E.fn(r)&&(i=r,r=null),E.fn(n)&&(i=n,r=n=null),E.fn(e)&&(i=e,r=n=e=null),"object"===R(t)&&(r=e,n=t,e=t=null),"object"===R(e)&&(r=n,n=e,e=null),"string"===R(t)&&"string"!==R(e)&&(e=t,t=null),n=h(n)||{},e&&(n.name=e),t&&(n.category=t);var o=x();b(n,o);var s=A(O(o),n);E.empty(s)||((r=r||{}).context=r.context||{},r.context.page=s);var a=this.normalize({properties:n,category:t,options:r,name:e});return this.options.integrations&&b(a.integrations,this.options.integrations),this._invoke("page",new f(a)),this.emit("page",t,e,n,r),this._callback(i),this},L.prototype.pageview=function(t){var e={};return t&&(e.path=t),this.page(e),this},L.prototype.alias=function(t,e,n,r){E.fn(n)&&(r=n,n=null),E.fn(e)&&(r=e,n=null,e=null),E.object(e)&&(n=e,e=null);var o=this.normalize({options:n,previousId:e,userId:t});return this.options.integrations&&b(o.integrations,this.options.integrations),this._invoke("alias",new i(o)),this.emit("alias",t,e,n),this._callback(r),this},L.prototype.ready=function(t){return E.fn(t)&&(this._readied?C(t):this.once("ready",t)),this},L.prototype.timeout=function(t){this._timeout=t},L.prototype.debug=function(t){!arguments.length||t?m.enable("analytics:"+(t||"*")):m.disable()},L.prototype._options=function(t){return t=t||{},this.options=t,v.options(t.cookie),g.options(t.metrics),N.options(t.localStorage),M.options(t.user),I.options(t.group),this},L.prototype._callback=function(t){return E.fn(t)&&(this._timeout?setTimeout(t,this._timeout):C(t)),this},L.prototype._invoke=function(t,e){var n=this;try{this._sourceMiddlewares.applyMiddlewares(y(!0,new s({}),e),this._integrations,(function(e){null!==e?(e instanceof s||(e=new s(e)),n.emit("invoke",e),g.increment("analytics_js.invoke",{method:t}),function(e){var r=n.failedInitializations||[];_((function(i,o){var a=y(!0,new s({}),e);if(a.enabled(o))if(r.indexOf(o)>=0)n.log("Skipping invocation of .%s method of %s integration. Integration failed to initialize properly.",t,o);else try{n._integrationMiddlewares.applyMiddlewares(a,i.name,(function(e){null!==e?(e instanceof s||(e=new s(e)),g.increment("analytics_js.integration.invoke",{method:t,integration_name:i.name}),i.invoke.call(i,t,e)):n.log('Payload to integration "%s" was null and dropped by a middleware.',o)}))}catch(e){g.increment("analytics_js.integration.invoke.error",{method:t,integration_name:i.name}),n.log("Error invoking .%s method of %s integration: %o",t,o,e)}}),n._integrations)}(e)):n.log('Payload with method "%s" was null and dropped by source a middleware.',t)}))}catch(e){g.increment("analytics_js.invoke.error",{method:t}),n.log("Error invoking .%s method of %s integration: %o",t,name,e)}return this},L.prototype.push=function(t){var e=t.shift();this[e]&&this[e].apply(this,t)},L.prototype.reset=function(){this.user().logout(),this.group().logout()},L.prototype._parseQuery=function(t){var e=D.parse(t),n=i("ajs_trait_",e),r=i("ajs_prop_",e);return e.ajs_uid&&this.identify(e.ajs_uid,n),e.ajs_event&&this.track(e.ajs_event,r),e.ajs_aid&&M.anonymousId(e.ajs_aid),this;function i(t,e){var n=t.length;return w((function(e,r,i){return i.substr(0,n)===t&&(e[i.substr(n)]=r),e}),{},e)}},L.prototype.normalize=function(t){return(t=S(t,O(this._integrations))).anonymousId&&M.anonymousId(t.anonymousId),t.anonymousId=M.anonymousId(),t.context.page=b(t.context.page||{},x()),t},L.prototype._mergeInitializeAndPlanIntegrations=function(t){if(!this.options.integrations)return t;var e,n=y({},this.options.integrations);for(e in!1===t.All&&(n={All:!1}),t)t.hasOwnProperty(e)&&!1!==this.options.integrations[e]&&(n[e]=t[e]);return n},L.prototype.noConflict=function(){return window.analytics=r,this},t.exports=L,t.exports.cookie=v,t.exports.memory=j,t.exports.store=N,t.exports.metrics=g}).call(this,n(5))},function(t,e,n){"use strict";var r=n(125);r.Alias=n(142),r.Group=n(143),r.Identify=n(145),r.Track=n(147),r.Page=n(148),r.Screen=n(149),r.Delete=n(150),t.exports=r},function(t,e,n){"use strict";var r=n(126),i=n(128).clone,o=n(131),s=n(132),a=n(127),c=n(136),u=n(128).type;function l(t,e){"clone"in(e=e||{})||(e.clone=!0),e.clone&&(t=i(t)),"traverse"in e||(e.traverse=!0),t.timestamp="timestamp"in t?s(t.timestamp):new Date,e.traverse&&c(t),this.opts=e,this.obj=t}function f(t){return i(t)}l.prototype.proxy=function(t){var e=t.split("."),n=this[t=e.shift()]||this.field(t);return n?("function"==typeof n&&(n=n.call(this)||{}),0===e.length||(n=a(n,e.join("."))),this.opts.clone?f(n):n):n},l.prototype.field=function(t){var e=this.obj[t];return this.opts.clone?f(e):e},l.proxy=function(t){return function(){return this.proxy(t)}},l.field=function(t){return function(){return this.field(t)}},l.multi=function(t){return function(){var e=this.proxy(t+"s");if("array"===u(e))return e;var n=this.proxy(t);return n&&(n=[this.opts.clone?i(n):n]),n||[]}},l.one=function(t){return function(){var e=this.proxy(t);if(e)return e;var n=this.proxy(t+"s");return"array"===u(n)?n[0]:void 0}},l.prototype.json=function(){var t=this.opts.clone?i(this.obj):this.obj;return this.type&&(t.type=this.type()),t},l.prototype.options=function(t){var e=this.obj.options||this.obj.context||{},n=this.opts.clone?i(e):e;if(!t)return n;if(this.enabled(t)){var r=this.integrations(),o=r[t]||a(r,t);return"object"!=typeof o&&(o=a(this.options(),t)),"object"==typeof o?o:{}}},l.prototype.context=l.prototype.options,l.prototype.enabled=function(t){var e=this.proxy("options.providers.all");"boolean"!=typeof e&&(e=this.proxy("options.all")),"boolean"!=typeof e&&(e=this.proxy("integrations.all")),"boolean"!=typeof e&&(e=!0);var n=e&&o(t),r=this.integrations();if(r.providers&&r.providers.hasOwnProperty(t)&&(n=r.providers[t]),r.hasOwnProperty(t)){var i=r[t];n="boolean"!=typeof i||i}return!!n},l.prototype.integrations=function(){return this.obj.integrations||this.proxy("options.providers")||this.options()},l.prototype.active=function(){var t=this.proxy("options.active");return null==t&&(t=!0),t},l.prototype.anonymousId=function(){return this.field("anonymousId")||this.field("sessionId")},l.prototype.sessionId=l.prototype.anonymousId,l.prototype.groupId=l.proxy("options.groupId"),l.prototype.traits=function(t){var e=this.proxy("options.traits")||{},n=this.userId();for(var r in t=t||{},n&&(e.id=n),t){var i=null==this[r]?this.proxy("options.traits."+r):this[r]();null!=i&&(e[t[r]]=i,delete e[r])}return e},l.prototype.library=function(){var t=this.proxy("options.library");return t?"string"==typeof t?{name:t,version:null}:t:{name:"unknown",version:null}},l.prototype.device=function(){var t=this.proxy("context.device");"object"!==u(t)&&(t={});var e=this.library().name;return t.type||(e.indexOf("ios")>-1&&(t.type="ios"),e.indexOf("android")>-1&&(t.type="android")),t},l.prototype.userAgent=l.proxy("context.userAgent"),l.prototype.timezone=l.proxy("context.timezone"),l.prototype.timestamp=l.field("timestamp"),l.prototype.channel=l.field("channel"),l.prototype.ip=l.proxy("context.ip"),l.prototype.userId=l.field("userId"),r(l.prototype),t.exports=l},function(t,e,n){"use strict";var r=n(127);t.exports=function(t){function e(t,e){return function(){var n=this.traits(),i=this.properties?this.properties():{};return r(n,"address."+t)||r(n,t)||(e?r(n,"address."+e):null)||(e?r(n,e):null)||r(i,"address."+t)||r(i,t)||(e?r(i,"address."+e):null)||(e?r(i,e):null)}}t.zip=e("postalCode","zip"),t.country=e("country"),t.street=e("street"),t.state=e("state"),t.city=e("city"),t.region=e("region")}},function(t,e){function n(t){return function(e,n,r,i){var s;normalize=i&&function(t){return"function"==typeof t}(i.normalizer)?i.normalizer:o,n=normalize(n);for(var a=!1;!a;)c();function c(){for(s in e){var t=normalize(s);if(0===n.indexOf(t)){var r=n.substr(t.length);if("."===r.charAt(0)||0===r.length){n=r.substr(1);var i=e[s];return null==i?void(a=!0):n.length?void(e=i):void(a=!0)}}}s=void 0,a=!0}if(s)return null==e?e:t(e,s,r)}}function r(t,e){return t.hasOwnProperty(e)&&delete t[e],t}function i(t,e,n){return t.hasOwnProperty(e)&&(t[e]=n),t}function o(t){return t.replace(/[^a-zA-Z0-9\.]+/g,"").toLowerCase()}t.exports=n((function(t,e){if(t.hasOwnProperty(e))return t[e]})),t.exports.find=t.exports,t.exports.replace=function(t,e,r,o){return n(i).call(this,t,e,r,o),t},t.exports.del=function(t,e,i){return n(r).call(this,t,e,null,i),t}},function(t,e,n){"use strict";e.inherit=n(129),e.clone=n(108),e.type=n(130)},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){switch(n.call(t)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array"}return null===t?"null":void 0===t?"undefined":t===Object(t)?"object":typeof t}},function(t,e,n){"use strict";var r={Salesforce:!0};t.exports=function(t){return!r[t]}},function(t,e,n){"use strict";var r=n(74),i=n(133),o=n(134),s=n(135);t.exports=function(t){return r.date(t)?t:r.number(t)?new Date((e=t)<315576e5?1e3*e:e):i.is(t)?i.parse(t):o.is(t)?o.parse(t):s.is(t)?s.parse(t):new Date(t);var e}},function(t,e,n){"use strict";var r=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;e.parse=function(t){var e=[1,5,6,7,11,12],n=r.exec(t),i=0;if(!n)return new Date(t);for(var o,s=0;o=e[s];s++)n[o]=parseInt(n[o],10)||0;n[2]=parseInt(n[2],10)||1,n[3]=parseInt(n[3],10)||1,n[2]--,n[8]=n[8]?(n[8]+"00").substring(0,3):0," "===n[4]?i=(new Date).getTimezoneOffset():"Z"!==n[9]&&n[10]&&(i=60*n[11]+n[12],"+"===n[10]&&(i=0-i));var a=Date.UTC(n[1],n[2],n[3],n[5],n[6]+i,n[7],n[8]);return new Date(a)},e.is=function(t,e){return(!e||!1!==/^\d{4}-\d{2}-\d{2}/.test(t))&&r.test(t)}},function(t,e,n){"use strict";var r=/\d{13}/;e.is=function(t){return r.test(t)},e.parse=function(t){return t=parseInt(t,10),new Date(t)}},function(t,e,n){"use strict";var r=/\d{10}/;e.is=function(t){return r.test(t)},e.parse=function(t){var e=1e3*parseInt(t,10);return new Date(e)}},function(t,e,n){"use strict";var r=n(79),i=n(137),o=n(141);function s(t,e){return void 0===e&&(e=!0),"object"===r(t)?function(t,e){t.length&&"number"==typeof t.length&&!(t.length-1 in t)&&(t.lengthNonArray=t.length,delete t.length);i(t,(function(n,i){o.is(i,e)?t[n]=o.parse(i):"object"!==r(i)&&"array"!==r(i)||s(i,e)})),t.lengthNonArray&&(t.length=t.lengthNonArray,delete t.lengthNonArray);return t}(t,e):"array"===r(t)?function(t,e){return i(t,(function(n,i){"object"===r(n)?s(n,e):o.is(n,e)&&(t[i]=o.parse(n))})),t}(t,e):t}t.exports=s},function(t,e,n){try{var r=n(138)}catch(t){r=n(138)}var i=n(139),o=Object.prototype.hasOwnProperty;function s(t,e,n){for(var r=0;r<t.length;++r)e.call(n,t[r],r)}t.exports=function(t,e,n){switch(e=i(e),n=n||this,r(t)){case"array":return s(t,e,n);case"object":return"number"==typeof t.length?s(t,e,n):function(t,e,n){for(var r in t)o.call(t,r)&&e.call(n,r,t[r])}(t,e,n);case"string":return function(t,e,n){for(var r=0;r<t.length;++r)e.call(n,t.charAt(r),r)}(t,e,n)}}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){switch(n.call(t)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}return null===t?"null":void 0===t?"undefined":t&&1===t.nodeType?"element":t===Object(t)?"object":typeof t}},function(t,e,n){var r;try{r=n(140)}catch(t){r=n(140)}function i(t){switch({}.toString.call(t)){case"[object Object]":return function(t){var e={};for(var n in t)e[n]="string"==typeof t[n]?o(t[n]):i(t[n]);return function(t){if("object"!=typeof t)return!1;for(var n in e){if(!(n in t))return!1;if(!e[n](t[n]))return!1}return!0}}(t);case"[object Function]":return t;case"[object String]":return/^ *\W+/.test(n=t)?new Function("_","return _ "+n):new Function("_","return "+function(t){var e,n,i,o=r(t);if(!o.length)return"_."+t;for(n=0;n<o.length;n++)i=o[n],t=s(i,t,e="('function' == typeof "+(e="_."+i)+" ? "+e+"() : "+e+")");return t}(n));case"[object RegExp]":return e=t,function(t){return e.test(t)};default:return o(t)}var e,n}function o(t){return function(e){return t===e}}function s(t,e,n){return e.replace(new RegExp("(\\.)?"+t,"g"),(function(t,e){return e?t:n}))}t.exports=i},function(t,e){var n=/\b(Array|Date|Object|Math|JSON)\b/g;t.exports=function(t,e){var r=function(t){for(var e=[],n=0;n<t.length;n++)~e.indexOf(t[n])||e.push(t[n]);return e}(function(t){return t.replace(/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\//g,"").replace(n,"").match(/[a-zA-Z_]\w*/g)||[]}(t));return e&&"string"==typeof e&&(e=function(t){return function(e){return t+e}}(e)),e?function(t,e,n){return t.replace(/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\/|[a-zA-Z_]\w*/g,(function(t){return"("==t[t.length-1]||~e.indexOf(t)?n(t):t}))}(t,r,e):r}},function(t,e,n){"use strict";var r=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;e.parse=function(t){var e=[1,5,6,7,11,12],n=r.exec(t),i=0;if(!n)return new Date(t);for(var o,s=0;o=e[s];s++)n[o]=parseInt(n[o],10)||0;n[2]=parseInt(n[2],10)||1,n[3]=parseInt(n[3],10)||1,n[2]--,n[8]=n[8]?(n[8]+"00").substring(0,3):0," "===n[4]?i=(new Date).getTimezoneOffset():"Z"!==n[9]&&n[10]&&(i=60*n[11]+n[12],"+"===n[10]&&(i=0-i));var a=Date.UTC(n[1],n[2],n[3],n[5],n[6]+i,n[7],n[8]);return new Date(a)},e.is=function(t,e){return"string"==typeof t&&((!e||!1!==/^\d{4}-\d{2}-\d{2}/.test(t))&&r.test(t))}},function(t,e,n){"use strict";var r=n(128).inherit,i=n(125);function o(t,e){i.call(this,t,e)}r(o,i),o.prototype.action=function(){return"alias"},o.prototype.type=o.prototype.action,o.prototype.previousId=function(){return this.field("previousId")||this.field("from")},o.prototype.from=o.prototype.previousId,o.prototype.userId=function(){return this.field("userId")||this.field("to")},o.prototype.to=o.prototype.userId,t.exports=o},function(t,e,n){"use strict";var r=n(128).inherit,i=n(144),o=n(132),s=n(125);function a(t,e){s.call(this,t,e)}r(a,s),a.prototype.action=function(){return"group"},a.prototype.type=a.prototype.action,a.prototype.groupId=s.field("groupId"),a.prototype.created=function(){var t=this.proxy("traits.createdAt")||this.proxy("traits.created")||this.proxy("properties.createdAt")||this.proxy("properties.created");if(t)return o(t)},a.prototype.email=function(){var t=this.proxy("traits.email");if(t)return t;var e=this.groupId();return i(e)?e:void 0},a.prototype.traits=function(t){var e=this.properties(),n=this.groupId();for(var r in t=t||{},n&&(e.id=n),t){var i=null==this[r]?this.proxy("traits."+r):this[r]();null!=i&&(e[t[r]]=i,delete e[r])}return e},a.prototype.name=s.proxy("traits.name"),a.prototype.industry=s.proxy("traits.industry"),a.prototype.employees=s.proxy("traits.employees"),a.prototype.properties=function(){return this.field("traits")||this.field("properties")||{}},t.exports=a},function(t,e,n){"use strict";var r=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;t.exports=function(t){return r.test(t)}},function(t,e,n){"use strict";var r=n(125),i=n(127),o=n(128).inherit,s=n(144),a=n(132),c=n(146),u=n(128).type;function l(t,e){r.call(this,t,e)}o(l,r),l.prototype.action=function(){return"identify"},l.prototype.type=l.prototype.action,l.prototype.traits=function(t){var e=this.field("traits")||{},n=this.userId();for(var r in t=t||{},n&&(e.id=n),t){var i=null==this[r]?this.proxy("traits."+r):this[r]();null!=i&&(e[t[r]]=i,r!==t[r]&&delete e[r])}return e},l.prototype.email=function(){var t=this.proxy("traits.email");if(t)return t;var e=this.userId();return s(e)?e:void 0},l.prototype.created=function(){var t=this.proxy("traits.created")||this.proxy("traits.createdAt");if(t)return a(t)},l.prototype.companyCreated=function(){var t=this.proxy("traits.company.created")||this.proxy("traits.company.createdAt");if(t)return a(t)},l.prototype.companyName=function(){return this.proxy("traits.company.name")},l.prototype.name=function(){var t=this.proxy("traits.name");if("string"==typeof t)return c(t);var e=this.firstName(),n=this.lastName();return e&&n?c(e+" "+n):void 0},l.prototype.firstName=function(){var t=this.proxy("traits.firstName");if("string"==typeof t)return c(t);var e=this.proxy("traits.name");return"string"==typeof e?c(e).split(" ")[0]:void 0},l.prototype.lastName=function(){var t=this.proxy("traits.lastName");if("string"==typeof t)return c(t);var e=this.proxy("traits.name");if("string"==typeof e){var n=c(e).indexOf(" ");if(-1!==n)return c(e.substr(n+1))}},l.prototype.uid=function(){return this.userId()||this.username()||this.email()},l.prototype.description=function(){return this.proxy("traits.description")||this.proxy("traits.background")},l.prototype.age=function(){var t=this.birthday(),e=i(this.traits(),"age");return null!=e?e:"date"===u(t)?(new Date).getFullYear()-t.getFullYear():void 0},l.prototype.avatar=function(){var t=this.traits();return i(t,"avatar")||i(t,"photoUrl")||i(t,"avatarUrl")},l.prototype.position=function(){var t=this.traits();return i(t,"position")||i(t,"jobTitle")},l.prototype.username=r.proxy("traits.username"),l.prototype.website=r.one("traits.website"),l.prototype.websites=r.multi("traits.website"),l.prototype.phone=r.one("traits.phone"),l.prototype.phones=r.multi("traits.phone"),l.prototype.address=r.proxy("traits.address"),l.prototype.gender=r.proxy("traits.gender"),l.prototype.birthday=r.proxy("traits.birthday"),t.exports=l},function(t,e){(e=t.exports=function(t){return t.trim?t.trim():e.right(e.left(t))}).left=function(t){return t.trimLeft?t.trimLeft():t.replace(/^\s\s*/,"")},e.right=function(t){if(t.trimRight)return t.trimRight();for(var e=/\s/,n=t.length;e.test(t.charAt(--n)););return t.slice(0,n+1)}},function(t,e,n){"use strict";var r=n(128).inherit,i=n(128).type,o=n(125),s=n(145),a=n(144),c=n(127);function u(t,e){o.call(this,t,e)}r(u,o),u.prototype.action=function(){return"track"},u.prototype.type=u.prototype.action,u.prototype.event=o.field("event"),u.prototype.value=o.proxy("properties.value"),u.prototype.category=o.proxy("properties.category"),u.prototype.id=o.proxy("properties.id"),u.prototype.productId=function(){return this.proxy("properties.product_id")||this.proxy("properties.productId")},u.prototype.promotionId=function(){return this.proxy("properties.promotion_id")||this.proxy("properties.promotionId")},u.prototype.cartId=function(){return this.proxy("properties.cart_id")||this.proxy("properties.cartId")},u.prototype.checkoutId=function(){return this.proxy("properties.checkout_id")||this.proxy("properties.checkoutId")},u.prototype.paymentId=function(){return this.proxy("properties.payment_id")||this.proxy("properties.paymentId")},u.prototype.couponId=function(){return this.proxy("properties.coupon_id")||this.proxy("properties.couponId")},u.prototype.wishlistId=function(){return this.proxy("properties.wishlist_id")||this.proxy("properties.wishlistId")},u.prototype.reviewId=function(){return this.proxy("properties.review_id")||this.proxy("properties.reviewId")},u.prototype.orderId=function(){return this.proxy("properties.id")||this.proxy("properties.order_id")||this.proxy("properties.orderId")},u.prototype.sku=o.proxy("properties.sku"),u.prototype.tax=o.proxy("properties.tax"),u.prototype.name=o.proxy("properties.name"),u.prototype.price=o.proxy("properties.price"),u.prototype.total=o.proxy("properties.total"),u.prototype.repeat=o.proxy("properties.repeat"),u.prototype.coupon=o.proxy("properties.coupon"),u.prototype.shipping=o.proxy("properties.shipping"),u.prototype.discount=o.proxy("properties.discount"),u.prototype.shippingMethod=function(){return this.proxy("properties.shipping_method")||this.proxy("properties.shippingMethod")},u.prototype.paymentMethod=function(){return this.proxy("properties.payment_method")||this.proxy("properties.paymentMethod")},u.prototype.description=o.proxy("properties.description"),u.prototype.plan=o.proxy("properties.plan"),u.prototype.subtotal=function(){var t=c(this.properties(),"subtotal"),e=this.total()||this.revenue();if(t)return t;if(!e)return 0;if(this.total()){var n=this.tax();n&&(e-=n),(n=this.shipping())&&(e-=n),(n=this.discount())&&(e+=n)}return e},u.prototype.products=function(){var t=this.properties(),e=c(t,"products");return"array"===i(e)?e:[]},u.prototype.quantity=function(){return(this.obj.properties||{}).quantity||1},u.prototype.currency=function(){return(this.obj.properties||{}).currency||"USD"},u.prototype.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")},u.prototype.query=o.proxy("options.query"),u.prototype.properties=function(t){var e=this.field("properties")||{};for(var n in t=t||{}){var r=null==this[n]?this.proxy("properties."+n):this[n]();null!=r&&(e[t[n]]=r,delete e[n])}return e},u.prototype.username=function(){return this.proxy("traits.username")||this.proxy("properties.username")||this.userId()||this.sessionId()},u.prototype.email=function(){var t=this.proxy("traits.email")||this.proxy("properties.email")||this.proxy("options.traits.email");if(t)return t;var e=this.userId();return a(e)?e:void 0},u.prototype.revenue=function(){var t=this.proxy("properties.revenue"),e=this.event();return!t&&e&&e.match(/^[ _]?completed[ _]?order[ _]?|^[ _]?order[ _]?completed[ _]?$/i)&&(t=this.proxy("properties.total")),function(t){if(!t)return;if("number"==typeof t)return t;if("string"!=typeof t)return;if(t=t.replace(/\$/g,""),t=parseFloat(t),!isNaN(t))return t}(t)},u.prototype.cents=function(){var t=this.revenue();return"number"!=typeof t?this.value()||0:100*t},u.prototype.identify=function(){var t=this.json();return t.traits=this.traits(),new s(t,this.opts)},t.exports=u},function(t,e,n){"use strict";var r=n(128).inherit,i=n(125),o=n(147),s=n(144);function a(t,e){i.call(this,t,e)}r(a,i),a.prototype.action=function(){return"page"},a.prototype.type=a.prototype.action,a.prototype.category=i.field("category"),a.prototype.name=i.field("name"),a.prototype.title=i.proxy("properties.title"),a.prototype.path=i.proxy("properties.path"),a.prototype.url=i.proxy("properties.url"),a.prototype.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")},a.prototype.properties=function(t){var e=this.field("properties")||{},n=this.category(),r=this.name();for(var i in t=t||{},n&&(e.category=n),r&&(e.name=r),t){var o=null==this[i]?this.proxy("properties."+i):this[i]();null!=o&&(e[t[i]]=o,i!==t[i]&&delete e[i])}return e},a.prototype.email=function(){var t=this.proxy("context.traits.email")||this.proxy("properties.email");if(t)return t;var e=this.userId();return s(e)?e:void 0},a.prototype.fullName=function(){var t=this.category(),e=this.name();return e&&t?t+" "+e:e},a.prototype.event=function(t){return t?"Viewed "+t+" Page":"Loaded a Page"},a.prototype.track=function(t){var e=this.json();return e.event=this.event(t),e.timestamp=this.timestamp(),e.properties=this.properties(),new o(e,this.opts)},t.exports=a},function(t,e,n){"use strict";var r=n(128).inherit,i=n(148),o=n(147);function s(t,e){i.call(this,t,e)}r(s,i),s.prototype.action=function(){return"screen"},s.prototype.type=s.prototype.action,s.prototype.event=function(t){return t?"Viewed "+t+" Screen":"Loaded a Screen"},s.prototype.track=function(t){var e=this.json();return e.event=this.event(t),e.timestamp=this.timestamp(),e.properties=this.properties(),new o(e,this.opts)},t.exports=s},function(t,e,n){"use strict";var r=n(128).inherit,i=n(125);function o(t,e){i.call(this,t,e)}r(o,i),o.prototype.type=function(){return"delete"},t.exports=o},function(t,e,n){function r(t){if(t)return function(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}(t)}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<r.length;i++)if((n=r[i])===e||n.fn===e){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+t],this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,e)}return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,n){"use strict";var r=n(124);function i(t){var e=[];return t.getMiddlewares=function(){return e.slice()},t.add=function(t){if("function"!=typeof t)throw new Error("attempted to add non-function middleware");if(-1!==e.indexOf(t))throw new Error("middleware is already registered");e.push(t)},function(t,n,i){if("object"!=typeof n)throw new Error("applyMiddlewares requires a payload object");if("function"!=typeof i)throw new Error("applyMiddlewares requires a function callback");var o=e.slice();o.push(i),function t(e,n,i,o){if(null===n)return void i[i.length-1](null);n instanceof r||(n=new r(n));var s=i[o];s&&(i[o+1]?e(s,n,(function(n){t(e,n,i,++o)})):s(n))}(t,n,o,0)}}t.exports.SourceMiddlewareChain=function(){var t=i(this);this.applyMiddlewares=function(e,n,r){return t((function(t,e,r){t({integrations:n,next:r,payload:e})}),e,r)}},t.exports.IntegrationMiddlewareChain=function(){var t=i(this);this.applyMiddlewares=function(e,n,r){return t((function(t,e,r){t(e,n,r)}),e,r)}},t.exports.middlewareChain=i},function(t,e,n){"use strict";var r=n(107),i=n(154),o=n(113)("analytics.js:metrics");function s(t){this.options(t)}s.prototype.options=function(t){if(t=t||{},this.host=t.host||"api.segment.io/v1",this.sampleRate=t.sampleRate||0,this.flushTimer=t.flushTimer||3e4,this.maxQueueSize=t.maxQueueSize||20,this.queue=[],this.sampleRate>0){var e=this;setInterval((function(){e._flush()}),this.flushTimer)}},s.prototype.increment=function(t,e){Math.random()>this.sampleRate||this.queue.length>=this.maxQueueSize||(this.queue.push({type:"Counter",metric:t,value:1,tags:e}),t.indexOf("error")>0&&this._flush())},s.prototype._flush=function(){if(!(this.queue.length<=0)){var t={series:this.queue};this.queue=[],"xhr"===i.type&&i("https://"+this.host+"/m",t,{"Content-Type":"text/plain"},(function(e,n){o("sent %O, received %O",t,[e,n])}))}},t.exports=r(new s),t.exports.Metrics=s},function(t,e,n){"use strict";var r=n(155),i=n(156),o=n(158),s=n(159);function a(t,e,n,i){3===arguments.length&&(i=n,n={});var o=new XMLHttpRequest;for(var s in o.onerror=i,o.onreadystatechange=a,o.open("POST",t,!0),n)o.setRequestHeader(s,n[s]);function a(){if(4===o.readyState)return i(null,o)}o.send(r.stringify(e))}function c(t,n,r,i){3===arguments.length&&(i=r);var o=e.prefix,a=u(n);s(t+="?"+o+"="+a,{param:e.callback},(function(e,n){if(e)return i(e);i(null,{url:t,body:n})}))}function u(t){var e="";return e=r.stringify(t),e=(e=i(e)).replace(/\+/g,"-").replace(/\//g,"_"),encodeURIComponent(e)}(e=t.exports=o?a:c).callback="callback",e.prefix="data",e.json=a,e.base64=c,e.type=o?"xhr":"jsonp"},function(t,e,n){(function(t,r){var i;/*! JSON v3.3.2 | https://bestiejs.github.io/json3 | Copyright 2012-2015, Kit Cambridge, Benjamin Tan | http://kit.mit-license.org */(function(){var o=n(116),s={function:!0,object:!0},a=s[typeof e]&&e&&!e.nodeType&&e,c=s[typeof window]&&window||this,u=a&&s[typeof t]&&t&&!t.nodeType&&"object"==typeof r&&r;function l(t,e){t||(t=c.Object()),e||(e=c.Object());var n=t.Number||c.Number,r=t.String||c.String,i=t.Object||c.Object,o=t.Date||c.Date,a=t.SyntaxError||c.SyntaxError,u=t.TypeError||c.TypeError,f=t.Math||c.Math,d=t.JSON||c.JSON;"object"==typeof d&&d&&(e.stringify=d.stringify,e.parse=d.parse);var p=i.prototype,h=p.toString,y=p.hasOwnProperty;function v(t,e){try{t()}catch(t){e&&e()}}var g=new o(-0xc782b5b800cec);function m(t){if(null!=m[t])return m[t];var i;if("bug-string-char-index"==t)i="a"!="a"[0];else if("json"==t)i=m("json-stringify")&&m("date-serialization")&&m("json-parse");else if("date-serialization"==t){if(i=m("json-stringify")&&g){var s=e.stringify;v((function(){i='"-271821-04-20T00:00:00.000Z"'==s(new o(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==s(new o(864e13))&&'"-000001-01-01T00:00:00.000Z"'==s(new o(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==s(new o(-1))}))}}else{var a,c='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var u="function"==typeof(s=e.stringify);u&&((a=function(){return 1}).toJSON=a,v((function(){u="0"===s(0)&&"0"===s(new n)&&'""'==s(new r)&&void 0===s(h)&&void 0===s(void 0)&&void 0===s()&&"1"===s(a)&&"[1]"==s([a])&&"[null]"==s([void 0])&&"null"==s(null)&&"[null,null,null]"==s([void 0,h,null])&&s({a:[a,!0,!1,null,"\0\b\n\f\r\t"]})==c&&"1"===s(null,a)&&"[\n 1,\n 2\n]"==s([1,2],null,1)}),(function(){u=!1}))),i=u}if("json-parse"==t){var l,f=e.parse;"function"==typeof f&&v((function(){0!==f("0")||f(!1)||(a=f(c),(l=5==a.a.length&&1===a.a[0])&&(v((function(){l=!f('"\t"')})),l&&v((function(){l=1!==f("01")})),l&&v((function(){l=1!==f("1.")}))))}),(function(){l=!1})),i=l}}return m[t]=!!i}if(v((function(){g=-109252==g.getUTCFullYear()&&0===g.getUTCMonth()&&1===g.getUTCDate()&&10==g.getUTCHours()&&37==g.getUTCMinutes()&&6==g.getUTCSeconds()&&708==g.getUTCMilliseconds()})),m["bug-string-char-index"]=m["date-serialization"]=m.json=m["json-stringify"]=m["json-parse"]=null,!m("json")){var b=m("bug-string-char-index"),_=function(t,e){var n,r,i,o=0;for(i in(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n)y.call(r,i)&&o++;return n=r=null,o?_=function(t,e){var n,r,i="[object Function]"==h.call(t);for(n in t)i&&"prototype"==n||!y.call(t,n)||(r="constructor"===n)||e(n);(r||y.call(t,n="constructor"))&&e(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],_=function(t,e){var n,i,o="[object Function]"==h.call(t),a=!o&&"function"!=typeof t.constructor&&s[typeof t.hasOwnProperty]&&t.hasOwnProperty||y;for(n in t)o&&"prototype"==n||!a.call(t,n)||e(n);for(i=r.length;n=r[--i];)a.call(t,n)&&e(n)}),_(t,e)};if(!m("json-stringify")&&!m("date-serialization")){var w={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},I=function(t,e){return("000000"+(e||0)).slice(-t)},E=function(t){var e,n,r,i,o,s,a,c,u;if(g)e=function(t){n=t.getUTCFullYear(),r=t.getUTCMonth(),i=t.getUTCDate(),s=t.getUTCHours(),a=t.getUTCMinutes(),c=t.getUTCSeconds(),u=t.getUTCMilliseconds()};else{var l=f.floor,d=[0,31,59,90,120,151,181,212,243,273,304,334],p=function(t,e){return d[e]+365*(t-1970)+l((t-1969+(e=+(e>1)))/4)-l((t-1901+e)/100)+l((t-1601+e)/400)};e=function(t){for(i=l(t/864e5),n=l(i/365.2425)+1970-1;p(n+1,0)<=i;n++);for(r=l((i-p(n,0))/30.42);p(n,r+1)<=i;r++);i=1+i-p(n,r),s=l((o=(t%864e5+864e5)%864e5)/36e5)%24,a=l(o/6e4)%60,c=l(o/1e3)%60,u=o%1e3}}return(E=function(t){return t>-1/0&&t<1/0?(e(t),t=(n<=0||n>=1e4?(n<0?"-":"+")+I(6,n<0?-n:n):I(4,n))+"-"+I(2,r+1)+"-"+I(2,i)+"T"+I(2,s)+":"+I(2,a)+":"+I(2,c)+"."+I(3,u)+"Z",n=r=i=s=a=c=u=null):t=null,t})(t)};if(m("json-stringify")&&!m("date-serialization")){function T(t){return E(this)}var O=e.stringify;e.stringify=function(t,e,n){var r=o.prototype.toJSON;o.prototype.toJSON=T;var i=O(t,e,n);return o.prototype.toJSON=r,i}}else{var j=function(t){var e=t.charCodeAt(0),n=w[e];return n||"\\u00"+I(2,e.toString(16))},C=/[\x00-\x1f\x22\x5c]/g,S=function(t){return C.lastIndex=0,'"'+(C.test(t)?t.replace(C,j):t)+'"'},k=function(t,e,n,r,i,s,a){var c,l,f,d,p,y,g,m,b;if(v((function(){c=e[t]})),"object"==typeof c&&c&&(c.getUTCFullYear&&"[object Date]"==h.call(c)&&c.toJSON===o.prototype.toJSON?c=E(c):"function"==typeof c.toJSON&&(c=c.toJSON(t))),n&&(c=n.call(e,t,c)),null==c)return void 0===c?c:"null";switch("object"==(l=typeof c)&&(f=h.call(c)),f||l){case"boolean":case"[object Boolean]":return""+c;case"number":case"[object Number]":return c>-1/0&&c<1/0?""+c:"null";case"string":case"[object String]":return S(""+c)}if("object"==typeof c){for(g=a.length;g--;)if(a[g]===c)throw u();if(a.push(c),d=[],m=s,s+=i,"[object Array]"==f){for(y=0,g=c.length;y<g;y++)p=k(y,c,n,r,i,s,a),d.push(void 0===p?"null":p);b=d.length?i?"[\n"+s+d.join(",\n"+s)+"\n"+m+"]":"["+d.join(",")+"]":"[]"}else _(r||c,(function(t){var e=k(t,c,n,r,i,s,a);void 0!==e&&d.push(S(t)+":"+(i?" ":"")+e)})),b=d.length?i?"{\n"+s+d.join(",\n"+s)+"\n"+m+"}":"{"+d.join(",")+"}":"{}";return a.pop(),b}};e.stringify=function(t,e,n){var r,i,o,a;if(s[typeof e]&&e)if("[object Function]"==(a=h.call(e)))i=e;else if("[object Array]"==a){o={};for(var c,u=0,l=e.length;u<l;)c=e[u++],"[object String]"!=(a=h.call(c))&&"[object Number]"!=a||(o[c]=1)}if(n)if("[object Number]"==(a=h.call(n))){if((n-=n%1)>0)for(n>10&&(n=10),r="";r.length<n;)r+=" "}else"[object String]"==a&&(r=n.length<=10?n:n.slice(0,10));return k("",((c={})[""]=t,c),i,o,r,"",[])}}}if(!m("json-parse")){var x,A,P=r.fromCharCode,D={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},N=function(){throw x=A=null,a()},M=function(){for(var t,e,n,r,i,o=A,s=o.length;x<s;)switch(i=o.charCodeAt(x)){case 9:case 10:case 13:case 32:x++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=b?o.charAt(x):o[x],x++,t;case 34:for(t="@",x++;x<s;)if((i=o.charCodeAt(x))<32)N();else if(92==i)switch(i=o.charCodeAt(++x)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=D[i],x++;break;case 117:for(e=++x,n=x+4;x<n;x++)(i=o.charCodeAt(x))>=48&&i<=57||i>=97&&i<=102||i>=65&&i<=70||N();t+=P("0x"+o.slice(e,x));break;default:N()}else{if(34==i)break;for(i=o.charCodeAt(x),e=x;i>=32&&92!=i&&34!=i;)i=o.charCodeAt(++x);t+=o.slice(e,x)}if(34==o.charCodeAt(x))return x++,t;N();default:if(e=x,45==i&&(r=!0,i=o.charCodeAt(++x)),i>=48&&i<=57){for(48==i&&((i=o.charCodeAt(x+1))>=48&&i<=57)&&N(),r=!1;x<s&&((i=o.charCodeAt(x))>=48&&i<=57);x++);if(46==o.charCodeAt(x)){for(n=++x;n<s&&!((i=o.charCodeAt(n))<48||i>57);n++);n==x&&N(),x=n}if(101==(i=o.charCodeAt(x))||69==i){for(43!=(i=o.charCodeAt(++x))&&45!=i||x++,n=x;n<s&&!((i=o.charCodeAt(n))<48||i>57);n++);n==x&&N(),x=n}return+o.slice(e,x)}r&&N();var a=o.slice(x,x+4);if("true"==a)return x+=4,!0;if("fals"==a&&101==o.charCodeAt(x+4))return x+=5,!1;if("null"==a)return x+=4,null;N()}return"$"},R=function(t){var e,n;if("$"==t&&N(),"string"==typeof t){if("@"==(b?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];"]"!=(t=M());)n?","==t?"]"==(t=M())&&N():N():n=!0,","==t&&N(),e.push(R(t));return e}if("{"==t){for(e={};"}"!=(t=M());)n?","==t?"}"==(t=M())&&N():N():n=!0,","!=t&&"string"==typeof t&&"@"==(b?t.charAt(0):t[0])&&":"==M()||N(),e[t.slice(1)]=R(M());return e}N()}return t},L=function(t,e,n){var r=F(t,e,n);void 0===r?delete t[e]:t[e]=r},F=function(t,e,n){var r,i=t[e];if("object"==typeof i&&i)if("[object Array]"==h.call(i))for(r=i.length;r--;)L(h,_,i);else _(i,(function(t){L(i,t,n)}));return n.call(t,e,i)};e.parse=function(t,e){var n,r;return x=0,A=""+t,n=R(M()),"$"!=M()&&N(),x=A=null,e&&"[object Function]"==h.call(e)?F(((r={})[""]=n,r),"",e):n}}}return e.runInContext=l,e}if(!u||u.global!==u&&u.window!==u&&u.self!==u||(c=u),a&&!o)l(c,a);else{var f=c.JSON,d=c.JSON3,p=!1,h=l(c,c.JSON3={noConflict:function(){return p||(p=!0,c.JSON=f,c.JSON3=d,f=d=null),h}});c.JSON={parse:h.parse,stringify:h.stringify}}o&&(void 0===(i=function(){return h}.call(e,n,e,t))||(t.exports=i))}).call(this)}).call(this,n(115)(t),n(5))},function(t,e,n){var r=n(157),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.exports=function(t){var e,n,o,s,a,c,u,l="",f=0;t=r(t);for(;f<t.length;)e=t.charCodeAt(f++),n=t.charCodeAt(f++),o=t.charCodeAt(f++),s=e>>2,a=(3&e)<<4|n>>4,c=(15&n)<<2|o>>6,u=63&o,isNaN(n)?c=u=64:isNaN(o)&&(u=64),l=l+i.charAt(s)+i.charAt(a)+i.charAt(c)+i.charAt(u);return l}},function(t,e){t.exports=function(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e+=String.fromCharCode(r):r>127&&r<2048?(e+=String.fromCharCode(r>>6|192),e+=String.fromCharCode(63&r|128)):(e+=String.fromCharCode(r>>12|224),e+=String.fromCharCode(r>>6&63|128),e+=String.fromCharCode(63&r|128))}return e}},function(t,e){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},function(t,e,n){var r=n(57)("jsonp");t.exports=function(t,e,n){"function"==typeof e&&(n=e,e={});e||(e={});var s,a,c=e.prefix||"__jp",u=e.name||c+i++,l=e.param||"callback",f=null!=e.timeout?e.timeout:6e4,d=encodeURIComponent,p=document.getElementsByTagName("script")[0]||document.head;f&&(a=setTimeout((function(){h(),n&&n(new Error("Timeout"))}),f));function h(){s.parentNode&&s.parentNode.removeChild(s),window[u]=o,a&&clearTimeout(a)}return window[u]=function(t){r("jsonp got",t),h(),n&&n(null,t)},t=(t+=(~t.indexOf("?")?"&":"?")+l+"="+d(u)).replace("?&","?"),r('jsonp req "%s"',t),(s=document.createElement("script")).src=t,p.parentNode.insertBefore(s,p),function(){window[u]&&h()}};var i=0;function o(){}},function(t,e,n){"use strict";var r=n(161),i=n(107),o=n(113)("analytics:group"),s=n(129);function a(t){this.defaults=a.defaults,this.debug=o,r.call(this,t)}a.defaults={persist:!0,cookie:{key:"ajs_group_id"},localStorage:{key:"ajs_group_properties"}},s(a,r),t.exports=i(new a),t.exports.Group=a},function(t,e,n){"use strict";var r=n(108),i=n(106),o=n(113)("analytics:entity"),s=n(60),a=n(162),c=n(163),u=n(164),l=n(136);function f(t){this.options(t),this.initialize()}t.exports=f,f.prototype.initialize=function(){if(i.set("ajs:cookies",!0),i.get("ajs:cookies"))return i.remove("ajs:cookies"),void(this._storage=i);u.enabled?this._storage=u:(o("warning using memory store both cookies and localStorage are disabled"),this._storage=c)},f.prototype.storage=function(){return this._storage},f.prototype.options=function(t){if(0===arguments.length)return this._options;this._options=s(t||{},this.defaults||{})},f.prototype.id=function(t){switch(arguments.length){case 0:return this._getId();case 1:return this._setId(t)}},f.prototype._getId=function(){if(!this._options.persist)return void 0===this._id?null:this._id;var t=this._getIdFromCookie();if(t)return t;var e=this._getIdFromLocalStorage();return e?(this._setIdInCookies(e),e):null},f.prototype._getIdFromCookie=function(){return this.storage().get(this._options.cookie.key)},f.prototype._getIdFromLocalStorage=function(){return this._options.localStorageFallbackDisabled?null:u.get(this._options.cookie.key)},f.prototype._setId=function(t){this._options.persist?(this._setIdInCookies(t),this._setIdInLocalStorage(t)):this._id=t},f.prototype._setIdInCookies=function(t){this.storage().set(this._options.cookie.key,t)},f.prototype._setIdInLocalStorage=function(t){this._options.localStorageFallbackDisabled||u.set(this._options.cookie.key,t)},f.prototype.properties=f.prototype.traits=function(t){switch(arguments.length){case 0:return this._getTraits();case 1:return this._setTraits(t)}},f.prototype._getTraits=function(){var t=this._options.persist?u.get(this._options.localStorage.key):this._traits;return t?l(r(t)):{}},f.prototype._setTraits=function(t){t=t||{},this._options.persist?u.set(this._options.localStorage.key,t):this._traits=t},f.prototype.identify=function(t,e){e=e||{};var n=this.id();null!==n&&n!==t||(e=a(this.traits(),e)),t&&this.id(t),this.debug("identify %o, %o",t,e),this.traits(e),this.save()},f.prototype.save=function(){return!!this._options.persist&&(this._setId(this.id()),this._setTraits(this.traits()),!0)},f.prototype.logout=function(){this.id(null),this.traits({}),this.storage().remove(this._options.cookie.key),u.remove(this._options.cookie.key),u.remove(this._options.localStorage.key)},f.prototype.reset=function(){this.logout(),this.options({})},f.prototype.load=function(){this.id(this.id()),this.traits(this.traits())}},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty;t.exports=function(t){for(var e=Array.prototype.slice.call(arguments,1),n=0;n<e.length;n+=1)for(var i in e[n])r.call(e[n],i)&&(t[i]=e[n][i]);return t}},function(t,e,n){"use strict";var r=n(107),i=n(108),o=Object.prototype.hasOwnProperty;function s(){this.store={}}t.exports=r(new s),s.prototype.set=function(t,e){return this.store[t]=i(e),!0},s.prototype.get=function(t){if(o.call(this.store,t))return i(this.store[t])},s.prototype.remove=function(t){return delete this.store[t],!0}},function(t,e,n){"use strict";var r=n(107),i=n(60),o=n(165);function s(t){this.options(t)}s.prototype.options=function(t){if(0===arguments.length)return this._options;i(t=t||{},{enabled:!0}),this.enabled=t.enabled&&o.enabled,this._options=t},s.prototype.set=function(t,e){return!!this.enabled&&o.set(t,e)},s.prototype.get=function(t){return this.enabled?o.get(t):null},s.prototype.remove=function(t){return!!this.enabled&&o.remove(t)},t.exports=r(new s),t.exports.Store=s},function(t,e,n){"use strict";(function(e){var r=n(166);t.exports=function(){var t,n={},i="undefined"!=typeof window?window:e,o=i.document;if(n.disabled=!1,n.version="1.3.20",n.set=function(t,e){},n.get=function(t,e){},n.has=function(t){return void 0!==n.get(t)},n.remove=function(t){},n.clear=function(){},n.transact=function(t,e,r){null==r&&(r=e,e=null),null==e&&(e={});var i=n.get(t,e);r(i),n.set(t,i)},n.getAll=function(){var t={};return n.forEach((function(e,n){t[e]=n})),t},n.forEach=function(){},n.serialize=function(t){return r.stringify(t)},n.deserialize=function(t){if("string"==typeof t)try{return r.parse(t)}catch(e){return t||void 0}},function(){try{return"localStorage"in i&&i.localStorage}catch(t){return!1}}())t=i.localStorage,n.set=function(e,r){return void 0===r?n.remove(e):(t.setItem(e,n.serialize(r)),r)},n.get=function(e,r){var i=n.deserialize(t.getItem(e));return void 0===i?r:i},n.remove=function(e){t.removeItem(e)},n.clear=function(){t.clear()},n.forEach=function(e){for(var r=0;r<t.length;r++){var i=t.key(r);e(i,n.get(i))}};else if(o&&o.documentElement.addBehavior){var s,a;try{(a=new ActiveXObject("htmlfile")).open(),a.write('<script>document.w=window<\/script><iframe src="/favicon.ico"></iframe>'),a.close(),s=a.w.frames[0].document,t=s.createElement("div")}catch(e){t=o.createElement("div"),s=o.body}var c=function(e){return function(){var r=Array.prototype.slice.call(arguments,0);r.unshift(t),s.appendChild(t),t.addBehavior("#default#userData"),t.load("localStorage");var i=e.apply(n,r);return s.removeChild(t),i}},u=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g"),l=function(t){return t.replace(/^d/,"___$&").replace(u,"___")};n.set=c((function(t,e,r){return e=l(e),void 0===r?n.remove(e):(t.setAttribute(e,n.serialize(r)),t.save("localStorage"),r)})),n.get=c((function(t,e,r){e=l(e);var i=n.deserialize(t.getAttribute(e));return void 0===i?r:i})),n.remove=c((function(t,e){e=l(e),t.removeAttribute(e),t.save("localStorage")})),n.clear=c((function(t){var e=t.XMLDocument.documentElement.attributes;t.load("localStorage");for(var n=e.length-1;n>=0;n--)t.removeAttribute(e[n].name);t.save("localStorage")})),n.forEach=c((function(t,e){for(var r,i=t.XMLDocument.documentElement.attributes,o=0;r=i[o];++o)e(r.name,n.deserialize(t.getAttribute(r.name)))}))}try{var f="__storejs__";n.set(f,f),n.get(f)!=f&&(n.disabled=!0),n.remove(f)}catch(t){n.disabled=!0}return n.enabled=!n.disabled,n}()}).call(this,n(5))},function(t,e,n){(function(t,r){var i;/*! JSON v3.3.2 | https://bestiejs.github.io/json3 | Copyright 2012-2015, Kit Cambridge, Benjamin Tan | http://kit.mit-license.org */(function(){var o=n(116),s={function:!0,object:!0},a=s[typeof e]&&e&&!e.nodeType&&e,c=s[typeof window]&&window||this,u=a&&s[typeof t]&&t&&!t.nodeType&&"object"==typeof r&&r;function l(t,e){t||(t=c.Object()),e||(e=c.Object());var n=t.Number||c.Number,r=t.String||c.String,i=t.Object||c.Object,o=t.Date||c.Date,a=t.SyntaxError||c.SyntaxError,u=t.TypeError||c.TypeError,f=t.Math||c.Math,d=t.JSON||c.JSON;"object"==typeof d&&d&&(e.stringify=d.stringify,e.parse=d.parse);var p=i.prototype,h=p.toString,y=p.hasOwnProperty;function v(t,e){try{t()}catch(t){e&&e()}}var g=new o(-0xc782b5b800cec);function m(t){if(null!=m[t])return m[t];var i;if("bug-string-char-index"==t)i="a"!="a"[0];else if("json"==t)i=m("json-stringify")&&m("date-serialization")&&m("json-parse");else if("date-serialization"==t){if(i=m("json-stringify")&&g){var s=e.stringify;v((function(){i='"-271821-04-20T00:00:00.000Z"'==s(new o(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==s(new o(864e13))&&'"-000001-01-01T00:00:00.000Z"'==s(new o(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==s(new o(-1))}))}}else{var a,c='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var u="function"==typeof(s=e.stringify);u&&((a=function(){return 1}).toJSON=a,v((function(){u="0"===s(0)&&"0"===s(new n)&&'""'==s(new r)&&void 0===s(h)&&void 0===s(void 0)&&void 0===s()&&"1"===s(a)&&"[1]"==s([a])&&"[null]"==s([void 0])&&"null"==s(null)&&"[null,null,null]"==s([void 0,h,null])&&s({a:[a,!0,!1,null,"\0\b\n\f\r\t"]})==c&&"1"===s(null,a)&&"[\n 1,\n 2\n]"==s([1,2],null,1)}),(function(){u=!1}))),i=u}if("json-parse"==t){var l,f=e.parse;"function"==typeof f&&v((function(){0!==f("0")||f(!1)||(a=f(c),(l=5==a.a.length&&1===a.a[0])&&(v((function(){l=!f('"\t"')})),l&&v((function(){l=1!==f("01")})),l&&v((function(){l=1!==f("1.")}))))}),(function(){l=!1})),i=l}}return m[t]=!!i}if(v((function(){g=-109252==g.getUTCFullYear()&&0===g.getUTCMonth()&&1===g.getUTCDate()&&10==g.getUTCHours()&&37==g.getUTCMinutes()&&6==g.getUTCSeconds()&&708==g.getUTCMilliseconds()})),m["bug-string-char-index"]=m["date-serialization"]=m.json=m["json-stringify"]=m["json-parse"]=null,!m("json")){var b=m("bug-string-char-index"),_=function(t,e){var n,r,i,o=0;for(i in(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n)y.call(r,i)&&o++;return n=r=null,o?_=function(t,e){var n,r,i="[object Function]"==h.call(t);for(n in t)i&&"prototype"==n||!y.call(t,n)||(r="constructor"===n)||e(n);(r||y.call(t,n="constructor"))&&e(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],_=function(t,e){var n,i,o="[object Function]"==h.call(t),a=!o&&"function"!=typeof t.constructor&&s[typeof t.hasOwnProperty]&&t.hasOwnProperty||y;for(n in t)o&&"prototype"==n||!a.call(t,n)||e(n);for(i=r.length;n=r[--i];)a.call(t,n)&&e(n)}),_(t,e)};if(!m("json-stringify")&&!m("date-serialization")){var w={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},I=function(t,e){return("000000"+(e||0)).slice(-t)},E=function(t){var e,n,r,i,o,s,a,c,u;if(g)e=function(t){n=t.getUTCFullYear(),r=t.getUTCMonth(),i=t.getUTCDate(),s=t.getUTCHours(),a=t.getUTCMinutes(),c=t.getUTCSeconds(),u=t.getUTCMilliseconds()};else{var l=f.floor,d=[0,31,59,90,120,151,181,212,243,273,304,334],p=function(t,e){return d[e]+365*(t-1970)+l((t-1969+(e=+(e>1)))/4)-l((t-1901+e)/100)+l((t-1601+e)/400)};e=function(t){for(i=l(t/864e5),n=l(i/365.2425)+1970-1;p(n+1,0)<=i;n++);for(r=l((i-p(n,0))/30.42);p(n,r+1)<=i;r++);i=1+i-p(n,r),s=l((o=(t%864e5+864e5)%864e5)/36e5)%24,a=l(o/6e4)%60,c=l(o/1e3)%60,u=o%1e3}}return(E=function(t){return t>-1/0&&t<1/0?(e(t),t=(n<=0||n>=1e4?(n<0?"-":"+")+I(6,n<0?-n:n):I(4,n))+"-"+I(2,r+1)+"-"+I(2,i)+"T"+I(2,s)+":"+I(2,a)+":"+I(2,c)+"."+I(3,u)+"Z",n=r=i=s=a=c=u=null):t=null,t})(t)};if(m("json-stringify")&&!m("date-serialization")){function T(t){return E(this)}var O=e.stringify;e.stringify=function(t,e,n){var r=o.prototype.toJSON;o.prototype.toJSON=T;var i=O(t,e,n);return o.prototype.toJSON=r,i}}else{var j=function(t){var e=t.charCodeAt(0),n=w[e];return n||"\\u00"+I(2,e.toString(16))},C=/[\x00-\x1f\x22\x5c]/g,S=function(t){return C.lastIndex=0,'"'+(C.test(t)?t.replace(C,j):t)+'"'},k=function(t,e,n,r,i,s,a){var c,l,f,d,p,y,g,m,b;if(v((function(){c=e[t]})),"object"==typeof c&&c&&(c.getUTCFullYear&&"[object Date]"==h.call(c)&&c.toJSON===o.prototype.toJSON?c=E(c):"function"==typeof c.toJSON&&(c=c.toJSON(t))),n&&(c=n.call(e,t,c)),null==c)return void 0===c?c:"null";switch("object"==(l=typeof c)&&(f=h.call(c)),f||l){case"boolean":case"[object Boolean]":return""+c;case"number":case"[object Number]":return c>-1/0&&c<1/0?""+c:"null";case"string":case"[object String]":return S(""+c)}if("object"==typeof c){for(g=a.length;g--;)if(a[g]===c)throw u();if(a.push(c),d=[],m=s,s+=i,"[object Array]"==f){for(y=0,g=c.length;y<g;y++)p=k(y,c,n,r,i,s,a),d.push(void 0===p?"null":p);b=d.length?i?"[\n"+s+d.join(",\n"+s)+"\n"+m+"]":"["+d.join(",")+"]":"[]"}else _(r||c,(function(t){var e=k(t,c,n,r,i,s,a);void 0!==e&&d.push(S(t)+":"+(i?" ":"")+e)})),b=d.length?i?"{\n"+s+d.join(",\n"+s)+"\n"+m+"}":"{"+d.join(",")+"}":"{}";return a.pop(),b}};e.stringify=function(t,e,n){var r,i,o,a;if(s[typeof e]&&e)if("[object Function]"==(a=h.call(e)))i=e;else if("[object Array]"==a){o={};for(var c,u=0,l=e.length;u<l;)c=e[u++],"[object String]"!=(a=h.call(c))&&"[object Number]"!=a||(o[c]=1)}if(n)if("[object Number]"==(a=h.call(n))){if((n-=n%1)>0)for(n>10&&(n=10),r="";r.length<n;)r+=" "}else"[object String]"==a&&(r=n.length<=10?n:n.slice(0,10));return k("",((c={})[""]=t,c),i,o,r,"",[])}}}if(!m("json-parse")){var x,A,P=r.fromCharCode,D={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},N=function(){throw x=A=null,a()},M=function(){for(var t,e,n,r,i,o=A,s=o.length;x<s;)switch(i=o.charCodeAt(x)){case 9:case 10:case 13:case 32:x++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=b?o.charAt(x):o[x],x++,t;case 34:for(t="@",x++;x<s;)if((i=o.charCodeAt(x))<32)N();else if(92==i)switch(i=o.charCodeAt(++x)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=D[i],x++;break;case 117:for(e=++x,n=x+4;x<n;x++)(i=o.charCodeAt(x))>=48&&i<=57||i>=97&&i<=102||i>=65&&i<=70||N();t+=P("0x"+o.slice(e,x));break;default:N()}else{if(34==i)break;for(i=o.charCodeAt(x),e=x;i>=32&&92!=i&&34!=i;)i=o.charCodeAt(++x);t+=o.slice(e,x)}if(34==o.charCodeAt(x))return x++,t;N();default:if(e=x,45==i&&(r=!0,i=o.charCodeAt(++x)),i>=48&&i<=57){for(48==i&&((i=o.charCodeAt(x+1))>=48&&i<=57)&&N(),r=!1;x<s&&((i=o.charCodeAt(x))>=48&&i<=57);x++);if(46==o.charCodeAt(x)){for(n=++x;n<s&&!((i=o.charCodeAt(n))<48||i>57);n++);n==x&&N(),x=n}if(101==(i=o.charCodeAt(x))||69==i){for(43!=(i=o.charCodeAt(++x))&&45!=i||x++,n=x;n<s&&!((i=o.charCodeAt(n))<48||i>57);n++);n==x&&N(),x=n}return+o.slice(e,x)}r&&N();var a=o.slice(x,x+4);if("true"==a)return x+=4,!0;if("fals"==a&&101==o.charCodeAt(x+4))return x+=5,!1;if("null"==a)return x+=4,null;N()}return"$"},R=function(t){var e,n;if("$"==t&&N(),"string"==typeof t){if("@"==(b?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];"]"!=(t=M());)n?","==t?"]"==(t=M())&&N():N():n=!0,","==t&&N(),e.push(R(t));return e}if("{"==t){for(e={};"}"!=(t=M());)n?","==t?"}"==(t=M())&&N():N():n=!0,","!=t&&"string"==typeof t&&"@"==(b?t.charAt(0):t[0])&&":"==M()||N(),e[t.slice(1)]=R(M());return e}N()}return t},L=function(t,e,n){var r=F(t,e,n);void 0===r?delete t[e]:t[e]=r},F=function(t,e,n){var r,i=t[e];if("object"==typeof i&&i)if("[object Array]"==h.call(i))for(r=i.length;r--;)L(h,_,i);else _(i,(function(t){L(i,t,n)}));return n.call(t,e,i)};e.parse=function(t,e){var n,r;return x=0,A=""+t,n=R(M()),"$"!=M()&&N(),x=A=null,e&&"[object Function]"==h.call(e)?F(((r={})[""]=n,r),"",e):n}}}return e.runInContext=l,e}if(!u||u.global!==u&&u.window!==u&&u.self!==u||(c=u),a&&!o)l(c,a);else{var f=c.JSON,d=c.JSON3,p=!1,h=l(c,c.JSON3={noConflict:function(){return p||(p=!0,c.JSON=f,c.JSON3=d,f=d=null),h}});c.JSON={parse:h.parse,stringify:h.stringify}}o&&(void 0===(i=function(){return h}.call(e,n,e,t))||(t.exports=i))}).call(this)}).call(this,n(115)(t),n(5))},function(t,e,n){"use strict";t.exports=function(t){if(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)return!0;var e=t.which,n=t.button;return e||void 0===n?2===e:1&!n&&2&!n&&4&n}},function(t,e,n){"use strict";var r=n(113)("analytics.js:normalize"),i=n(60),o=n(67),s=n(83),a=n(70),c=n(79),u=n(169).v4,l=n(114),f=n(171).hash,d=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=a((function(t){return t.toLowerCase()}),e),h=t.options||{},y=h.integrations||{},v=h.providers||{},g=h.context||{},m={};return r("<-",t),o((function(t,e){b(e)&&(d.call(y,e)||(y[e]=t),delete h[e])}),h),delete h.providers,o((function(t,e){b(e)&&"object"!==c(y[e])&&(d.call(y,e)&&"boolean"==typeof v[e]||(y[e]=t))}),v),o((function(t,e){s(e,p)?m[e]=h[e]:g[e]=h[e]}),h),t.messageId="ajs-"+f(l.stringify(t)+u()),delete t.options,m.integrations=y,m.context=g,m=i(m,t),r("->",m),m;function b(t){return!(!s(t,e)&&"all"!==t.toLowerCase()&&!s(t.toLowerCase(),n))}};var p=["integrations","anonymousId","timestamp","context"]},function(t,e,n){for(var r=n(170),i=[],o={},s=0;s<256;s++)i[s]=(s+256).toString(16).substr(1),o[i[s]]=s;function a(t,e){var n=e||0,r=i;return r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]}var c=r(),u=[1|c[0],c[1],c[2],c[3],c[4],c[5]],l=16383&(c[6]<<8|c[7]),f=0,d=0;function p(t,e,n){var i=e&&n||0;"string"==typeof t&&(e="binary"==t?new Array(16):null,t=null);var o=(t=t||{}).random||(t.rng||r)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e)for(var s=0;s<16;s++)e[i+s]=o[s];return e||a(o)}var h=p;h.v1=function(t,e,n){var r=e&&n||0,i=e||[],o=void 0!==(t=t||{}).clockseq?t.clockseq:l,s=void 0!==t.msecs?t.msecs:(new Date).getTime(),c=void 0!==t.nsecs?t.nsecs:d+1,p=s-f+(c-d)/1e4;if(p<0&&void 0===t.clockseq&&(o=o+1&16383),(p<0||s>f)&&void 0===t.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");f=s,d=c,l=o;var h=(1e4*(268435455&(s+=122192928e5))+c)%4294967296;i[r++]=h>>>24&255,i[r++]=h>>>16&255,i[r++]=h>>>8&255,i[r++]=255&h;var y=s/4294967296*1e4&268435455;i[r++]=y>>>8&255,i[r++]=255&y,i[r++]=y>>>24&15|16,i[r++]=y>>>16&255,i[r++]=o>>>8|128,i[r++]=255&o;for(var v=t.node||u,g=0;g<6;g++)i[r+g]=v[g];return e||a(i)},h.v4=p,h.parse=function(t,e,n){var r=e&&n||0,i=0;for(e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,(function(t){i<16&&(e[r+i++]=o[t])}));i<16;)e[r+i++]=0;return e},h.unparse=a,t.exports=h},function(t,e,n){(function(e){var n,r=e.crypto||e.msCrypto;if(r&&r.getRandomValues){var i=new Uint8Array(16);n=function(){return r.getRandomValues(i),i}}if(!n){var o=new Array(16);n=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}t.exports=n}).call(this,n(5))},function(t,e,n){t.exports=function(t){"use strict";var e=function(t,e){return t+e&4294967295},n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function r(t,n,r,i,o,s){return n=e(e(n,t),e(i,s)),e(n<<o|n>>>32-o,r)}function i(t,e,n,i,o,s,a){return r(e&n|~e&i,t,e,o,s,a)}function o(t,e,n,i,o,s,a){return r(e&i|n&~i,t,e,o,s,a)}function s(t,e,n,i,o,s,a){return r(e^n^i,t,e,o,s,a)}function a(t,e,n,i,o,s,a){return r(n^(e|~i),t,e,o,s,a)}function c(t,n){var r=t[0],c=t[1],u=t[2],l=t[3];r=i(r,c,u,l,n[0],7,-680876936),l=i(l,r,c,u,n[1],12,-389564586),u=i(u,l,r,c,n[2],17,606105819),c=i(c,u,l,r,n[3],22,-1044525330),r=i(r,c,u,l,n[4],7,-176418897),l=i(l,r,c,u,n[5],12,1200080426),u=i(u,l,r,c,n[6],17,-1473231341),c=i(c,u,l,r,n[7],22,-45705983),r=i(r,c,u,l,n[8],7,1770035416),l=i(l,r,c,u,n[9],12,-1958414417),u=i(u,l,r,c,n[10],17,-42063),c=i(c,u,l,r,n[11],22,-1990404162),r=i(r,c,u,l,n[12],7,1804603682),l=i(l,r,c,u,n[13],12,-40341101),u=i(u,l,r,c,n[14],17,-1502002290),r=o(r,c=i(c,u,l,r,n[15],22,1236535329),u,l,n[1],5,-165796510),l=o(l,r,c,u,n[6],9,-1069501632),u=o(u,l,r,c,n[11],14,643717713),c=o(c,u,l,r,n[0],20,-373897302),r=o(r,c,u,l,n[5],5,-701558691),l=o(l,r,c,u,n[10],9,38016083),u=o(u,l,r,c,n[15],14,-660478335),c=o(c,u,l,r,n[4],20,-405537848),r=o(r,c,u,l,n[9],5,568446438),l=o(l,r,c,u,n[14],9,-1019803690),u=o(u,l,r,c,n[3],14,-187363961),c=o(c,u,l,r,n[8],20,1163531501),r=o(r,c,u,l,n[13],5,-1444681467),l=o(l,r,c,u,n[2],9,-51403784),u=o(u,l,r,c,n[7],14,1735328473),r=s(r,c=o(c,u,l,r,n[12],20,-1926607734),u,l,n[5],4,-378558),l=s(l,r,c,u,n[8],11,-2022574463),u=s(u,l,r,c,n[11],16,1839030562),c=s(c,u,l,r,n[14],23,-35309556),r=s(r,c,u,l,n[1],4,-1530992060),l=s(l,r,c,u,n[4],11,1272893353),u=s(u,l,r,c,n[7],16,-155497632),c=s(c,u,l,r,n[10],23,-1094730640),r=s(r,c,u,l,n[13],4,681279174),l=s(l,r,c,u,n[0],11,-358537222),u=s(u,l,r,c,n[3],16,-722521979),c=s(c,u,l,r,n[6],23,76029189),r=s(r,c,u,l,n[9],4,-640364487),l=s(l,r,c,u,n[12],11,-421815835),u=s(u,l,r,c,n[15],16,530742520),r=a(r,c=s(c,u,l,r,n[2],23,-995338651),u,l,n[0],6,-198630844),l=a(l,r,c,u,n[7],10,1126891415),u=a(u,l,r,c,n[14],15,-1416354905),c=a(c,u,l,r,n[5],21,-57434055),r=a(r,c,u,l,n[12],6,1700485571),l=a(l,r,c,u,n[3],10,-1894986606),u=a(u,l,r,c,n[10],15,-1051523),c=a(c,u,l,r,n[1],21,-2054922799),r=a(r,c,u,l,n[8],6,1873313359),l=a(l,r,c,u,n[15],10,-30611744),u=a(u,l,r,c,n[6],15,-1560198380),c=a(c,u,l,r,n[13],21,1309151649),r=a(r,c,u,l,n[4],6,-145523070),l=a(l,r,c,u,n[11],10,-1120210379),u=a(u,l,r,c,n[2],15,718787259),c=a(c,u,l,r,n[9],21,-343485551),t[0]=e(r,t[0]),t[1]=e(c,t[1]),t[2]=e(u,t[2]),t[3]=e(l,t[3])}function u(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}function l(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24);return n}function f(t){var e,n,r,i,o,s,a=t.length,l=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=a;e+=64)c(l,u(t.substring(e-64,e)));for(n=(t=t.substring(e-64)).length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<n;e+=1)r[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(c(l,r),e=0;e<16;e+=1)r[e]=0;return i=(i=8*a).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(i[2],16),s=parseInt(i[1],16)||0,r[14]=o,r[15]=s,c(l,r),l}function d(t){var e,r="";for(e=0;e<4;e+=1)r+=n[t>>8*e+4&15]+n[t>>8*e&15];return r}function p(t){var e;for(e=0;e<t.length;e+=1)t[e]=d(t[e]);return t.join("")}function h(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t}function y(t){var e,n=[],r=t.length;for(e=0;e<r-1;e+=2)n.push(parseInt(t.substr(e,2),16));return String.fromCharCode.apply(String,n)}function v(){this.reset()}return"5d41402abc4b2a76b9719d911017c592"!==p(f("hello"))&&(e=function(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function e(t,e){return(t=0|t||0)<0?Math.max(t+e,0):Math.min(t,e)}ArrayBuffer.prototype.slice=function(n,r){var i,o,s,a,c=this.byteLength,u=e(n,c),l=c;return r!==t&&(l=e(r,c)),u>l?new ArrayBuffer(0):(i=l-u,o=new ArrayBuffer(i),s=new Uint8Array(o),a=new Uint8Array(this,u,i),s.set(a),o)}}(),v.prototype.append=function(t){return this.appendBinary(h(t)),this},v.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var e,n=this._buff.length;for(e=64;e<=n;e+=64)c(this._hash,u(this._buff.substring(e-64,e)));return this._buff=this._buff.substring(e-64),this},v.prototype.end=function(t){var e,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<i;e+=1)o[e>>2]|=r.charCodeAt(e)<<(e%4<<3);return this._finish(o,i),n=p(this._hash),t&&(n=y(n)),this.reset(),n},v.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},v.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},v.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},v.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},v.prototype._finish=function(t,e){var n,r,i,o=e;if(t[o>>2]|=128<<(o%4<<3),o>55)for(c(this._hash,t),o=0;o<16;o+=1)t[o]=0;n=(n=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(n[2],16),i=parseInt(n[1],16)||0,t[14]=r,t[15]=i,c(this._hash,t)},v.hash=function(t,e){return v.hashBinary(h(t),e)},v.hashBinary=function(t,e){var n=p(f(t));return e?y(n):n},v.ArrayBuffer=function(){this.reset()},v.ArrayBuffer.prototype.append=function(t){var e,n,r,i,o,s=(n=this._buff.buffer,r=t,i=!0,(o=new Uint8Array(n.byteLength+r.byteLength)).set(new Uint8Array(n)),o.set(new Uint8Array(r),n.byteLength),i?o:o.buffer),a=s.length;for(this._length+=t.byteLength,e=64;e<=a;e+=64)c(this._hash,l(s.subarray(e-64,e)));return this._buff=e-64<a?new Uint8Array(s.buffer.slice(e-64)):new Uint8Array(0),this},v.ArrayBuffer.prototype.end=function(t){var e,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<i;e+=1)o[e>>2]|=r[e]<<(e%4<<3);return this._finish(o,i),n=p(this._hash),t&&(n=y(n)),this.reset(),n},v.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},v.ArrayBuffer.prototype.getState=function(){var t,e=v.prototype.getState.call(this);return e.buff=(t=e.buff,String.fromCharCode.apply(null,new Uint8Array(t))),e},v.ArrayBuffer.prototype.setState=function(t){return t.buff=function(t,e){var n,r=t.length,i=new ArrayBuffer(r),o=new Uint8Array(i);for(n=0;n<r;n+=1)o[n]=t.charCodeAt(n);return e?o:i}(t.buff,!0),v.prototype.setState.call(this,t)},v.ArrayBuffer.prototype.destroy=v.prototype.destroy,v.ArrayBuffer.prototype._finish=v.prototype._finish,v.ArrayBuffer.hash=function(t,e){var n=p(function(t){var e,n,r,i,o,s,a=t.length,u=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=a;e+=64)c(u,l(t.subarray(e-64,e)));for(t=e-64<a?t.subarray(e-64):new Uint8Array(0),n=t.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<n;e+=1)r[e>>2]|=t[e]<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(c(u,r),e=0;e<16;e+=1)r[e]=0;return i=(i=8*a).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(i[2],16),s=parseInt(i[1],16)||0,r[14]=o,r[15]=s,c(u,r),u}(new Uint8Array(t)));return e?y(n):n},v}()},function(t,e){var n=window.addEventListener?"addEventListener":"attachEvent",r=window.removeEventListener?"removeEventListener":"detachEvent",i="addEventListener"!==n?"on":"";e.bind=function(t,e,r,o){return t[n](i+e,r,o||!1),r},e.unbind=function(t,e,n,o){return t[r](i+e,n,o||!1),n}},function(t,e,n){"use strict";var r=n(174),i=n(83),o=n(118);function s(){var t=r();return t?o.parse(t).pathname:window.location.pathname}function a(t){var e=r();if(e)return i("?",e)?e:e+t;var n=window.location.href,o=n.indexOf("#");return-1===o?n:n.slice(0,o)}t.exports=function(){return{path:s(),referrer:document.referrer,search:location.search,title:document.title,url:a(location.search)}}},function(t,e,n){"use strict";t.exports=function(){for(var t,e=document.getElementsByTagName("link"),n=0;t=e[n];n++)if("canonical"===t.getAttribute("rel"))return t.getAttribute("href")}},function(t,e,n){"use strict";var r=Object.prototype.toString,i=function(t){return"string"==typeof t||"[object String]"===r.call(t)};t.exports=function(t,e){if(null==e||!function(t){return null!=t&&"object"==typeof t}(e))return{};i(t)&&(t=[t]),function(t){return"[object Array]"===r.call(t)}(t)||(t=[]);for(var n={},o=0;o<t.length;o+=1)i(t[o])&&t[o]in e&&(n[t[o]]=e[t[o]]);return n}},function(t,e,n){"use strict";t.exports=function(t){return(t=t||window.event).preventDefault?t.preventDefault():t.returnValue=!1}},function(t,e,n){var r=n(178),i=n(179),o=/(\w+)\[(\d+)\]/,s=function(t){try{return encodeURIComponent(t)}catch(e){return t}},a=function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}};e.parse=function(t){if("string"!=typeof t)return{};if(""==(t=r(t)))return{};"?"==t.charAt(0)&&(t=t.slice(1));for(var e={},n=t.split("&"),i=0;i<n.length;i++){var s,c=n[i].split("="),u=a(c[0]);(s=o.exec(u))?(e[s[1]]=e[s[1]]||[],e[s[1]][s[2]]=a(c[1])):e[c[0]]=null==c[1]?"":a(c[1])}return e},e.stringify=function(t){if(!t)return"";var e=[];for(var n in t){var r=t[n];if("array"!=i(r))e.push(s(n)+"="+s(t[n]));else for(var o=0;o<r.length;++o)e.push(s(n+"["+o+"]")+"="+s(r[o]))}return e.join("&")}},function(t,e){(e=t.exports=function(t){return t.trim?t.trim():e.right(e.left(t))}).left=function(t){return t.trimLeft?t.trimLeft():t.replace(/^\s\s*/,"")},e.right=function(t){if(t.trimRight)return t.trimRight();for(var e=/\s/,n=t.length;e.test(t.charAt(--n)););return t.slice(0,n+1)}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){switch(n.call(t)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===t?"null":void 0===t?"undefined":t!=t?"nan":t&&1===t.nodeType?"element":typeof(t=t.valueOf?t.valueOf():Object.prototype.valueOf.apply(t))}},function(t,e,n){"use strict";var r=n(161),i=n(107),o=n(106),s=n(113)("analytics:user"),a=n(129),c=n(109),u=n(169),l=n(164);function f(t){this.defaults=f.defaults,this.debug=s,r.call(this,t)}f.defaults={persist:!0,cookie:{key:"ajs_user_id",oldKey:"ajs_user"},localStorage:{key:"ajs_user_traits"}},a(f,r),f.prototype.id=function(t){var e=this._getId(),n=r.prototype.id.apply(this,arguments);return null==e||e!=t&&t&&this.anonymousId(null),n},f.prototype.anonymousId=function(t){var e=this.storage();return arguments.length?(e.set("ajs_anonymous_id",t),this._setAnonymousIdInLocalStorage(t),this):(t=e.get("ajs_anonymous_id"))?(this._setAnonymousIdInLocalStorage(t),e.set("ajs_anonymous_id",t),t):!this._options.localStorageFallbackDisabled&&(t=l.get("ajs_anonymous_id"))?(e.set("ajs_anonymous_id",t),t):(t=c("_sio"))?(t=t.split("----")[0],e.set("ajs_anonymous_id",t),this._setAnonymousIdInLocalStorage(t),e.remove("_sio"),t):(t=u.v4(),e.set("ajs_anonymous_id",t),this._setAnonymousIdInLocalStorage(t),e.get("ajs_anonymous_id"))},f.prototype._setAnonymousIdInLocalStorage=function(t){this._options.localStorageFallbackDisabled||l.set("ajs_anonymous_id",t)},f.prototype.logout=function(){r.prototype.logout.call(this),this.anonymousId(null)},f.prototype.load=function(){this._loadOldCookie()||r.prototype.load.call(this)},f.prototype._loadOldCookie=function(){var t=o.get(this._options.cookie.oldKey);return!!t&&(this.id(t.id),this.traits(t.traits),o.remove(this._options.cookie.oldKey),!0)},t.exports=i(new f),t.exports.User=f},function(t,e,n){const r=n(162),i=n(68),o=n(182),s=n(55),a=n(183),c=n(154),u=n(117),l=n(184),f=n(185),d=n(109),p=n(186),h=n(171).hash,y=n(187).v4,v=n(192),g=n(194).default,m=n(196).default,b=n(204).default,_={maxage:31536e6,secure:"https:"===window.location.protocol,path:"/"},w=s("Segment.io").option("apiKey","").option("apiScheme","https").option("apiHost","api.segment.io/v1").option("crossDomainIdServers",[]).option("retryQueue",!0).option("retryQueuePrefix","awc").option("addBundledMetadata",!1).option("unbundledIntegrations",[]).option("retryQueueOptions",{maxRetryDelay:6e4,minRetryDelay:1e3,backoffFactor:2,maxAttempts:10,maxItems:100}).option("requestTimeout",1e4);function I(t){return t.split(".").splice(-2).join(".")}function E(t,e,n){!function(t,e){const n=new XMLHttpRequest;n.open("GET",t,!0),n.withCredentials=!0,n.onreadystatechange=function(){n.readyState===XMLHttpRequest.DONE&&(n.status>=200&&n.status<300?e(null,n.responseText?p.parse(n.responseText):null):e(n.statusText||"Unknown Error",null))},n.send()}(`https://${t}/v1/id/${e}`,(e,r)=>{e?n(e,null):n(null,{domain:t,id:r&&r.id||null})})}e=w,t.exports=w,e.storage=function(){return"file:"===a()||"chrome-extension:"===a()?v:d},e.global=window,e.sendJsonWithTimeout=function(t,e,n,r,i){if("xhr"!==c.type)return void c(t,e,n,i);const o=new XMLHttpRequest;o.onerror=i,o.onreadystatechange=function(){4===o.readyState&&(429===o.status||0===o.status||o.status>=500&&o.status<600?i(new Error(`HTTP Error ${o.status} (${0===o.status?"Network error":o.statusText})`)):i(null,o))},o.withCredentials=!0,o.open("POST",t,!0),o.timeout=r,o.ontimeout=i,Object.entries(n).forEach(([t,e])=>{o.setRequestHeader(t,e)}),o.send(p.stringify(e))},w.prototype.attachXid=function(t,e){if(e&&e instanceof Function){if(t&&t.msg&&t.msg.properties&&["screen","ui","operational","track"].indexOf(t.msg.properties.eventType)>-1){const n=e();n&&Array.isArray(n)&&(t.msg.properties.xid=n)}if(t&&t.msg&&t.msg.traits&&t.msg.traits.userIdType&&"identify"===t.msg.type){const n=e();n&&Array.isArray(n)&&(t.msg.traits.xid=n)}}return t},w.prototype.attachXids=function(t){return this._xidPromiseCallback?this._xidPromiseCallback.then(e=>Array.isArray(t)?t.map(t=>this.attachXid(t,e)):this.attachXid(t,e)).catch(()=>t):t},w.prototype.proccessBatchItems=function(t,e){const n=this,r=this.metrics.getMetricsPayload(),i=this._lsqueue.getGlobalRetryCount(),o=t=>{const o=(new Date).toISOString(),s=t.map(t=>(t.msg.sentAt=o,t.msg)),a={};Object.entries(r).forEach(([t,e])=>{0!==e&&(a[t]=e)}),i&&(a.httpRetryCount=i);const c={batch:s,sentAt:o,metadata:a},u=`${this.options.apiScheme}://${this.options.apiHost}/batch`;return w.sendJsonWithTimeout(u,c,{"Content-Type":"text/plain"},this.options.requestTimeout,(t,i)=>(n.debug("sent %O, received %O",c,[t,i]),t?e(t):(this.metrics.subtractFromMetrics(r),e(null,i))))};return this._xidPromiseCallback?this.attachXids(t).then(t=>{o(t)}):o(t)},w.prototype.initialize=function(){const t=this;this.options.retryQueue&&(this._lsqueue=new g(this.options.retryQueuePrefix,this.options.retryQueueOptions,this.proccessBatchItems.bind(this)),this._lsqueue.start()),this.options.xidPromiseGetter&&(this._xidPromiseCallback=this.options.xidPromiseGetter()),this.metrics=m(),this.ready(),this.analytics.on("invoke",e=>{const n=e.action(),r="on"+e.action();t.debug("%s %o",n,e),t[r]&&t[r](e),t.ready()}),this.cookie("segment_cross_domain_id")&&(this.cookie("seg_xid",this.cookie("segment_cross_domain_id")),this.cookie("seg_xid_fd",this.cookie("segment_cross_domain_id_from_domain")),this.cookie("seg_xid_ts",this.cookie("segment_cross_domain_id_timestamp")),this.cookie("segment_cross_domain_id",null),this.cookie("segment_cross_domain_id_from_domain",null),this.cookie("segment_cross_domain_id_timestamp",null)),this.options.crossDomainIdServers&&this.options.crossDomainIdServers.length>0&&this.retrieveCrossDomainId(),b(this.options.retryQueuePrefix)},w.prototype.loaded=function(){return!0},w.prototype.onpage=function(t){this.enqueue("/p",t.json())},w.prototype.onidentify=function(t){this.enqueue("/i",t.json())},w.prototype.ongroup=function(t){this.enqueue("/g",t.json())},w.prototype.ontrack=function(t){const e=t.json();delete e.traits,this.enqueue("/t",e)},w.prototype.onalias=function(t){const e=t.json(),n=this.analytics.user();e.previousId=e.previousId||e.from||n.id()||n.anonymousId(),e.userId=e.userId||e.to,delete e.from,delete e.to,this.enqueue("/a",e)},w.prototype.normalize=function(t){this.debug("normalize %o",t);const n=this.analytics.user(),{global:r}=e,o=r.location.search;t.context=t.context||t.options||{};const s=t.context;delete t.options,t.writeKey=this.options.apiKey,s.userAgent=navigator.userAgent,s.library||(s.library={name:"analytics.js",version:this.analytics.VERSION});const a=this.cookie("seg_xid");a&&(s.traits?s.traits.crossDomainId||(s.traits.crossDomainId=a):s.traits={crossDomainId:a}),o&&!s.campaign&&(s.campaign=l(o)),this.referrerId(o,s),t.userId=t.userId||n.id(),t.anonymousId=n.anonymousId(),t.sentAt=new Date;const c=this.analytics.failedInitializations||[];if(c.length>0&&(t._metadata={failedInitializations:c}),this.options.addBundledMetadata){const e=i(this.analytics.Integrations);t._metadata=t._metadata||{},t._metadata.bundled=e,t._metadata.unbundled=this.options.unbundledIntegrations}return t.messageId="ajs-"+h(p.stringify(t)+y()),this.debug("normalized %o",t),this.ampId(s),t},w.prototype.ampId=function(t){const e=this.cookie("segment_amp_id");e&&(t.amp={id:e})},w.prototype.enqueue=function(t,e,n){const r=`${this.options.apiScheme}://${this.options.apiHost}${t}`,i={"Content-Type":"text/plain"},o=this.normalize(e);p.stringify(o).length>32e3&&this.debug("message must be less than 32kb %O",o),this.debug("enqueueing %O",o);const s=this;this.options.retryQueue?this._lsqueue.addItem({url:r,headers:i,msg:o}):c(r,o,i,(t,e)=>{if(s.debug("sent %O, received %O",o,[t,e]),n){if(t)return n(t);n(null,e)}})},w.prototype.cookie=function(t,n){const r=w.storage();if(1===arguments.length)return r(t);const{global:i}=e,{href:o}=i.location;let s="."+u(o);"."===s&&(s=""),this.debug("store domain %s -> %s",o,s);const a=f(_);a.domain=s,this.debug("store %s, %s, %o",t,n,a),r(t,n,a),r(t)||(delete a.domain,this.debug("fallback store %s, %s, %o",t,n,a),r(t,n,a))},w.prototype.referrerId=function(t,e){let n,i=this.cookie("s:context.referrer");i&&(i=p.parse(i)),t&&(n=o(t)),n=n||i,n&&(e.referrer=r(e.referrer||{},n),this.cookie("s:context.referrer",p.stringify(n)))},w.prototype.retrieveCrossDomainId=function(t){if(this.options.crossDomainIdServers){if(!this.cookie("seg_xid")){const e=this,n=this.options.apiKey,r=I(window.location.hostname),i=[];this.options.crossDomainIdServers.forEach(t=>{I(t)!==r&&i.push(t)}),function(t,e,n){0===t.length&&n(null,null);let r=!1,i=0,o=null;t.forEach(s=>{E(s,e,(e,s)=>{i++,e?o=e:s&&s.id&&!r&&(r=!0,n(null,s)),i!==t.length||r||n(o,null)})})}(i,n,(n,r)=>{if(n)return void(t&&t(n,null));let i=null,o=null;r?(i=r.id,o=r.domain):(i=y(),o=window.location.hostname);const s=(new Date).getTime();e.cookie("seg_xid",i),e.cookie("seg_xid_fd",o),e.cookie("seg_xid_ts",s),e.analytics.identify({crossDomainId:i}),t&&t(null,{crossDomainId:i,fromDomain:o,timestamp:s})})}}else t&&t("crossDomainId not enabled",null)}},function(t,e,n){"use strict";var r=n(177).parse,i={btid:"dataxu",urid:"millennial-media"};t.exports=function(t){var e=r(t);for(var n in e)if(e.hasOwnProperty(n))for(var o in i)if(i.hasOwnProperty(o)&&n===o)return{id:e[n],type:i[o]}}},function(t,e,n){"use strict";var r,i=Object.defineProperty,o=window.location.protocol;function s(){return r||window.location.protocol}function a(t){try{i(window.location,"protocol",{get:function(){return t}})}catch(e){r=t}}t.exports=function(t){return 0===arguments.length?s():a(t)},t.exports.http=function(){a("http:")},t.exports.https=function(){a("https:")},t.exports.reset=function(){a(o)}},function(t,e,n){"use strict";var r=n(71),i=n(177).parse,o=Object.prototype.hasOwnProperty;function s(t){var e;"?"===t.charAt(0)&&(t=t.substring(1)),t=t.replace(/\?/g,"&");var n=i(t),r={};for(var s in n)o.call(n,s)&&"utm_"===s.substr(0,4)&&("campaign"===(e=s.substr(4))&&(e="name"),r[e]=n[s]);return r}var a={name:!0,term:!0,source:!0,medium:!0,content:!0};t.exports=s,t.exports.strict=function(t){return r((function(t,e,n){return o.call(a,n)&&(t[n]=e),t}),{},s(t))}},function(t,e,n){var r;try{r=n(79)}catch(t){r=n(79)}t.exports=function t(e){switch(r(e)){case"object":var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=t(e[i]));return n;case"array":n=new Array(e.length);for(var o=0,s=e.length;o<s;o++)n[o]=t(e[o]);return n;case"regexp":var a="";return a+=e.multiline?"m":"",a+=e.global?"g":"",a+=e.ignoreCase?"i":"",new RegExp(e.source,a);case"date":return new Date(e.getTime());default:return e}}},function(t,e,n){(function(t,r){var i;/*! JSON v3.3.2 | http://bestiejs.github.io/json3 | Copyright 2012-2014, Kit Cambridge | http://kit.mit-license.org */(function(){var o=n(116),s={function:!0,object:!0},a=s[typeof e]&&e&&!e.nodeType&&e,c=s[typeof window]&&window||this,u=a&&s[typeof t]&&t&&!t.nodeType&&"object"==typeof r&&r;function l(t,e){t||(t=c.Object()),e||(e=c.Object());var n=t.Number||c.Number,r=t.String||c.String,i=t.Object||c.Object,o=t.Date||c.Date,a=t.SyntaxError||c.SyntaxError,u=t.TypeError||c.TypeError,f=t.Math||c.Math,d=t.JSON||c.JSON;"object"==typeof d&&d&&(e.stringify=d.stringify,e.parse=d.parse);var p,h,y=i.prototype,v=y.toString,g=new o(-0xc782b5b800cec);try{g=-109252==g.getUTCFullYear()&&0===g.getUTCMonth()&&1===g.getUTCDate()&&10==g.getUTCHours()&&37==g.getUTCMinutes()&&6==g.getUTCSeconds()&&708==g.getUTCMilliseconds()}catch(t){}function m(t){if(void 0!==m[t])return m[t];var i;if("bug-string-char-index"==t)i="a"!="a"[0];else if("json"==t)i=m("json-stringify")&&m("json-parse");else{var s,a='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var c=e.stringify,u="function"==typeof c&&g;if(u){(s=function(){return 1}).toJSON=s;try{u="0"===c(0)&&"0"===c(new n)&&'""'==c(new r)&&void 0===c(v)&&void 0===c(void 0)&&void 0===c()&&"1"===c(s)&&"[1]"==c([s])&&"[null]"==c([void 0])&&"null"==c(null)&&"[null,null,null]"==c([void 0,v,null])&&c({a:[s,!0,!1,null,"\0\b\n\f\r\t"]})==a&&"1"===c(null,s)&&"[\n 1,\n 2\n]"==c([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==c(new o(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==c(new o(864e13))&&'"-000001-01-01T00:00:00.000Z"'==c(new o(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==c(new o(-1))}catch(t){u=!1}}i=u}if("json-parse"==t){var l=e.parse;if("function"==typeof l)try{if(0===l("0")&&!l(!1)){var f=5==(s=l(a)).a.length&&1===s.a[0];if(f){try{f=!l('"\t"')}catch(t){}if(f)try{f=1!==l("01")}catch(t){}if(f)try{f=1!==l("1.")}catch(t){}}}}catch(t){f=!1}i=f}}return m[t]=!!i}if(!m("json")){var b=m("bug-string-char-index");if(!g)var _=f.floor,w=[0,31,59,90,120,151,181,212,243,273,304,334],I=function(t,e){return w[e]+365*(t-1970)+_((t-1969+(e=+(e>1)))/4)-_((t-1901+e)/100)+_((t-1601+e)/400)};if((p=y.hasOwnProperty)||(p=function(t){var e,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=v?p=function(t){var e=this.__proto__,n=t in(this.__proto__=null,this);return this.__proto__=e,n}:(e=n.constructor,p=function(t){var n=(this.constructor||e).prototype;return t in this&&!(t in n&&this[t]===n[t])}),n=null,p.call(this,t)}),h=function(t,e){var n,r,i,o=0;for(i in(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n)p.call(r,i)&&o++;return n=r=null,o?h=2==o?function(t,e){var n,r={},i="[object Function]"==v.call(t);for(n in t)i&&"prototype"==n||p.call(r,n)||!(r[n]=1)||!p.call(t,n)||e(n)}:function(t,e){var n,r,i="[object Function]"==v.call(t);for(n in t)i&&"prototype"==n||!p.call(t,n)||(r="constructor"===n)||e(n);(r||p.call(t,n="constructor"))&&e(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],h=function(t,e){var n,i,o="[object Function]"==v.call(t),a=!o&&"function"!=typeof t.constructor&&s[typeof t.hasOwnProperty]&&t.hasOwnProperty||p;for(n in t)o&&"prototype"==n||!a.call(t,n)||e(n);for(i=r.length;n=r[--i];a.call(t,n)&&e(n));}),h(t,e)},!m("json-stringify")){var E={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},T=function(t,e){return("000000"+(e||0)).slice(-t)},O=function(t){for(var e='"',n=0,r=t.length,i=!b||r>10,o=i&&(b?t.split(""):t);n<r;n++){var s=t.charCodeAt(n);switch(s){case 8:case 9:case 10:case 12:case 13:case 34:case 92:e+=E[s];break;default:if(s<32){e+="\\u00"+T(2,s.toString(16));break}e+=i?o[n]:t.charAt(n)}}return e+'"'},j=function(t,e,n,r,i,o,s){var a,c,l,f,d,y,g,m,b,w,E,C,S,k,x,A;try{a=e[t]}catch(t){}if("object"==typeof a&&a)if("[object Date]"!=(c=v.call(a))||p.call(a,"toJSON"))"function"==typeof a.toJSON&&("[object Number]"!=c&&"[object String]"!=c&&"[object Array]"!=c||p.call(a,"toJSON"))&&(a=a.toJSON(t));else if(a>-1/0&&a<1/0){if(I){for(d=_(a/864e5),l=_(d/365.2425)+1970-1;I(l+1,0)<=d;l++);for(f=_((d-I(l,0))/30.42);I(l,f+1)<=d;f++);d=1+d-I(l,f),g=_((y=(a%864e5+864e5)%864e5)/36e5)%24,m=_(y/6e4)%60,b=_(y/1e3)%60,w=y%1e3}else l=a.getUTCFullYear(),f=a.getUTCMonth(),d=a.getUTCDate(),g=a.getUTCHours(),m=a.getUTCMinutes(),b=a.getUTCSeconds(),w=a.getUTCMilliseconds();a=(l<=0||l>=1e4?(l<0?"-":"+")+T(6,l<0?-l:l):T(4,l))+"-"+T(2,f+1)+"-"+T(2,d)+"T"+T(2,g)+":"+T(2,m)+":"+T(2,b)+"."+T(3,w)+"Z"}else a=null;if(n&&(a=n.call(e,t,a)),null===a)return"null";if("[object Boolean]"==(c=v.call(a)))return""+a;if("[object Number]"==c)return a>-1/0&&a<1/0?""+a:"null";if("[object String]"==c)return O(""+a);if("object"==typeof a){for(k=s.length;k--;)if(s[k]===a)throw u();if(s.push(a),E=[],x=o,o+=i,"[object Array]"==c){for(S=0,k=a.length;S<k;S++)C=j(S,a,n,r,i,o,s),E.push(void 0===C?"null":C);A=E.length?i?"[\n"+o+E.join(",\n"+o)+"\n"+x+"]":"["+E.join(",")+"]":"[]"}else h(r||a,(function(t){var e=j(t,a,n,r,i,o,s);void 0!==e&&E.push(O(t)+":"+(i?" ":"")+e)})),A=E.length?i?"{\n"+o+E.join(",\n"+o)+"\n"+x+"}":"{"+E.join(",")+"}":"{}";return s.pop(),A}};e.stringify=function(t,e,n){var r,i,o,a;if(s[typeof e]&&e)if("[object Function]"==(a=v.call(e)))i=e;else if("[object Array]"==a){o={};for(var c,u=0,l=e.length;u<l;c=e[u++],("[object String]"==(a=v.call(c))||"[object Number]"==a)&&(o[c]=1));}if(n)if("[object Number]"==(a=v.call(n))){if((n-=n%1)>0)for(r="",n>10&&(n=10);r.length<n;r+=" ");}else"[object String]"==a&&(r=n.length<=10?n:n.slice(0,10));return j("",((c={})[""]=t,c),i,o,r,"",[])}}if(!m("json-parse")){var C,S,k=r.fromCharCode,x={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},A=function(){throw C=S=null,a()},P=function(){for(var t,e,n,r,i,o=S,s=o.length;C<s;)switch(i=o.charCodeAt(C)){case 9:case 10:case 13:case 32:C++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=b?o.charAt(C):o[C],C++,t;case 34:for(t="@",C++;C<s;)if((i=o.charCodeAt(C))<32)A();else if(92==i)switch(i=o.charCodeAt(++C)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=x[i],C++;break;case 117:for(e=++C,n=C+4;C<n;C++)(i=o.charCodeAt(C))>=48&&i<=57||i>=97&&i<=102||i>=65&&i<=70||A();t+=k("0x"+o.slice(e,C));break;default:A()}else{if(34==i)break;for(i=o.charCodeAt(C),e=C;i>=32&&92!=i&&34!=i;)i=o.charCodeAt(++C);t+=o.slice(e,C)}if(34==o.charCodeAt(C))return C++,t;A();default:if(e=C,45==i&&(r=!0,i=o.charCodeAt(++C)),i>=48&&i<=57){for(48==i&&((i=o.charCodeAt(C+1))>=48&&i<=57)&&A(),r=!1;C<s&&((i=o.charCodeAt(C))>=48&&i<=57);C++);if(46==o.charCodeAt(C)){for(n=++C;n<s&&((i=o.charCodeAt(n))>=48&&i<=57);n++);n==C&&A(),C=n}if(101==(i=o.charCodeAt(C))||69==i){for(43!=(i=o.charCodeAt(++C))&&45!=i||C++,n=C;n<s&&((i=o.charCodeAt(n))>=48&&i<=57);n++);n==C&&A(),C=n}return+o.slice(e,C)}if(r&&A(),"true"==o.slice(C,C+4))return C+=4,!0;if("false"==o.slice(C,C+5))return C+=5,!1;if("null"==o.slice(C,C+4))return C+=4,null;A()}return"$"},D=function(t){var e,n;if("$"==t&&A(),"string"==typeof t){if("@"==(b?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];"]"!=(t=P());n||(n=!0))n&&(","==t?"]"==(t=P())&&A():A()),","==t&&A(),e.push(D(t));return e}if("{"==t){for(e={};"}"!=(t=P());n||(n=!0))n&&(","==t?"}"==(t=P())&&A():A()),","!=t&&"string"==typeof t&&"@"==(b?t.charAt(0):t[0])&&":"==P()||A(),e[t.slice(1)]=D(P());return e}A()}return t},N=function(t,e,n){var r=M(t,e,n);void 0===r?delete t[e]:t[e]=r},M=function(t,e,n){var r,i=t[e];if("object"==typeof i&&i)if("[object Array]"==v.call(i))for(r=i.length;r--;)N(i,r,n);else h(i,(function(t){N(i,t,n)}));return n.call(t,e,i)};e.parse=function(t,e){var n,r;return C=0,S=""+t,n=D(P()),"$"!=P()&&A(),C=S=null,e&&"[object Function]"==v.call(e)?M(((r={})[""]=n,r),"",e):n}}}return e.runInContext=l,e}if(!u||u.global!==u&&u.window!==u&&u.self!==u||(c=u),a&&!o)l(c,a);else{var f=c.JSON,d=c.JSON3,p=!1,h=l(c,c.JSON3={noConflict:function(){return p||(p=!0,c.JSON=f,c.JSON3=d,f=d=null),h}});c.JSON={parse:h.parse,stringify:h.stringify}}o&&(void 0===(i=function(){return h}.call(e,n,e,t))||(t.exports=i))}).call(this)}).call(this,n(115)(t),n(5))},function(t,e,n){var r=n(188),i=n(191),o=i;o.v1=r,o.v4=i,t.exports=o},function(t,e,n){var r,i,o=n(189),s=n(190),a=0,c=0;t.exports=function(t,e,n){var u=e&&n||0,l=e||[],f=(t=t||{}).node||r,d=void 0!==t.clockseq?t.clockseq:i;if(null==f||null==d){var p=o();null==f&&(f=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=i=16383&(p[6]<<8|p[7]))}var h=void 0!==t.msecs?t.msecs:(new Date).getTime(),y=void 0!==t.nsecs?t.nsecs:c+1,v=h-a+(y-c)/1e4;if(v<0&&void 0===t.clockseq&&(d=d+1&16383),(v<0||h>a)&&void 0===t.nsecs&&(y=0),y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=h,c=y,i=d;var g=(1e4*(268435455&(h+=122192928e5))+y)%4294967296;l[u++]=g>>>24&255,l[u++]=g>>>16&255,l[u++]=g>>>8&255,l[u++]=255&g;var m=h/4294967296*1e4&268435455;l[u++]=m>>>8&255,l[u++]=255&m,l[u++]=m>>>24&15|16,l[u++]=m>>>16&255,l[u++]=d>>>8|128,l[u++]=255&d;for(var b=0;b<6;++b)l[u+b]=f[b];return e||s(l)}},function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);t.exports=function(){return n(r),r}}else{var i=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i}}},function(t,e){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);t.exports=function(t,e){var r=e||0,i=n;return[i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]]].join("")}},function(t,e,n){var r=n(189),i=n(190);t.exports=function(t,e,n){var o=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var s=(t=t||{}).random||(t.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e)for(var a=0;a<16;++a)e[o+a]=s[a];return e||i(s)}},function(t,e,n){var r,i=n(193),o=n(137);try{r=window.localStorage}catch(t){r=null}function s(t,e){var n=arguments.length;return 0==n?u():2<=n?a(t,e):1==n?null==t?r.clear():"string"==typeof t?c(t):"object"==typeof t?o(t,a):void 0:void 0}function a(t,e){return null==e?r.removeItem(t):r.setItem(t,JSON.stringify(e))}function c(t){return i(r.getItem(t))}function u(){for(var t,e=r.length,n={};0<=--e;)n[t=r.key(e)]=c(t);return n}t.exports=s,s.supported=!!r},function(t,e){t.exports=function(t){try{return JSON.parse(t)}catch(e){return t||void 0}}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return d}));var r=n(2),i=n.n(r),o=n(195),s=n(196),a=n(197);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const l=n(198),f={minRetryDelay:1,maxRetryDelay:1,backoffFactor:1,backoffJitter:0};class d{constructor(t,e,n){this.start=()=>{this.queue.start()},this.getGlobalRetryCount=()=>this.scheduler.getFailureCount(),this._flush=t=>{if(0!==this.currentBatch.length){const e=this.currentBatch.splice(0,this.flushBatchSize),n=e.map(t=>t.item);n.forEach(t=>{t.msg&&t.msg._metadata&&t.msg.messageId&&this.messageFailedAttemptCounter[t.msg.messageId]&&(t.msg._metadata.failedAttempts=this.messageFailedAttemptCounter[t.msg.messageId])});const r=n.map(t=>t.msg.messageId);this.batchProcessFunc(n,(i,o)=>{this.duplicateEventDetector.done(i,n),e.forEach(t=>t.done(i,o)),t(i),i?this._incrementMessageIdCounters(r):this._resetMessageIdCounters(r),this.currentBatch.length>0&&this._schedule()})}else t()},this._incrementMessageIdCounters=t=>{t.forEach(t=>{this.messageFailedAttemptCounter[t]?this.messageFailedAttemptCounter[t]+=1:this.messageFailedAttemptCounter[t]=1})},this._resetMessageIdCounters=t=>{t.forEach(t=>delete this.messageFailedAttemptCounter[t])},this._onDiscardedEvent=t=>{this.metrics.addToItemsDiscardedByRetryCounter(),delete this.messageFailedAttemptCounter[t.msg.messageId]},this._onOverflowEvent=t=>{this.metrics.addToItemsDiscardedByOverflowCounter(),delete this.messageFailedAttemptCounter[t.msg.messageId]},this._onLocalstorageDuplicateEvent=t=>{this.metrics.addToLocalstorageDuplicateCount(),delete this.messageFailedAttemptCounter[t.msg.messageId]},this._schedule=()=>{this.scheduler.schedule({immediate:this.currentBatch.length>=this.flushBatchSize})},this._processSingleElement=(t,e)=>{if(this.duplicateEventDetector.hasEventBeenSeen(t))return e(),void this.metrics.addToDuplicateEventCounter();this.duplicateEventDetector.addItem(t),this.currentBatch.push({item:t,done:e}),this.currentBatch.length>this.maxQueueSize&&this.currentBatch.splice(0,this.currentBatch.length-this.maxQueueSize),this._schedule()},this.addItem=t=>{this.queue.addItem(t),this.metrics.addToEventCount()},this.stop=()=>{this.scheduler.stop(),this.queue.stop()},this.on=(t,e)=>this.queue.on(t,e),this.maxQueueSize=e.maxItems||500,this.queue=new l(t,u(u({},e),f),this._processSingleElement),this.flushBatchSize=e.batchFlushSize||7,this.batchProcessFunc=n,this.duplicateEventDetector=new o.default,this.currentBatch=[],this.scheduler=new a.default(u(u({},e),{},{waitInterval:e.flushWaitMs}),this._flush),this.metrics=Object(s.default)(),this.queue.on("discard",this._onDiscardedEvent),this.queue.on("overflow",this._onOverflowEvent),this.queue.on("duplication",this._onLocalstorageDuplicateEvent),this.messageFailedAttemptCounter={}}}},function(t,e,n){"use strict";n.r(e),n.d(e,"MAX_EVENTID_LENGTH",(function(){return r})),n.d(e,"default",(function(){return i}));const r=100;class i{constructor(){this.addItem=t=>this.inProgressEventIds.add(t.msg.messageId),this.done=(t,e)=>{const n=e.map(t=>t.msg.messageId);t||(this.pastEventIds.push(...n),this.pastEventIds.length>r&&this.pastEventIds.splice(0,this.pastEventIds.length-r)),n.forEach(t=>this.inProgressEventIds.delete(t))},this.hasEventBeenSeen=t=>this.pastEventIds.indexOf(t.msg.messageId)>=0||this.inProgressEventIds.has(t.msg.messageId),this.pastEventIds=[],this.inProgressEventIds=new Set}}},function(t,e,n){"use strict";n.r(e),n.d(e,"MetricsCollector",(function(){return r}));class r{constructor(){this.itemsDiscardedByRetry=0,this.duplicateEventCount=0,this.eventCount=0,this.localstorageDuplicateCount=0,this.itemsDiscardedByOverflow=0,this.resilienceMechanism="@segment/localstorage-retry"}addToItemsDiscardedByRetryCounter(){this.itemsDiscardedByRetry++}addToDuplicateEventCounter(){this.duplicateEventCount++}addToEventCount(){this.eventCount++}addToLocalstorageDuplicateCount(){this.localstorageDuplicateCount++}addToItemsDiscardedByOverflowCounter(){this.itemsDiscardedByOverflow++}subtractFromMetrics(t){this.itemsDiscardedByRetry=Math.max(this.itemsDiscardedByRetry-t.itemsDiscardedByRetry,0),this.duplicateEventCount=Math.max(this.duplicateEventCount-t.duplicateEventCount,0),this.eventCount=Math.max(this.eventCount-t.eventCount,0),this.localstorageDuplicateCount=Math.max(this.localstorageDuplicateCount-t.localstorageDuplicateCount,0),this.itemsDiscardedByOverflow=Math.max(this.itemsDiscardedByOverflow-t.itemsDiscardedByOverflow,0)}getMetricsPayload(){return{itemsDiscardedByRetry:this.itemsDiscardedByRetry,duplicateEventCount:this.duplicateEventCount,eventCount:this.eventCount,localstorageDuplicateCount:this.localstorageDuplicateCount,itemsDiscardedByOverflow:this.itemsDiscardedByOverflow,resilienceMechanism:this.resilienceMechanism}}}let i=null;e.default=()=>(i||(i=new r),i)},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return f}));const r=1e3,i=3e4,o=2,s=0,a=500,c="none",u="immediate",l="wait";class f{constructor(t,e){this.schedule=({immediate:t}={immediate:!1})=>{this.operationInFlight?t?this.queuedSchedule=u:this.queuedSchedule!==u&&(this.queuedSchedule=l):t&&0===this.failureCount?(this._clearTimeout(),this._run()):this.failureCount>0&&null===this.scheduledTimeout?this.scheduledTimeout=window.setTimeout(this._run,this._calculateBackoff()):null===this.scheduledTimeout&&(this.scheduledTimeout=window.setTimeout(this._run,this.options.waitInterval))},this.stop=()=>{this._clearTimeout(),this.queuedSchedule=c},this.getFailureCount=()=>this.failureCount,this._clearTimeout=()=>{null!==this.scheduledTimeout&&(window.clearTimeout(this.scheduledTimeout),this.scheduledTimeout=null)},this._run=()=>{this.operationInFlight=!0,this._clearTimeout();try{this.callback(this._done)}catch(t){this._done(t)}},this._done=t=>{this.operationInFlight=!1,t?(this.failureCount++,this._clearTimeout()):this.failureCount=0,this._processQueuedSchedule()},this._processQueuedSchedule=()=>{if(this.queuedSchedule!==c){const t=this.queuedSchedule===u;this.queuedSchedule=c,this.schedule({immediate:t})}},this._calculateBackoff=()=>{const{minRetryDelay:t,maxRetryDelay:e,backoffFactor:n,backoffJitter:r}=this.options;let i=t*n**this.failureCount;if(r){const t=Math.random(),e=Math.floor(t*r*i);Math.floor(10*t)<5?i-=e:i+=e}return Number(Math.min(i,e).toPrecision(1))},this.options={minRetryDelay:t.minRetryDelay||r,maxRetryDelay:t.maxRetryDelay||i,backoffFactor:t.backoffFactor||o,backoffJitter:t.backoffJitter||s,waitInterval:t.waitInterval||a},this.scheduledTimeout=null,this.failureCount=0,this.callback=e,this.operationInFlight=!1,this.queuedSchedule=c}}},function(t,e,n){"use strict";var r=n(199).v4,i=n(200),o=n(67),s=n(202),a=n(203)("localstorage-retry");function c(t,e){return function(){return t.apply(e,arguments)}}function u(t,e,n){"function"==typeof e&&(n=e),this.name=t,this.id=r(),this.fn=n,this.maxItems=e.maxItems||1/0,this.maxAttempts=e.maxAttempts||1/0,this.backoff={MIN_RETRY_DELAY:e.minRetryDelay||1e3,MAX_RETRY_DELAY:e.maxRetryDelay||3e4,FACTOR:e.backoffFactor||2,JITTER:e.backoffJitter||0},this.timeouts={ACK_TIMER:1e3,RECLAIM_TIMER:3e3,RECLAIM_TIMEOUT:1e4,RECLAIM_WAIT:500},this.keys={IN_PROGRESS:"inProgress",QUEUE:"queue",RECLAIM_START:"reclaimStart",RECLAIM_END:"reclaimEnd",ACK:"ack"},this._schedule=new s,this._processId=0,this._store=new i(this.name,this.id,this.keys),this._store.set(this.keys.IN_PROGRESS,{}),this._store.set(this.keys.QUEUE,[]),this._ack=c(this._ack,this),this._checkReclaim=c(this._checkReclaim,this),this._processHead=c(this._processHead,this),this._running=!1}n(151)(u.prototype),u.prototype.start=function(){this._running&&this.stop(),this._running=!0,this._ack(),this._checkReclaim(),this._processHead()},u.prototype.stop=function(){this._schedule.cancelAll(),this._running=!1},u.prototype.shouldRetry=function(t,e){return!(e>this.maxAttempts)},u.prototype.getDelay=function(t){var e=this.backoff.MIN_RETRY_DELAY*Math.pow(this.backoff.FACTOR,t);if(this.backoff.JITTER){var n=Math.random(),r=Math.floor(n*this.backoff.JITTER*e);Math.floor(10*n)<5?e-=r:e+=r}return Number(Math.min(e,this.backoff.MAX_RETRY_DELAY).toPrecision(1))},u.prototype.addItem=function(t){this._enqueue({item:t,attemptNumber:0,time:this._schedule.now(),id:r()})},u.prototype.requeue=function(t,e,n,i){this.shouldRetry(t,e,n)?this._enqueue({item:t,attemptNumber:e,time:this._schedule.now()+this.getDelay(e),id:i||r()}):this.emit("discard",t,e)},u.prototype._enqueue=function(t){var e=this._store.get(this.keys.QUEUE)||[];(e=e.slice(-(this.maxItems-1))).push(t),e=e.sort((function(t,e){return t.time-e.time})),this._store.set(this.keys.QUEUE,e),this._running&&this._processHead()},u.prototype._processHead=function(){var t=this,e=this._store;this._schedule.cancel(this._processId);var n=e.get(this.keys.QUEUE)||[],i=e.get(this.keys.IN_PROGRESS)||{},c=this._schedule.now(),u=[];function l(n,r){u.push({item:n.item,done:function(i,o){var s=e.get(t.keys.IN_PROGRESS)||{};delete s[r],e.set(t.keys.IN_PROGRESS,s),t.emit("processed",i,o,n.item),i&&t.requeue(n.item,n.attemptNumber+1,i,n.id)}})}for(var f=Object.keys(i).length;n.length&&n[0].time<=c&&f++<t.maxItems;){var d=n.shift(),p=r();i[p]={item:d.item,attemptNumber:d.attemptNumber,time:t._schedule.now()},l(d,p)}e.set(this.keys.QUEUE,n),e.set(this.keys.IN_PROGRESS,i),o((function(e){try{t.fn(e.item,e.done)}catch(t){a("Process function threw error: "+t)}}),u),n=e.get(this.keys.QUEUE)||[],this._schedule.cancel(this._processId),n.length>0&&(this._processId=this._schedule.run(this._processHead,n[0].time-c,s.Modes.ASAP))},u.prototype._ack=function(){this._store.set(this.keys.ACK,this._schedule.now()),this._store.set(this.keys.RECLAIM_START,null),this._store.set(this.keys.RECLAIM_END,null),this._schedule.run(this._ack,this.timeouts.ACK_TIMER,s.Modes.ASAP)},u.prototype._checkReclaim=function(){var t=this;o((function(e){e.id!==t.id&&(t._schedule.now()-e.get(t.keys.ACK)<t.timeouts.RECLAIM_TIMEOUT||function(e){e.set(t.keys.RECLAIM_START,t.id),e.set(t.keys.ACK,t._schedule.now()),t._schedule.run((function(){e.get(t.keys.RECLAIM_START)===t.id&&(e.set(t.keys.RECLAIM_END,t.id),t._schedule.run((function(){e.get(t.keys.RECLAIM_END)===t.id&&e.get(t.keys.RECLAIM_START)===t.id&&t._reclaim(e.id)}),t.timeouts.RECLAIM_WAIT,s.Modes.ABANDON))}),t.timeouts.RECLAIM_WAIT,s.Modes.ABANDON)}(e))}),function(e){for(var n=[],r=t._store.getOriginalEngine(),o=0;o<r.length;o++){var s=r.key(o).split(".");3===s.length&&(s[0]===e&&"ack"===s[2]&&n.push(new i(e,s[1],t.keys)))}return n}(this.name)),this._schedule.run(this._checkReclaim,this.timeouts.RECLAIM_TIMER,s.Modes.RESCHEDULE)},u.prototype._reclaim=function(t){var e=this,n=new i(this.name,t,this.keys),s={queue:this._store.get(this.keys.QUEUE)||[]},a={inProgress:n.get(this.keys.IN_PROGRESS)||{},queue:n.get(this.keys.QUEUE)||[]},c=[],u=function(t,n){o((function(t){var i=t.id||r();c.indexOf(i)>=0?e.emit("duplication",t.item,t.attemptNumber):(s.queue.push({item:t.item,attemptNumber:t.attemptNumber+n,time:e._schedule.now(),id:i}),c.push(i))}),t)};u(a.queue,0),u(a.inProgress,1),s.queue=s.queue.sort((function(t,e){return t.time-e.time})),this._store.set(this.keys.QUEUE,s.queue),n.remove(this.keys.IN_PROGRESS),n.remove(this.keys.QUEUE),n.remove(this.keys.RECLAIM_START),n.remove(this.keys.RECLAIM_END),n.remove(this.keys.ACK),this._processHead()},t.exports=u},function(t,e,n){"use strict";n.r(e),n.d(e,"v4",(function(){return s}));for(var r,i=256,o=[];i--;)o[i]=(i+256).toString(16).substring(1);function s(){var t,e=0,n="";if(!r||i+16>256){for(r=Array(e=256);e--;)r[e]=256*Math.random()|0;e=i=0}for(;e<16;e++)t=r[i+e],n+=6==e?o[15&t|64]:8==e?o[63&t|128]:o[t],1&e&&e>1&&e<11&&(n+="-");return i++,n}},function(t,e,n){"use strict";var r=n(201).defaultEngine,i=n(201).inMemoryEngine,o=n(67),s=n(68),a=JSON;function c(t,e,n,i){this.id=e,this.name=t,this.keys=n||{},this.engine=i||r,this.originalEngine=this.engine}c.prototype.set=function(t,e){var n=this._createValidKey(t);if(n)try{this.engine.setItem(n,a.stringify(e))}catch(n){(function(t){var e=!1;if(t.code)switch(t.code){case 22:e=!0;break;case 1014:"NS_ERROR_DOM_QUOTA_REACHED"===t.name&&(e=!0)}else-2147024882===t.number&&(e=!0);return e})(n)&&(this._swapEngine(),this.set(t,e))}},c.prototype.get=function(t){try{var e=this.engine.getItem(this._createValidKey(t));return null===e?null:a.parse(e)}catch(t){return null}},c.prototype.getOriginalEngine=function(){return this.originalEngine},c.prototype.remove=function(t){this.engine.removeItem(this._createValidKey(t))},c.prototype._createValidKey=function(t){var e,n=this.name,r=this.id;return s(this.keys).length?(o((function(i){i===t&&(e=[n,r,t].join("."))}),this.keys),e):[n,r,t].join(".")},c.prototype._swapEngine=function(){var t=this;o((function(e){var n=t.get(e);i.setItem([t.name,t.id,e].join("."),n),t.remove(e)}),this.keys),this.engine=i},t.exports=c},function(t,e,n){"use strict";var r=n(68),i=n(187).v4,o={_data:{},length:0,setItem:function(t,e){return this._data[t]=e,this.length=r(this._data).length,e},getItem:function(t){return t in this._data?this._data[t]:null},removeItem:function(t){return t in this._data&&delete this._data[t],this.length=r(this._data).length,null},clear:function(){this._data={},this.length=0},key:function(t){return r(this._data)[t]}};t.exports.defaultEngine=function(){try{if(!window.localStorage)return!1;var t=i();window.localStorage.setItem(t,"test_value");var e=window.localStorage.getItem(t);return window.localStorage.removeItem(t),"test_value"===e}catch(t){return!1}}()?window.localStorage:o,t.exports.inMemoryEngine=o},function(t,e,n){"use strict";var r=n(67),i={setTimeout:function(t,e){return window.setTimeout(t,e)},clearTimeout:function(t){return window.clearTimeout(t)},Date:window.Date},o=i,s={ASAP:1,RESCHEDULE:2,ABANDON:3};function a(){this.tasks={},this.nextId=1}a.prototype.now=function(){return+new o.Date},a.prototype.run=function(t,e,n){var r=this.nextId++;return this.tasks[r]=o.setTimeout(this._handle(r,t,e,n||s.ASAP),e),r},a.prototype.cancel=function(t){this.tasks[t]&&(o.clearTimeout(this.tasks[t]),delete this.tasks[t])},a.prototype.cancelAll=function(){r(o.clearTimeout,this.tasks),this.tasks={}},a.prototype._handle=function(t,e,n,r){var i=this,o=i.now();return function(){if(delete i.tasks[t],!(r>=s.RESCHEDULE&&o+2*n<i.now()))return e();r===s.RESCHEDULE&&i.run(e,n,r)}},a.setClock=function(t){o=t},a.resetClock=function(){o=i},a.Modes=s,t.exports=a},function(t,e){function n(t){return n.enabled(t)?function(e){e=r(e);var i=new Date,o=i-(n[t]||i);n[t]=i,e=t+" "+e+" +"+n.humanize(o),window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}function r(t){return t instanceof Error?t.stack||t.message:t}t.exports=n,n.names=[],n.skips=[],n.enable=function(t){try{localStorage.debug=t}catch(t){}for(var e=(t||"").split(/[\s,]+/),r=e.length,i=0;i<r;i++)"-"===(t=e[i].replace("*",".*?"))[0]?n.skips.push(new RegExp("^"+t.substr(1)+"$")):n.names.push(new RegExp("^"+t+"$"))},n.disable=function(){n.enable("")},n.humanize=function(t){return t>=36e5?(t/36e5).toFixed(1)+"h":t>=6e4?(t/6e4).toFixed(1)+"m":t>=1e3?(t/1e3|0)+"s":t+"ms"},n.enabled=function(t){for(var e=0,r=n.skips.length;e<r;e++)if(n.skips[e].test(t))return!1;for(e=0,r=n.names.length;e<r;e++)if(n.names[e].test(t))return!0;return!1};try{window.localStorage&&n.enable(localStorage.debug)}catch(t){}},function(t,e,n){"use strict";n.r(e);const r={IN_PROGRESS:"inProgress",QUEUE:"queue",ACK:"ack",RECLAIM_START:"reclaimStart",RECLAIM_END:"reclaimEnd"},i=Object.values(r);e.default=t=>{if("string"==typeof t&&0!==t.length)try{const e=new Array(window.localStorage.length).fill("").map((t,e)=>window.localStorage.key(e)).filter(e=>e.startsWith(t+".")).map(t=>t.split(".")).filter(t=>3===t.length&&i.includes(t[2])).reduce((t,e)=>{const[,n,r]=e;return void 0===t[n]&&(t[n]={}),t[n][r]=!0,t},{});Object.keys(e).filter(t=>!0!==e[t][r.ACK]).forEach(e=>{localStorage.removeItem(`${t}.${e}.${r.IN_PROGRESS}`),localStorage.removeItem(`${t}.${e}.${r.QUEUE}`),localStorage.removeItem(`${t}.${e}.${r.RECLAIM_START}`),localStorage.removeItem(`${t}.${e}.${r.RECLAIM_END}`)})}catch(t){}}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return l}));var r=n(2),i=n.n(r),o=n(89);function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const c=n(206),u={initialPollInterval:5,pollBackoffRate:2,idleTimeout:30};class l{constructor(t,e,n,r){if(this.start=()=>{if(c.active)throw new Error("DwellTimeHelper should only be initialised once per page load.");this._initDwellTimeCounterAndPolling(),window.addEventListener("beforeunload",()=>{this.stop()})},this.stop=()=>{c.active&&this._sendDwellEvent(this._eventData,this._searchSessionId,!0),c.stopAllTimers(),c.resetAllRecordedPageTimes(),c.timeElapsedCallbacks=[]},this.newPage=(t,e)=>{Object(o.validateDwellBaseEvent)(t),this.stop(),this._eventData=t,this._searchSessionId=e,this._initDwellTimeCounterAndPolling()},this._initDwellTimeCounterAndPolling=()=>{c.initialize({idleTimeoutInSeconds:this._timing.idleTimeout}),this._pollDwellTime(this._timing.initialPollInterval,this._searchSessionId,this._eventData)},this._pollDwellTime=(t,e,n)=>{c.callAfterTimeElapsedInSeconds(t,()=>{this._sendDwellEvent(n,e,!1),this._pollDwellTime(t*this._timing.pollBackoffRate,e,n)})},this._sendDwellEvent=(t,e,n)=>{const r={dwellTime:c.getTimeOnCurrentPageInMilliseconds(),searchReferrer:e,finalDwellEvent:n};this._trackCallback({action:"dwelled",actionSubject:t.actionSubject,actionSubjectId:t.actionSubjectId,source:t.source,containerType:t.containerType,containerId:t.containerId,containers:t.containers,objectType:t.objectType,objectId:t.objectId,attributes:a(a({},r),t.attributes),tags:t.tags})},!t)throw new Error("trackCallback is required for DwellTimeHelper");Object(o.validateDwellBaseEvent)(e),this._trackCallback=t,this._eventData=e,this._searchSessionId=n,this._timing=a(a({},u),r)}}},function(t,e,n){var r;(function(){!function(n,i){if(t.exports)return t.exports=i();void 0===(r=function(){return n.TimeMe=i()}.apply(e,[]))||(t.exports=r)}(this,(function(){var t={startStopTimes:{},idleTimeoutMs:3e4,currentIdleTimeMs:0,checkStateRateMs:250,active:!1,idle:!1,currentPageName:"default-page-name",timeElapsedCallbacks:[],userLeftCallbacks:[],userReturnCallbacks:[],trackTimeOnElement:function(e){var n=document.getElementById(e);n&&(n.addEventListener("mouseover",(function(){t.startTimer(e)})),n.addEventListener("mousemove",(function(){t.startTimer(e)})),n.addEventListener("mouseleave",(function(){t.stopTimer(e)})),n.addEventListener("keypress",(function(){t.startTimer(e)})),n.addEventListener("focus",(function(){t.startTimer(e)})))},getTimeOnElementInSeconds:function(e){var n=t.getTimeOnPageInSeconds(e);return n||0},startTimer:function(e,n){if(e||(e=t.currentPageName),void 0===t.startStopTimes[e])t.startStopTimes[e]=[];else{var r=t.startStopTimes[e],i=r[r.length-1];if(void 0!==i&&void 0===i.stopTime)return}t.startStopTimes[e].push({startTime:n||new Date,stopTime:void 0}),t.active=!0,t.idle=!1},stopAllTimers:function(){for(var e=Object.keys(t.startStopTimes),n=0;n<e.length;n++)t.stopTimer(e[n])},stopTimer:function(e,n){e||(e=t.currentPageName);var r=t.startStopTimes[e];void 0!==r&&0!==r.length&&(void 0===r[r.length-1].stopTime&&(r[r.length-1].stopTime=n||new Date),t.active=!1)},getTimeOnCurrentPageInSeconds:function(){return t.getTimeOnPageInSeconds(t.currentPageName)},getTimeOnPageInSeconds:function(e){var n=t.getTimeOnPageInMilliseconds(e);return void 0===n?void 0:n/1e3},getTimeOnCurrentPageInMilliseconds:function(){return t.getTimeOnPageInMilliseconds(t.currentPageName)},getTimeOnPageInMilliseconds:function(e){var n=t.startStopTimes[e];if(void 0!==n){for(var r=0,i=0;i<n.length;i++){var o=n[i].startTime,s=n[i].stopTime;void 0===s&&(s=new Date),r+=s-o}return Number(r)}},getTimeOnAllPagesInSeconds:function(){for(var e=[],n=Object.keys(t.startStopTimes),r=0;r<n.length;r++){var i=n[r],o=t.getTimeOnPageInSeconds(i);e.push({pageName:i,timeOnPage:o})}return e},setIdleDurationInSeconds:function(e){var n=parseFloat(e);if(!1!==isNaN(n))throw{name:"InvalidDurationException",message:"An invalid duration time ("+e+") was provided."};return t.idleTimeoutMs=1e3*e,this},setCurrentPageName:function(e){return t.currentPageName=e,this},resetRecordedPageTime:function(e){delete t.startStopTimes[e]},resetAllRecordedPageTimes:function(){for(var e=Object.keys(t.startStopTimes),n=0;n<e.length;n++)t.resetRecordedPageTime(e[n])},resetIdleCountdown:function(){t.idle&&t.triggerUserHasReturned(),t.idle=!1,t.currentIdleTimeMs=0},callWhenUserLeaves:function(t,e){this.userLeftCallbacks.push({callback:t,numberOfTimesToInvoke:e})},callWhenUserReturns:function(t,e){this.userReturnCallbacks.push({callback:t,numberOfTimesToInvoke:e})},triggerUserHasReturned:function(){if(!t.active)for(var e=0;e<this.userReturnCallbacks.length;e++){var n=this.userReturnCallbacks[e],r=n.numberOfTimesToInvoke;(isNaN(r)||void 0===r||r>0)&&(n.numberOfTimesToInvoke-=1,n.callback())}t.startTimer()},triggerUserHasLeftPage:function(){if(t.active)for(var e=0;e<this.userLeftCallbacks.length;e++){var n=this.userLeftCallbacks[e],r=n.numberOfTimesToInvoke;(isNaN(r)||void 0===r||r>0)&&(n.numberOfTimesToInvoke-=1,n.callback())}t.stopAllTimers()},callAfterTimeElapsedInSeconds:function(e,n){t.timeElapsedCallbacks.push({timeInSeconds:e,callback:n,pending:!0})},checkState:function(){for(var e=0;e<t.timeElapsedCallbacks.length;e++)t.timeElapsedCallbacks[e].pending&&t.getTimeOnCurrentPageInSeconds()>t.timeElapsedCallbacks[e].timeInSeconds&&(t.timeElapsedCallbacks[e].callback(),t.timeElapsedCallbacks[e].pending=!1);!1===t.idle&&t.currentIdleTimeMs>t.idleTimeoutMs?(t.idle=!0,t.triggerUserHasLeftPage()):t.currentIdleTimeMs+=t.checkStateRateMs},visibilityChangeEventName:void 0,hiddenPropName:void 0,listenForVisibilityEvents:function(){void 0!==document.hidden?(t.hiddenPropName="hidden",t.visibilityChangeEventName="visibilitychange"):void 0!==document.mozHidden?(t.hiddenPropName="mozHidden",t.visibilityChangeEventName="mozvisibilitychange"):void 0!==document.msHidden?(t.hiddenPropName="msHidden",t.visibilityChangeEventName="msvisibilitychange"):void 0!==document.webkitHidden&&(t.hiddenPropName="webkitHidden",t.visibilityChangeEventName="webkitvisibilitychange"),document.addEventListener(t.visibilityChangeEventName,(function(){document[t.hiddenPropName]?t.triggerUserHasLeftPage():t.triggerUserHasReturned()}),!1),window.addEventListener("blur",(function(){t.triggerUserHasLeftPage()})),window.addEventListener("focus",(function(){t.triggerUserHasReturned()})),document.addEventListener("mousemove",(function(){t.resetIdleCountdown()})),document.addEventListener("keyup",(function(){t.resetIdleCountdown()})),document.addEventListener("touchstart",(function(){t.resetIdleCountdown()})),window.addEventListener("scroll",(function(){t.resetIdleCountdown()})),setInterval((function(){t.checkState()}),t.checkStateRateMs)},websocket:void 0,websocketHost:void 0,setUpWebsocket:function(e){if(window.WebSocket&&e){var n=e.websocketHost;try{t.websocket=new WebSocket(n),window.onbeforeunload=function(n){t.sendCurrentTime(e.appId)},t.websocket.onopen=function(){t.sendInitWsRequest(e.appId)},t.websocket.onerror=function(t){console&&console.log("Error occurred in websocket connection: "+t)},t.websocket.onmessage=function(t){console&&console.log(t.data)}}catch(t){console&&console.error("Failed to connect to websocket host.  Error:"+t)}}return this},websocketSend:function(e){t.websocket.send(JSON.stringify(e))},sendCurrentTime:function(e){var n={type:"INSERT_TIME",appId:e,timeOnPageMs:t.getTimeOnCurrentPageInMilliseconds(),pageName:t.currentPageName};t.websocketSend(n)},sendInitWsRequest:function(e){var n={type:"INIT",appId:e};t.websocketSend(n)},initialize:function(e){var n=t.idleTimeoutMs||30,r=t.currentPageName||"default-page-name",i=void 0,o=void 0;e&&(n=e.idleTimeoutInSeconds||n,r=e.currentPageName||r,i=e.websocketOptions,o=e.initialStartTime),t.setIdleDurationInSeconds(n).setCurrentPageName(r).setUpWebsocket(i).listenForVisibilityEvents(),t.startTimer(void 0,o)}};return t}))}).call(this)},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return l}));var r=n(2),i=n.n(r),o=n(208),s=n(89);function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const u={initialPollInterval:5e3,idleTimeout:3e4,multiplierCallback:t=>t+t};class l{constructor(t,e,n,r){if(this.start=()=>{this.browserInteractionTime.startTimer(),this.browserInteractionTime.addTimeIntervalEllapsedCallback({callback:t=>this._sendDwellEvent(this._eventData,this._searchSessionId,t,!1),timeInMilliseconds:this._timing.initialPollInterval,multiplier:this._timing.multiplierCallback}),window.addEventListener("beforeunload",this._onBeforeUnload)},this.stop=()=>{this.browserInteractionTime.isRunning()&&this._sendDwellEvent(this._eventData,this._searchSessionId,this.browserInteractionTime.getTimeInMilliseconds(),!0),this.browserInteractionTime.stopTimer()},this.newPage=(t,e)=>{Object(s.validateDwellBaseEvent)(t),this.stop(),this.browserInteractionTime.reset(),this.setEventData(t),this.setSearchSessionId(e),this.start()},this.setEventData=t=>{this._eventData=t},this.getEventData=()=>this._eventData,this.setSearchSessionId=t=>{this._searchSessionId=t},this.getSearchSessionId=()=>this._searchSessionId,this.destroy=()=>{this.browserInteractionTime.destroy(),window.removeEventListener("beforeunload",this._onBeforeUnload)},this._onBeforeUnload=()=>{this.stop(),this.destroy()},this._sendDwellEvent=(t,e,n,r)=>{const i={dwellTime:n,searchReferrer:e,finalDwellEvent:r};this._trackCallback({action:"dwelled",actionSubject:t.actionSubject,actionSubjectId:t.actionSubjectId,source:t.source,containerType:t.containerType,containerId:t.containerId,objectType:t.objectType,objectId:t.objectId,attributes:c(c({},i),t.attributes),tags:t.tags})},!t)throw new Error("trackCallback is required for DwellTimeHelper");Object(s.validateDwellBaseEvent)(e),this._trackCallback=t,this._eventData=e,this._searchSessionId=n,this._timing=c(c({},u),r),this.browserInteractionTime=new o.default({idleTimeoutMs:this._timing.idleTimeout,checkCallbacksIntervalMs:500})}}},function(t,e,n){"use strict";n.r(e),function(t){
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var n=function(){return(n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};var r=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},o="object"==typeof i&&i&&i.Object===Object&&i,s="object"==typeof self&&self&&self.Object===Object&&self,a=o||s||Function("return this")(),c=function(){return a.Date.now()},u=a.Symbol,l=Object.prototype,f=l.hasOwnProperty,d=l.toString,p=u?u.toStringTag:void 0;var h=function(t){var e=f.call(t,p),n=t[p];try{t[p]=void 0;var r=!0}catch(t){}var i=d.call(t);return r&&(e?t[p]=n:delete t[p]),i},y=Object.prototype.toString;var v=function(t){return y.call(t)},g=u?u.toStringTag:void 0;var m=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":g&&g in Object(t)?h(t):v(t)};var b=function(t){return null!=t&&"object"==typeof t};var _=function(t){return"symbol"==typeof t||b(t)&&"[object Symbol]"==m(t)},w=/^\s+|\s+$/g,I=/^[-+]0x[0-9a-f]+$/i,E=/^0b[01]+$/i,T=/^0o[0-7]+$/i,O=parseInt;var j=function(t){if("number"==typeof t)return t;if(_(t))return NaN;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(w,"");var n=E.test(t);return n||T.test(t)?O(t.slice(2),n?2:8):I.test(t)?NaN:+t},C=Math.max,S=Math.min;var k=function(t,e,n){var i,o,s,a,u,l,f=0,d=!1,p=!1,h=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function y(e){var n=i,r=o;return i=o=void 0,f=e,a=t.apply(r,n)}function v(t){return f=t,u=setTimeout(m,e),d?y(t):a}function g(t){var n=t-l;return void 0===l||n>=e||n<0||p&&t-f>=s}function m(){var t=c();if(g(t))return b(t);u=setTimeout(m,function(t){var n=e-(t-l);return p?S(n,s-(t-f)):n}(t))}function b(t){return u=void 0,h&&i?y(t):(i=o=void 0,a)}function _(){var t=c(),n=g(t);if(i=arguments,o=this,l=t,n){if(void 0===u)return v(l);if(p)return u=setTimeout(m,e),y(l)}return void 0===u&&(u=setTimeout(m,e)),a}return e=j(e)||0,r(n)&&(d=!!n.leading,s=(p="maxWait"in n)?C(j(n.maxWait)||0,e):s,h="trailing"in n?!!n.trailing:h),_.cancel=function(){void 0!==u&&clearTimeout(u),f=0,i=l=o=u=void 0},_.flush=function(){return void 0===u?a:b(c())},_};var x=function(t,e,n){var i=!0,o=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return r(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),k(t,e,{leading:i,maxWait:e,trailing:o})},A=["scroll","resize"],P=["wheel","keydown","keyup","mousedown","mousemove","touchstart","touchmove","click","contextmenu"],D=function(){function t(t){var e=t.timeIntervalEllapsedCallbacks,r=void 0===e?[]:e,i=t.absoluteTimeEllapsedCallbacks,o=void 0===i?[]:i,s=t.checkCallbacksIntervalMs,a=void 0===s?100:s,c=t.browserTabInactiveCallbacks,u=void 0===c?[]:c,l=t.idleCallbacks,f=void 0===l?[]:l,d=t.stopTimerOnTabchange,p=void 0===d||d,h=t.activeCallbacks,y=void 0===h?[]:h,v=t.browserTabActiveCallbacks,g=void 0===v?[]:v,m=t.idleTimeoutMs,b=void 0===m?3e3:m,_=this;this.onBrowserTabInactive=function(t){_.isRunning()&&_.stopTimerOnTabchange&&_.stopTimer(),_.browserTabInactiveCallbacks.forEach((function(t){return t(_.getTimeInMilliseconds())}))},this.onBrowserTabActive=function(t){_.isRunning()||_.startTimer(),_.browserTabActiveCallbacks.forEach((function(t){return t(_.getTimeInMilliseconds())}))},this.onTimePassed=function(){_.absoluteTimeEllapsedCallbacks.forEach((function(t,e){var n=t.callback,r=t.pending,i=t.timeInMilliseconds;r&&i<=_.getTimeInMilliseconds()&&(n(_.getTimeInMilliseconds()),_.absoluteTimeEllapsedCallbacks[e].pending=!1)})),_.timeIntervalEllapsedCallbacks.forEach((function(t,e){var n=t.callback,r=t.timeInMilliseconds,i=t.multiplier;r<=_.getTimeInMilliseconds()&&(n(_.getTimeInMilliseconds()),_.timeIntervalEllapsedCallbacks[e].timeInMilliseconds=i(r))})),_.currentIdleTimeMs>=_.idleTimeoutMs&&_.isRunning()?(_.idle=!0,_.stopTimer(),_.idleCallbacks.forEach((function(t){return t(_.getTimeInMilliseconds())}))):_.currentIdleTimeMs+=_.checkCallbacksIntervalMs},this.resetIdleTime=function(){_.idle&&_.startTimer(),_.activeCallbacks.forEach((function(t){return t(_.getTimeInMilliseconds())})),_.idle=!1,_.currentIdleTimeMs=0},this.registerEventListeners=function(){var t={passive:!0},e=n({},t,{capture:!0});window.addEventListener("blur",_.onBrowserTabInactive,e),window.addEventListener("focus",_.onBrowserTabActive,e);var r=x(_.resetIdleTime,2e3,{leading:!0,trailing:!1});A.forEach((function(t){window.addEventListener(t,r,e)})),P.forEach((function(e){return document.addEventListener(e,r,t)}))},this.unregisterEventListeners=function(){window.removeEventListener("blur",_.onBrowserTabInactive),window.removeEventListener("focus",_.onBrowserTabActive),A.forEach((function(t){return window.removeEventListener(t,_.resetIdleTime)})),P.forEach((function(t){return document.removeEventListener(t,_.resetIdleTime)}))},this.checkCallbacksOnInterval=function(){_.checkCallbackIntervalId=window.setInterval((function(){_.onTimePassed()}),_.checkCallbacksIntervalMs)},this.startTimer=function(){_.checkCallbackIntervalId||_.checkCallbacksOnInterval();var t=_.times[_.times.length-1];t&&null===t.stop||(_.times.push({start:performance.now(),stop:null}),_.running=!0)},this.stopTimer=function(){_.times.length&&(_.times[_.times.length-1].stop=performance.now(),_.running=!1)},this.addTimeIntervalEllapsedCallback=function(t){_.timeIntervalEllapsedCallbacks.push(t)},this.addAbsoluteTimeEllapsedCallback=function(t){_.absoluteTimeEllapsedCallbacks.push(t)},this.addBrowserTabInactiveCallback=function(t){_.browserTabInactiveCallbacks.push(t)},this.addBrowserTabActiveCallback=function(t){_.browserTabActiveCallbacks.push(t)},this.addIdleCallback=function(t){_.idleCallbacks.push(t)},this.addActiveCallback=function(t){_.activeCallbacks.push(t)},this.getTimeInMilliseconds=function(){return _.times.reduce((function(t,e){return e.stop?t+=e.stop-e.start:t+=performance.now()-e.start,t}),0)},this.isRunning=function(){return _.running},this.isIdle=function(){return _.idle},this.reset=function(){_.times=[]},this.destroy=function(){_.unregisterEventListeners(),_.checkCallbackIntervalId&&window.clearInterval(_.checkCallbackIntervalId)},this.running=!1,this.times=[],this.idle=!1,this.currentIdleTimeMs=0,this.marks={},this.measures={},this.stopTimerOnTabchange=p,this.browserTabActiveCallbacks=g,this.browserTabInactiveCallbacks=u,this.checkCallbacksIntervalMs=a,this.idleTimeoutMs=b,this.timeIntervalEllapsedCallbacks=r,this.absoluteTimeEllapsedCallbacks=o,this.idleCallbacks=f,this.activeCallbacks=y,this.registerEventListeners()}return t.prototype.mark=function(t){this.marks[t]||(this.marks[t]=[]),this.marks[t].push({time:this.getTimeInMilliseconds()})},t.prototype.getMarks=function(t){if(!(this.marks[t].length<1))return this.marks[t]},t.prototype.measure=function(t,e,n){var r=this.marks[e],i=r[r.length-1],o=this.marks[n],s=o[o.length-1];this.measures[t]||(this.measures[t]=[]),this.measures[t].push({name:t,startTime:i.time,duration:s.time-i.time})},t.prototype.getMeasures=function(t){if(this.measures[t]||!(this.measures[t].length<1))return this.measures[t]},t}();e.default=D}.call(this,n(5))},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return c}));var r=n(2),i=n.n(r);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){const r=s({action:t},n);return r.attributes=s(s({},e),r.attributes),r}class c{constructor(t,e){this._onEvent=t,this._baseEvent=e,this._searchStartedTime=null,this._lastQueryResultsTime=null,this._queryLength=null,this._baseEvent=s({},e)}search(t){if(!t&&""!==t)throw new Error("Missing query param");this._searchStartedTime=Date.now(),this._queryLength=(t||"").length}searched(t){if(!t)throw new Error("Missing results param");if(null===this._queryLength)throw new Error("search() must be called before searched().");const e=Date.now()-this._searchStartedTime;this._lastQueryResultsTime=Date.now(),this._lastResults=t;const n=a("searched",{responseTimeMs:e,queryLength:this._queryLength,results:t},this._baseEvent);this._onEvent(n)}selected(t){if(!t&&0!==t)throw new Error("Missing selectionIndex param");if(!this._lastQueryResultsTime)throw new Error("searched() must be called before selected().");const e=Date.now(),n=e-this._lastQueryResultsTime,r=e-this._searchStartedTime,i=this._lastResults[t],o=a("selected",{queryLength:this._queryLength,selectionIndex:t,selectionTimeMs:n,searchTimeMs:r,selectedResultValue:i},this._baseEvent);this._onEvent(o)}}}])}));}(globalRequire.define));